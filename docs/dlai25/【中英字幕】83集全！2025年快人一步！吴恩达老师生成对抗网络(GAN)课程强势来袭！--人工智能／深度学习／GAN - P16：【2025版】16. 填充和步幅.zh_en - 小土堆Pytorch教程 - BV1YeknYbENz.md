# P16：【2025版】16. 填充和步幅.zh_en - 小土堆Pytorch教程 - BV1YeknYbENz

卷积是简单的操作，用于在图像的不同区域检测特征，在这段视频之前，我展示了如何将这种简单的卷积应用到图像上，接下来，我将向你展示一些调整卷积操作的方法。



![](img/2d726c6cf38a18b87e60fdc97328f64e_1.png)

我将回顾什么是填充和步幅。

![](img/2d726c6cf38a18b87e60fdc97328f64e_3.png)

我将与你分享关于卷积填充使用的一些直觉，所以，取这个来自前一个例子的灰度图像。

![](img/2d726c6cf38a18b87e60fdc97328f64e_5.png)

当你将这个3x3卷积滤波器应用到它上时。

![](img/2d726c6cf38a18b87e60fdc97328f64e_7.png)

你首先计算滤波器与图像顶部左角3x3部分的元素级乘积，你首先计算滤波器与图像顶部左角3x3部分的元素级乘积。



![](img/2d726c6cf38a18b87e60fdc97328f64e_9.png)

然后你向右移动一个像素，进入相同的计算集。

![](img/2d726c6cf38a18b87e60fdc97328f64e_11.png)

然后重新移动滤镜，向右移动一个像素，然后你向下移动一个像素，从左边开始。

![](img/2d726c6cf38a18b87e60fdc97328f64e_13.png)

直到你到达终点，向右移动一个像素。

![](img/2d726c6cf38a18b87e60fdc97328f64e_15.png)

向右移动一个像素，向下移动一个像素被称为使用步长1。

![](img/2d726c6cf38a18b87e60fdc97328f64e_17.png)

所以你每次移动一个像素，步长为1。

![](img/2d726c6cf38a18b87e60fdc97328f64e_19.png)

向右移动的步长不必与向下移动相同。

![](img/2d726c6cf38a18b87e60fdc97328f64e_21.png)

与向下移动相比，所以你的步长可以是向右2个像素，向下4个像素。

![](img/2d726c6cf38a18b87e60fdc97328f64e_23.png)

例如，你的步幅越大，你的视频被覆盖的部分就越少，你将为你的滤镜节省更多的空间。

![](img/2d726c6cf38a18b87e60fdc97328f64e_25.png)

但同时这会使计算速度更快，所以这绝对是一个权衡。

![](img/2d726c6cf38a18b87e60fdc97328f64e_27.png)

所以步幅为2意味着每次你向右走两步。

![](img/2d726c6cf38a18b87e60fdc97328f64e_29.png)

所以你的滤镜从这里开始，仍然在左上角，但现在每次向右移动两个像素。

![](img/2d726c6cf38a18b87e60fdc97328f64e_31.png)

然后因为它是上下两个方向。

![](img/2d726c6cf38a18b87e60fdc97328f64e_33.png)

所以你在那里向下移动两个像素，所以你只做一次计算。

![](img/2d726c6cf38a18b87e60fdc97328f64e_35.png)

所以这更快，正如你所见，步幅决定了过滤器访问图像多少部分。

![](img/2d726c6cf38a18b87e60fdc97328f64e_37.png)

在这个情况下，卷积的结果现在是一个更小的2x2矩阵。

![](img/2d726c6cf38a18b87e60fdc97328f64e_39.png)

因为你访问了四个3x3部分中的过滤器，两个在上两个在下。

![](img/2d726c6cf38a18b87e60fdc97328f64e_41.png)

填充是基本卷积的另一种调整，所以看这个3x3的图像和2x2的过滤器，这里的像素值并不重要，所以我已经把它们放在外面了，当你计算步幅为一的卷积时，在这种情况下，您将访问图片的四个部分。



![](img/2d726c6cf38a18b87e60fdc97328f64e_43.png)

在左上角的一个，右上角的一个，一个在左下角，一个在右下角，最后，中心像素被访问了四次，在角落的像素只被访问一次，而其他像素点被访问两次，这意味着中心保存的信息比边缘的信息获得更多的关注，通常都是正确的。

这是一个问题，如果你有，假设边缘的特征是你关心的，例如，这可能是这里的像素中的整个狗，或者可能是狗的一部分，比如它的鼻子，或者什么在这里，这是有用的信息，你想要确保你的过滤器对整个图像放等重的强调。



![](img/2d726c6cf38a18b87e60fdc97328f64e_45.png)

为了解决这个问题，你可以给图像加一个边框，这样所有的信息都出现在这个新图片的中心，正好像框起来的图片。



![](img/2d726c6cf38a18b87e60fdc97328f64e_47.png)

这叫做填充，填充的大小可以根据你的过滤器和图片的大小而变化，填充的值可以用任何实际值，但在外面值，但它通常被设置为零，这叫做零填充。



![](img/2d726c6cf38a18b87e60fdc97328f64e_49.png)

所以当你这样做之前计算卷积，过滤器扫描图像及其边框。

![](img/2d726c6cf38a18b87e60fdc97328f64e_51.png)

但这次结果是图像中的每个像素都被访问相同次数，所以真正访问次数少的只是边框，这是因为现在图像中的每个像素都位于中心，被那个边框包围。



![](img/2d726c6cf38a18b87e60fdc97328f64e_53.png)

总结一下，步幅告诉过滤器如何扫描图像并影响输出大小，以及像素被访问的频率。

![](img/2d726c6cf38a18b87e60fdc97328f64e_55.png)

填充就像边框，放在图像周围，以便给图像的边缘像素和中心像素相同的重要性，为了给图像的边缘像素和中心像素相同的重要性，填充就像边框，放在图像周围，以便给图像的边缘像素和中心像素相同的重要性。



![](img/2d726c6cf38a18b87e60fdc97328f64e_57.png)