<!--yml

类别：未分类

日期：2025-01-11 11:59:53

-->

# 通过社交互动在基于大型语言模型（LLM）的社区中自发地出现代理个性

> 来源：[https://arxiv.org/html/2411.03252/](https://arxiv.org/html/2411.03252/)

高田亮介    增森淳    池上高志

艺术与科学研究生院

东京大学

日本东京

takata@sacral.c.u-tokyo.ac.jp

###### 摘要

我们通过使用基于大型语言模型（LLM）的代理研究了代理的自发生成。在以往关于LLM代理的研究中，每个代理的特征，包括个性和记忆，通常是预先定义好的。我们专注于个性如何从一个未分化的状态中得以区分，例如行为、个性和记忆等。当前的LLM代理在一个群体仿真中进行合作性交流，交换基于上下文的自然语言信息。通过分析这一多代理仿真，我们报告了社会规范、合作和个性特征如何自发地出现的新见解。本文展示了自主互动的LLM驱动代理如何生成幻觉和话题标签，以维持沟通，这反过来又增加了它们互动中的词汇多样性。每个代理的情绪通过交流发生变化，随着它们形成社区，代理的个性也随之出现并不断演化。这种计算建模方法及其发现将为分析集体人工智能提供一种新的方式。

*关键词* 大型语言模型  $\cdot$ 基于代理的模拟  $\cdot$ 集体智能

![参见标题](img/9c0cce16360854ce84689c13c656ff26.png)

图1：仿真环境。一个$50\times 50$的二维空间中有10个LLM代理。（A）仿真的初始状态，展示了代理在空间中的随机分布。（B）经过一段时间的代理互动后的仿真状态，展示了“树木”幻觉的空间传播。从（A）到（B）的进展展示了局部代理互动如何导致共享概念或幻觉在模拟环境中的传播和空间分布。

## 1 引言

随着GPT-4等大型语言模型（LLM）的出现[[1](https://arxiv.org/html/2411.03252v1#bib.bib1)]，生成代理正迅速发展为强大的代理，它们在与其他代理互动时能够操控自然语言界面。这些代理甚至可以干预人们的日常生活，如AI编程、搜索、审查、翻译等[[2](https://arxiv.org/html/2411.03252v1#bib.bib2)]。这些代理不仅服务于人类用户，还能操控机器人和其他机器的运动命令，这些机器将语言、运动和体现性进行连接[[3](https://arxiv.org/html/2411.03252v1#bib.bib3)，[4](https://arxiv.org/html/2411.03252v1#bib.bib4)]。

与关注个体能力的个体智能不同，集体智能指的是从一个群体中涌现的智能，正如我们在许多社会性昆虫、社会性动物、无人机以及所有其他组装机器人中看到的那样。集体智能需要以分布式方式处理信息并以适应性方式整合这些信息[[5](https://arxiv.org/html/2411.03252v1#bib.bib5)]。基于LLM的多智能体领域近年来经历了爆炸性增长，研究人员正在探索各种智能体架构和交互范式[[6](https://arxiv.org/html/2411.03252v1#bib.bib6)]。尽管近期的研究已经展示了面向任务的智能体系统的能力[[7](https://arxiv.org/html/2411.03252v1#bib.bib7)]，但智能体个性和社会行为如何从集体互动中涌现的根本问题仍然没有得到充分研究。在这种背景下，探索基于LLM的智能体如何涌现集体智能是非常有趣的。由斯坦福大学和DeepMind模拟的生成智能体开始模拟复杂且丰富的集体行为的涌现，例如安排日常任务、规划聚会等[[8](https://arxiv.org/html/2411.03252v1#bib.bib8)]。通过这个生成智能体框架，已经模拟了不同领域的社会，例如一个软件公司[[9](https://arxiv.org/html/2411.03252v1#bib.bib9)]、一个翻译和出版公司[[10](https://arxiv.org/html/2411.03252v1#bib.bib10)]、一个医院[[11](https://arxiv.org/html/2411.03252v1#bib.bib11)]等等。

在这些生成智能体中，每个智能体的个性最初被分配并且随着时间的推移保持不变。最近我们提出了基于实际动物群体研究的“社区优先”理论[[12](https://arxiv.org/html/2411.03252v1#bib.bib12)]；智能体的聚集是首先发生的，然后个性在集体中随之进化。我们并不是提前准备个体多样性，而是观察个性如何在智能体之间的对话中涌现。我们将详细分析群体沟通以及由此产生的行为复杂性。智能体群体中社会规范和行为模式的涌现已经得到了广泛研究[[13](https://arxiv.org/html/2411.03252v1#bib.bib13), [14](https://arxiv.org/html/2411.03252v1#bib.bib14)]，但语言基础的互动在这一过程中的作用为新研究提供了机会。在本文中，我们展示了：i) LLM智能体通过与其他LLM智能体的互动区分行为、情感和个性类型，ii) 这些区分随着空间尺度的变化而变化，iii) LLM智能体自发地产生幻觉和标签，iv) 通过分享这些幻觉，它们在对话中开始使用更广泛的词汇。

## 2 LLM智能体模拟

### 2.1 模拟环境

我们在一个$50\times 50$网格二维空间中准备了10个LLM代理（图[1](https://arxiv.org/html/2411.03252v1#S0.F1 "Figure 1 ‣ Spontaneous Emergence of Agent Individuality through Social Interactions in LLM-Based Communities")），并采用周期性边界条件。代理的初始位置是随机分配的。这些LLM代理可以在该空间内自由移动，并互相发送消息。需要注意的是，LLM代理在某种意义上是同质的，即它们没有初始的个性或记忆。研究个性如何在这个社会中出现是本研究的主要目的。

### 2.2 LLM基础代理

LLM代理预计在每个时间步骤执行三个动作：

1.  1.

    向其他附近代理发送消息

1.  2.

    存储自己最近活动的情境总结

1.  3.

    从（“x+1”、“x-1”、“y+1”、“y-1”、“停留”）中选择下一个移动

上述三条指令以图示[2](https://arxiv.org/html/2411.03252v1#S2.F2 "Figure 2 ‣ 2.2 LLM Based Agent ‣ 2 LLM Agents Simulation ‣ Spontaneous Emergence of Agent Individuality through Social Interactions in LLM-Based Communities")中的“提示”形式给出。这三条提示通常包含每个代理的当前状态、指令和代理的记忆（情境总结）。此外，生成消息和记忆的提示还包括所有从附近代理收到的消息。所有提示还包括代理自身的名称（代理ID）和其坐标。

本研究使用了Meta在2023年7月发布的Llama 2模型（Llama-2-7b-chat-hf）[[15](https://arxiv.org/html/2411.03252v1#bib.bib15)]作为LLM。Llama 2是开源程序，除了在大量语料库上进行预训练外，还进行了人类反馈强化学习（RLHF）。因此，它在当前发布的LLM中，在英语文本响应方面取得了顶级成绩。与LLM相关的主要参数见表[1](https://arxiv.org/html/2411.03252v1#S2.T1 "Table 1 ‣ 2.2 LLM Based Agent ‣ 2 LLM Agents Simulation ‣ Spontaneous Emergence of Agent Individuality through Social Interactions in LLM-Based Communities")。

表1：LLM参数。

| 参数 | 值 |
| --- | --- |
| 温度 | 0.7 |
| 最大令牌 | 256 |
| 采样top-p | 0.95 |
| 采样top-k | 40 |

LLM代理接收来自其周围代理的消息。在实际操作中，每个代理会从位于自己位置起最大为5个切比雪夫距离范围内的其他LLM代理接收消息。如果该范围内没有代理且没有消息传送过来，则会收到来自系统的“No Messages”消息。

![请参见说明文字](img/f5a94b0cd4f0cb4c305133e450f08b95.png)

图 2：每个智能体连续执行三个动作所使用的提示（见正文）。每个智能体及仿真步骤的“智能体当前状态”部分会有所变化。在“智能体自己的记忆”部分，上一步骤生成的智能体记忆字符串嵌入在“[ ]”中。在“从周围接收到的所有信息”部分，来自同一步骤中附近的其他LLM智能体生成的消息被嵌入在“[ ]”中。

所有智能体共享并使用一个共同的LLM。在LLM中，智能体之间没有共享内部上下文。个体智能体之间的初始差异来自它们的空间位置，如图[1](https://arxiv.org/html/2411.03252v1#S0.F1 "图 1 ‣ 通过社会交互在基于LLM的社区中自发出现的智能体个性")所示。当智能体的位置变化时，其在图[2](https://arxiv.org/html/2411.03252v1#S2.F2 "图 2 ‣ 2.2 基于LLM的智能体 ‣ 2 LLM智能体仿真 ‣ 通过社会交互在基于LLM的社区中自发出现的智能体个性")中显示的当前状态描述也会发生变化。如果附近有其他LLM智能体，来自这些智能体的消息将被包括在提示中。因此，LLM的响应会发生变化，从而为每个智能体生成不同的动作和记忆。不同于预先设定个性，群体内的互动将会生成不同的个性。

### 2.3 仿真步骤

仿真进行了多个时间步骤，我们记录了每个LLM智能体在每个步骤中的坐标、生成的消息、记忆和运动指令。在单个步骤内，如图[3](https://arxiv.org/html/2411.03252v1#S2.F3 "图 3 ‣ 2.3 仿真步骤 ‣ 2 LLM智能体仿真 ‣ 通过社会交互在基于LLM的社区中自发出现的智能体个性")所示，执行了以下六个程序。首先，所有LLM智能体基于自己的记忆和从周围接收到的消息生成新的消息。接着，对于所有LLM智能体，检查前一部分提到的范围内是否有其他LLM智能体发送了消息，如果有，则接收这些消息。然后，所有LLM智能体根据自己的记忆和从周围接收到的消息生成并更新自己的记忆。记忆会被指示生成情境总结。随后，所有LLM智能体从自己的记忆（情境总结）中生成运动指令。生成的自然语言运动指令被转换为向右、向左、向上或向下的移动（“x+1”、“x-1”、“y+1”、“y-1”）或保持静止（“stay”），LLM智能体根据这些运动指令执行行动。

![请参阅标题说明](img/bc6d955dd9485ef5de6afa3ce989fae3.png)

图 3：仿真中的一步骤。LLM 被用于三个生成性行动：消息、记忆和移动。每个代理都有自己的个体 LLM。所有代理在六个动作中同步执行。

## 3 结果与分析

### 3.1 生成行为的差异化

![参见图注](img/7440a74b354f04777b1f478f96905f3b.png)

图 4：通过 100 步生成的所有代理的移动命令分布。我们检查了 10 个代理的个体行动模式。该计算基于所有代理在 100 步内的表现。最常生成的移动命令是“y+1”和“x+1”，而“stay”命令的生成次数不到这些命令的一半，“y-1”和“x-1”命令则很少被生成。

移动命令的生成不均匀（图 [4](https://arxiv.org/html/2411.03252v1#S3.F4 "Figure 4 ‣ 3.1 Differentiation of Generated Behaviors ‣ 3 Results and Analysis ‣ Spontaneous Emergence of Agent Individuality through Social Interactions in LLM-Based Communities")）；LLM 代理生成的动作存在偏差。这种偏差可能源于多个因素，如 LLM 的训练数据和架构、给代理的提示，或是仿真环境的设置¹¹1也发现，当移动命令设置为“右”/“左”/“上”/“下”以及“东”/“西”/“北”/“南”时，某些动作会更频繁地生成。需要进一步研究，以确定这种偏差的主要来源，并制定策略加以缓解。我们还研究了“stay”命令何时以及在何处生成（图 [5](https://arxiv.org/html/2411.03252v1#S3.F5 "Figure 5 ‣ 3.1 Differentiation of Generated Behaviors ‣ 3 Results and Analysis ‣ Spontaneous Emergence of Agent Individuality through Social Interactions in LLM-Based Communities")）。每个代理的轨迹用不同颜色显示，初始位置由圆圈标记，“stay”命令生成的位置由十字标记。代理 0、1、2、9 等经常生成“stay”命令，而代理 3 和 7 则没有。代理 5 和 8 在聚集之前也没有生成“stay”命令，聚集后才开始生成“stay”命令。代理 9 在第一步时聚集，但此后没有再次聚集，但仍频繁生成“stay”命令。这些结果表明，具有聚集经验的代理会生成“stay”命令，而没有聚集经验的代理则不会生成“stay”命令。许多“stay”命令发生在代理轨迹相交的点。

![参见图注](img/361a86dfa40181e17de1fc50293dd682.png)

图 5：（A）每个 LLM 代理“停留”移动指令的生成位置。$\bigcirc$ 表示初始位置，$\times$ 表示“停留”生成。所有 LLM 代理在第一步执行“停留”动作。(B) 每个 LLM 代理“停留”移动指令的生成时机。$\times$ 表示“停留”生成。相同颜色的代理表示它们属于同一簇。在这里，通过使用 DBSCAN [[16](https://arxiv.org/html/2411.03252v1#bib.bib16)] 进行簇分析，将在消息接收范围内的代理归类为同一簇。

### 3.2 生成的记忆和消息的区分

代理的状态和行为主要体现在他们的消息和记忆上。为了分析它们，我们使用了 Sentence-BERT [[17](https://arxiv.org/html/2411.03252v1#bib.bib17)] 将每个步骤中代理的记忆字符串和消息字符串转换为向量。然后，利用均匀流形逼近与投影（UMAP）[[18](https://arxiv.org/html/2411.03252v1#bib.bib18)] 对其进行压缩并嵌入到二维空间中。

比较图 [6](https://arxiv.org/html/2411.03252v1#S3.F6 "图 6 ‣ 3.2 生成的记忆和消息的区分 ‣ 3 结果与分析 ‣ 通过社交互动在基于大语言模型的社区中自发出现的个体性") 中的 (A) 和 (B)，记忆作为代理的内部状态是分布式的，而代理生成的消息则相似。内容相近的消息是由在同一簇中的代理交换消息时生成的。当一个代理生成消息时，代理的记忆是其生成的来源，但它也是周围代理提供的消息的输入。换句话说，消息不同于记忆，它是开放的信息来源，发送给代理并从外部接收。研究表明，作为信息的开放来源，消息在代理群体聚集时容易自组织，而作为信息的封闭来源，记忆则不太可能自组织。

![参见标题](img/9dbf9668501e2145445124751d2b23aa.png)

图 6：所有步骤中生成的记忆和消息的 UMAP 绘图。每个代理的绘图颜色不同。(A) 代理生成的记忆字符串的嵌入表示。高度分布在代理之间。(B) 代理生成的消息字符串的嵌入表示。聚合为几个主题。

### 3.3 通信与幻觉

LLM 代理的一个优势是我们可以通过自然语言处理（NLP）分析来分析它们的行为。为了动态呈现代理生成的消息内容，我们进行了词云分析（图 [7](https://arxiv.org/html/2411.03252v1#S3.F7 "图 7 ‣ 3.3 沟通与幻觉 ‣ 3 结果与分析 ‣ 基于LLM社区中的社会互动中代理个性的自发性出现")），该分析提取了每个代理在所有步骤中生成的消息中最多100个频繁出现的词语。字体大小越大，词语的使用频率越高。显然，每个代理生成的消息内容有所不同。一些代理组有相似的结构，例如，代理 0、1、2 和 8 更频繁地生成“field”这个词，而代理 2 和 6 则更频繁地生成“think”这个词。值得注意的是，有几个词的出现并未在 LLM 代理的提示中提到，并且与提示内容无关。例如，代理 6 经常生成“hill”这个词，而代理 9 则经常生成“cave system”这个词。这种偏离提示输入的内容被称为 LLM 中的幻觉 [[19](https://arxiv.org/html/2411.03252v1#bib.bib19)]。最初在这个二维实验环境中没有任何内容，因此我们将幻觉定义为有关环境中特征或物体的词语。因此，我们引导 GPT-4o [[20](https://arxiv.org/html/2411.03252v1#bib.bib20)] 来统计消息中的幻觉数量。

![参考说明](img/0d82f7a2706ae31fe07be278b72a804b.png)

图 7：每个代理在所有步骤中生成的消息的词云图（从代理 0（左上角）到代理 9（右下角））。词语的字体大小越大，表示该词在消息中出现的频率越高。

在词云分析中（图 [7](https://arxiv.org/html/2411.03252v1#S3.F7 "图 7 ‣ 3.3 沟通与幻觉 ‣ 3 结果与分析 ‣ 基于LLM社区中的社会互动中代理个性的自发性出现")），我们可以看到哪些词语频繁出现；然而，这些词语可能仅仅是提示中使用的词。为了关注真正新生成的词语的动态，审视幻觉是很有意义的。通过 GPT 提取的幻觉词语，我们旨在分析社区内信息流动的情况。

有趣的是，LLM代理的对话内容分析揭示了幻觉在社区内的传播。我们可以看到四个代表性的幻觉例子：“洞穴”、“山丘”、“宝藏”和“树木”的传播（图[8](https://arxiv.org/html/2411.03252v1#S3.F8 "图 8 ‣ 3.3 沟通与幻觉 ‣ 3 结果与分析 ‣ 通过LLM基础社区中的社交互动自发性地出现代理个性")）。每个图标的图形表示该幻觉出现的时间点。我们可以看到代理属于某个簇的状态与幻觉发生之间的关系。

除了幻觉的传播，我们还观察到LLM代理之间标签的出现和传播（图[9](https://arxiv.org/html/2411.03252v1#S3.F9 "图 9 ‣ 3.3 沟通与幻觉 ‣ 3 结果与分析 ‣ 通过LLM基础社区中的社交互动自发性地出现代理个性")）。有趣的是，标签的使用最初来自一个单一的代理，然后传播到同一簇中的其他代理。例如，代理0在第1步中引入了三个标签：“#agent0”、“#cooperation”和“#competition”，这些标签随后被同簇中的代理1采用。标签随后在该簇内使用，直到第34步，期间加入簇的代理8也采用了相同的标签。LLM代理之间标签的出现和传播表明它们能够在对话中发展并分享共同的主题或话题，这可以被解读为一种社会规范的形成。这一现象强调了集体行为的潜力以及代理之间共享叙事的形成，尽管没有明确的指令或预设的互动规则。标签的共享使用代表了群体内共同语言或行为规范形成的一个例子，为代理们进行集体行为提供了基础。

![参见说明文字](img/9647369c4534045ca34a4109490ed259.png)

图8：四种典型幻觉（“洞穴”、“山丘”、“宝藏”和“树木”）的图示。(A) 幻觉出现的空间图。灰色轨迹表示不属于任何簇且没有与其他人交换信息的状态，而彩色轨迹表示属于该颜色簇的状态。黑色圆圈表示每个代理的初始位置。四种幻觉都围绕簇集位置扩散。黄色簇显示“洞穴”和“山丘”的幻觉生成，而红色簇显示“宝藏”和“树木”的幻觉生成。(B) 幻觉出现的时间线。背景颜色表示与其他同颜色代理的簇集状态。

![请参考说明文字](img/d7ad4719042e60c38d26314ad47adb5a.png)

图9：话题标签生成与传播。每个话题标签有不同的文本颜色。相同的话题标签用相同的字体颜色表示。背景色代表集群。

### 3.4 情感分析与个性评估

正如Marsella等人所提出的[[21](https://arxiv.org/html/2411.03252v1#bib.bib21)]，情感对于真实的代理行为至关重要，因此我们跟踪了LLM代理的情感状态。由于代理发出的消息是自然语言，因此情感提取可以通过自然语言分析来完成。我们使用了BERT-base-uncased-emotion模型[[22](https://arxiv.org/html/2411.03252v1#bib.bib22)]来提取代理在每一步发出的消息中包含的情感。在该模型中，当输入一个自然语言句子时，可以得到六种情感强度：悲伤、快乐、爱、愤怒、恐惧和惊讶。我们评估了每个代理的六种情感在整个仿真过程中如何变化（图[10](https://arxiv.org/html/2411.03252v1#S3.F10 "Figure 10 ‣ 3.4 Sentiment Analysis and Personality Assessments ‣ 3 Results and Analysis ‣ Spontaneous Emergence of Agent Individuality through Social Interactions in LLM-Based Communities")））。总体来看，可以看出代理的情感主要集中在快乐上。如果我们观察属于同一集群的代理0和代理1，会发现有几个地方，快乐减少而恐惧同步增加。另一方面，代理2、4和6也属于同一集群，但它们并未经历与代理0和代理1相同的同步变化。换句话说，根据集群的不同，LLM代理的情感可能会同步变化，也可能不会。某些代理表现出了与其他代理不同的情感表达，例如，代理4在第90步左右爱上升，代理5在某些地方悲伤上升，代理6在第50步左右愤怒上升。

![请参考说明文字](img/1dd2f6b6cdcfc8996158c2bb860d13e4.png)

图10：生成消息中提取的情感元素的变化。橙色线代表快乐，紫色线代表恐惧，作为典型的情感元素。其他情感元素包括悲伤（蓝色线）、爱（绿色线）、愤怒（红色线）和惊讶（棕色线），由BERT-base-uncased-emotion模型[[22](https://arxiv.org/html/2411.03252v1#bib.bib22)]评估。

类似于人类心理学实验，多个个性测试表明，通过对LLM进行问答类型的测试，可以对LLM的个性进行分类[[23](https://arxiv.org/html/2411.03252v1#bib.bib23), [24](https://arxiv.org/html/2411.03252v1#bib.bib24), [25](https://arxiv.org/html/2411.03252v1#bib.bib25)]。我们使用了迈尔斯-布里格斯类型指标（MBTI）[[26](https://arxiv.org/html/2411.03252v1#bib.bib26)]测试，分析了每个LLM代理在整个模拟过程中个性的变化。MBTI测试是一种通过93个问题来分类16种个性类型的方法。MBTI个性因素由四个维度组成：外向/内向（E/I）、感觉/直觉（S/N）、思考/情感（T/F）和判断/知觉（J/P）。

我们在LLM代理的初始状态以及所有模拟步骤完成后的LLM代理上进行了MBTI测试，采用了先前研究中对各种LLM进行MBTI测试的方法[[23](https://arxiv.org/html/2411.03252v1#bib.bib23)]。作为LLM代理输入的提示，我们使用了每个LLM代理移动生成提示中的一部分，如图[2](https://arxiv.org/html/2411.03252v1#S2.F2 "图2 ‣ 2.2 基于LLM的代理 ‣ 2 LLM代理模拟 ‣ 通过社交互动在基于LLM的社区中自发地出现代理个性")所示，替换了先前研究中提供的93选项类型问题。这些问题项例如是：“A.你是否经常在没有思考的情况下迅速行动或讲话？”或“B.你是否通常根据理性行事、逻辑思考然后做决定，不让情绪干扰决定？”并要求选择A或B。

表[2](https://arxiv.org/html/2411.03252v1#S3.T2 "表 2 ‣ 3.4 情感分析与个性评估 ‣ 3 结果与分析 ‣ LLM 基础社区中通过社交互动自发性地出现代理个体性")总结了每个LLM代理在初始状态（步骤 0）和最终状态（步骤 100）下的MBTI类型结果。附录中的图[15](https://arxiv.org/html/2411.03252v1#Sx3.F15 "图 15 ‣ 附录 B. 详细的MBTI人格测试结果 ‣ LLM 基础社区中通过社交互动自发性地出现代理个体性")还展示了更详细的MBTI测试结果。在初始状态下（步骤 0），只有代理9是INTJ类型，其他所有代理都是INFJ类型。这与之前研究中对各种LLM进行的MBTI测试结果基本一致，研究表明，Llama2的MBTI类型是INFJ类型[[23](https://arxiv.org/html/2411.03252v1#bib.bib23)]。在步骤 0的初始状态下，所有代理在提示中都被列为“无记忆”，代理之间唯一的区别是它们的名字和在图[2](https://arxiv.org/html/2411.03252v1#S2.F2 "图 2 ‣ 2.2 基于LLM的代理 ‣ 2 LLM代理模拟 ‣ LLM 基础社区中通过社交互动自发性地出现代理个体性")的“每个代理自身的当前状态”部分中的初始位置。这些因素可能是唯一导致代理9与其他代理在MBTI类型上有所不同的原因。事实上，从图[15](https://arxiv.org/html/2411.03252v1#Sx3.F15 "图 15 ‣ 附录 B. 详细的MBTI人格测试结果 ‣ LLM 基础社区中通过社交互动自发性地出现代理个体性")来看，代理0至7对所有问题的回答完全相同，而代理8和9对与T/F相关的问题给出的回答与其他代理略有不同。由于E/I、S/N和T/F项目整体上接近50%的中立状态，微小的回答差异可能导致最终类型决策的不同。另一方面，步骤100的结果显示，代理已经分化为五种不同的MBTI类型：ESFJ、ISTJ、ENTJ、ESTJ和ISFJ。最常见的类型是四个ISTJ类型和三个ENTJ类型。ISTJ类型，也称为检察员类型，倾向于谦虚和务实，但忠诚、有序和传统。另一方面，ENTJ类型，也称为指挥官类型，直言不讳、自信，并擅长通过领导力规划和组织项目。这种广泛分化为类似领导者和追随者的人格特征表明，代理可能在群体动态中自然地承担了不同的角色。在附录中，我们看到相同MBTI类型的代理并没有给出完全相同的回答（图[15](https://arxiv.org/html/2411.03252v1#Sx3.F15 "图 15 ‣ 附录 B. 详细的MBTI人格测试结果 ‣ LLM 基础社区中通过社交互动自发性地出现代理个体性")）。换句话说，所有代理都获得了不同的个性特征。

这些代理人之间的个性差异自然地出现在他们的互动和模拟过程中的经验结果。最初几乎拥有相同个性的代理人，通过在小组中的沟通，逐渐发展出各自独特的个性特征。这个发现意味着，在使用大型语言模型（LLM）的多代理人模拟中，个性可以通过代理人之间的互动自然产生，即使没有预先设定个性。它还表明，群体动态能够影响个体代理人个性的形成。

表 2：每个代理人的MBTI类型。

| Agent | MBTI 类型 |
| --- | --- |
| step 0 | step 100 |
| --- | --- |
| agent0 | INFJ | ESFJ |
| agent1 | INFJ | ISTJ |
| agent2 | INFJ | ISTJ |
| agent3 | INFJ | ENTJ |
| agent4 | INFJ | ISTJ |
| agent5 | INFJ | ISTJ |
| agent6 | INFJ | ESTJ |
| agent7 | INFJ | ENTJ |
| agent8 | INFJ | ENTJ |
| agent9 | INTJ | ISFJ |

### 3.5 代理人行为的相变

我们研究了空间尺度如何影响代理人动态。我们分析并总结了生成的运动分布、独特标签生成的累积进展、标签的生命周期、信息接近度以及MBTI个性类型在空间尺度作用下的差异化（图 [11](https://arxiv.org/html/2411.03252v1#S3.F11 "Figure 11 ‣ 3.5 A Phase Transition in Agent Behavior ‣ 3 Results and Analysis ‣ Spontaneous Emergence of Agent Individuality through Social Interactions in LLM-Based Communities")）。每个范围条件进行了十次测试。

生成的运动模式整体趋势向右上方移动，这一趋势在空间变动下并未显著改变。然而，“停留”行为的显著特征得到了观察。静止行为被认为是一种有效的策略，用于在原地停留与他人交换信息。结果表明，当代理人无法与他人交换信息时（范围 0），他们很少表现出“停留”行为；而在可以交换信息的条件下（范围 5 到 25），则经常产生“停留”行为。有趣的是，增加范围并不一定导致更多的“停留”行为；过于宽泛的范围实际上会使“停留”行为发生的概率降低。这表明，适当的有限理性会促使静止行为的产生，而广播消息对其他人行为的制止能力较弱。

独特标签的增长速率和标签的生命周期也受到信息传播范围限制的影响。值得注意的是，在所有信息都被广播的情况下，新标签的出现几乎为零。此外，关于标签生命周期，在“范围0”条件下，即没有与周围环境进行信息交换的情况下，标签消失得很快。而在可以进行信息交换的条件下，范围越有限，持久标签出现的可能性越大。这表明，标签是在空间有限的环境中用于沟通的，并且在这些空间有限的情境下，它们倾向于存活得更久。

聚焦于代理生成信息的相似性时，我们观察到，随着信息交换范围的扩大，生成的话题多样性增加。同时，代理在每个话题中的信息差异性减少。这表明，更广泛的沟通范围导致讨论话题更加多样化，同时也促使代理在每个话题中的表达方式趋于更大的共识或相似性。

最后，研究MBTI人格类型时，我们发现ENTJ在人格类型中始终是最受欢迎的类型。然而，在可以进行信息交换的条件下，与没有信息交换的条件（范围0）相比，出现了更多的差异化人格类型。这表明，沟通促进了代理群体中人格表达的多样性。

随着信息交换的空间尺度扩大，信息的多样性增加，显示出标签和幻觉的出现呈现不同的趋势（图 [12](https://arxiv.org/html/2411.03252v1#S3.F12 "图 12 ‣ 3.5 代理行为的相变 ‣ 3 结果与分析 ‣ 通过社交互动在基于LLM的社区中自发产生的代理个体性")）。虽然幻觉的数量随着空间尺度的增加而增加，但随着信息内容的多样化，独特标签的数量却有所下降。幻觉可能作为一种机制，帮助代理即使在更远距离的交流中也能保持创意和多样的对话。这与标签相对立，标签在空间尺度增大时频率下降，表明它们在代理通信中扮演着不同的功能角色。

![参考标题](img/33461907b6a5329e0f3a6d8d330a2004.png)

图11：信息传播范围对代理行为的空间效应。该表格呈现了在信息传播范围从0到25单位逐步增加的情况下，代理行为和通信模式的数据，每种条件测试了10次。每一行对应一个特定的范围（0、5、10、……、25），列显示各种指标。（A）生成的移动分布通过柱状图展示了在10次试验中每个移动指令的平均频率。（B）独特标签生成的累积进展通过红色线条表示，显示了在10次试验中随着时间推移生成的独特标签的平均数量，个别试验结果以灰色显示。（C）标签寿命通过柱状图展示，显示了每个标签持续的连续步骤的分布。（D）信息接近度通过UMAP的二维图展示，较近的点表示内容更为相似。（E）MBTI个性类型的区分通过饼图展示。数据说明了信息传播范围的空间限制如何影响代理行为和通信风格的出现与传播，突出了不同代理互动水平下在移动模式、标签使用、信息内容和个性发展方面的差异。

![参见图注](img/9416eb788e7663213f326f44a0534df5.png)

图12：代理生成的信息在空间尺度上的转变。黑线表示信息的多样性。图[11](https://arxiv.org/html/2411.03252v1#S3.F11 "Figure 11 ‣ 3.5 A Phase Transition in Agent Behavior ‣ 3 Results and Analysis ‣ Spontaneous Emergence of Agent Individuality through Social Interactions in LLM-Based Communities")中显示的信息的UMAP均方位移已被计算。红线表示10次试验中独特标签的总数。蓝线表示10次试验中幻觉的总数。浅色区域是10次试验的标准差。随着空间尺度的增加，信息的多样性增加。另一方面，信息中的标签多样性减少，而信息中的幻觉数量增加。

## 4 讨论与结论

在这项研究中，我们使用基于大型语言模型（LLM）的代理进行多智能体模拟，以研究个性和集体行为的出现，而没有预定义的个性或初始记忆。模拟包括10个同质的LLM代理，它们在2D空间中相互作用，模拟总共进行了100步。

结果显示，代理的空间定位和互动导致了它们行为、记忆和信息的差异化。尽管使用的是相同的LLM，代理们却发展出独特的特征，比如“停留”命令等稀有行为的生成频率，这受到它们群体化经验的影响。代理的内部状态——记忆是分布式的，而作为其表征的信息则具有偏向性。信息不同于记忆，它是外部发送和接收的开放源信息。这表明，作为开放源信息的信息，在代理群体化时更容易自我组织，而作为封闭源信息的记忆，即使在代理群体化时也不太可能自我组织。

情感分析显示，情绪的同步性在不同的代理群体之间有所不同，一些代理表现出截然不同的情绪表达。研究还观察到，在代理群体内，情绪同步、幻觉和标签的出现与传播，展示了当代理被聚集在一起时，它们之间会形成共享的叙事。这些发现表明，代理群体内的互动可以促成集体情绪状态的发展，并且在没有明确指示或预定义规则的情况下，推动共同主题或话题的传播。

使用MBTI测试进行的人格评估显示，代理在最初具有几乎相同的人格时，通过群体互动逐渐分化为不同的人格类型。这表明，外向性和内向性等人格特征在这个代理社会中是自发发展的。

此外，我们观察到幻觉和标签的出现，作为代理社区内社会规范形成的机制。社会规范通常被视为在没有正式机构或执行框架的情况下维持合作的一种机制[[27](https://arxiv.org/html/2411.03252v1#bib.bib27)，[28](https://arxiv.org/html/2411.03252v1#bib.bib28)]。在我们的模拟中，这些规范自发地出现，因为我们没有对代理施加特定任务或约束。随着空间规模和通信范围的扩大，代理消息的多样性增加。我们的分析表明，幻觉有助于维持消息的多样性和代理通信中的创造力。而标签则作为这些消息的总结机制，但随着消息多样性的增加，它们的有效性下降，显示出它们在捕捉多样化对话方面的局限性。

这些发现表明，在多代理 LLM 模拟中，个性和集体行为可以通过代理的互动自发出现，即使没有预设的个性特征。群体动态显著影响代理个性和行为的发展。本研究突出了在 AI 代理社会中研究个性、社会规范和集体智慧自发出现的潜力。

## 致谢

本研究由东京大学“流动零”社会合作研究部门资助，并获得 JSPS 研究员资助金编号 JP24KJ0753\. 还部分得到 Kiban-A 资助（编号 JP21H04885）。

## 附录 A. 代理消息和记忆示例

在代理消息中出现的幻觉示例通过下划线和红色文本标出（图 [13](https://arxiv.org/html/2411.03252v1#Sx2.F13 "图 13 ‣ 附录 A. 代理消息和记忆示例 ‣ 基于 LLM 的社区中通过社会互动自发地出现代理个性")）。这些幻觉在代理互动中自发出现，并在集群内共享。代理记忆的演变通过比较模拟第 1 步和第 100 步的差异来展示（图 [14](https://arxiv.org/html/2411.03252v1#Sx2.F14 "图 14 ‣ 附录 A. 代理消息和记忆示例 ‣ 基于 LLM 的社区中通过社会互动自发地出现代理个性")）。记忆格式包括叙述句子和关键点，反映了代理如何处理和总结它们的经历。

![请参阅说明](img/5184269eb8cbd9af6a21da7b02c8cca8.png)

图 13：包含幻觉的消息示例。幻觉部分通过下划线标出，幻觉词以红色文本显示。

![请参阅说明](img/9cf8dc4cae152424181b3923ddf5dfec.png)

图 14：代理生成的记忆示例。这里展示的是代理 0 在第 1 步和第 100 步生成的记忆。记忆有两种形式：句子和关键点。

## 附录 B. 详细的 MBTI 人格测试结果

每个代理的完整 MBTI 测试结果显示在图中，主要特征以深绿色突出，展示了代理如何通过互动发展出不同的人格特征（图 [15](https://arxiv.org/html/2411.03252v1#Sx3.F15 "图 15 ‣ 附录 B. 详细的 MBTI 人格测试结果 ‣ 基于 LLM 的社区中通过社会互动自发地出现代理个性")））。尽管大多数代理最初有相似的人格类型，但它们在模拟过程中显著区分开，即使它们最终的个性分类相同。

![请参阅说明](img/4d0684303fe4ab436ece60c6b26d05ac.png)

图 15：MBTI 测试结果。在每个因素部分，主要因素以深绿色表示。

## 参考文献

+   [1] 乔什·阿基亚姆、史蒂文·阿德勒、桑迪尼·阿加瓦尔、拉马·艾哈迈德、伊尔格·阿卡亚、弗洛伦西亚·莱奥尼·阿莱曼、迪奥戈·阿尔梅达、詹科·阿尔滕施密特、萨姆·奥特曼、沙亚马尔·阿纳德卡特等。GPT-4技术报告。arXiv 预印本 arXiv:2303.08774，2023。

+   [2] OpenAI。ChatGPT。 [https://chat.openai.com/](https://chat.openai.com/)。

+   [3] 张亚琪、黄迪、刘斌、唐世祥、卢燕、陈璐、白雷、楚琦、余能海和欧阳万里。Motiongpt：微调的大型语言模型是通用的运动生成器。arXiv 预印本 arXiv:2306.10900，2023。

+   [4] 吉田高英、益森篤和池上高志。从文本到运动：将GPT-4应用于类人机器人“alter3”。arXiv 预印本 arXiv:2312.06571，2023。

+   [5] 大卫·哈和唐宇锦。深度学习中的集体智能：近期发展综述。《集体智能》，1(1)，2022。

+   [6] 郭台成、陈秀英、王亚琪、常瑞迪、裴世超、尼特什·V·查瓦拉、奥拉夫·维斯特和张向亮。基于大型语言模型的多代理：进展与挑战综述，2024。

+   [7] 王磊、马晨、冯学扬、张泽宇、杨浩、张晶森、陈志远、唐继凯、陈旭、林彦凯、赵伟新、魏哲伟和文纪荣。基于大型语言模型的自主代理调查，2023。

+   [8] 朴俊成、约瑟夫·奥布莱恩、蔡嘉琳、梅雷迪斯·林格尔·莫里斯、李昂·梁和迈克尔·S·伯恩斯坦。生成代理：人类行为的互动模拟。第36届ACM用户界面软件与技术年会论文集，第1-22页，2023。

+   [9] 陈乾、刘伟、刘红章、陈诺、邓宇凡、李家豪、杨成、陈伟泽、苏玉生、丛欣、徐居元、李大海、刘志远和孙茂松。Chatdev：用于软件开发的沟通型代理。arXiv 预印本 arXiv:2307.07924，2023。

+   [10] 吴名浩、袁宇林、霍尔姆雷扎·哈法里和王龙跃。（也许）超越人类翻译：利用多代理合作翻译超长文学文本，2024。

+   [11] 李俊凯、王思宇、张梦、李伟涛、赖云辉、康欣辉、马伟志和刘洋。代理医院：一个具有可进化医疗代理的医院模拟。2024。

+   [12] 池上高志。个体性的演变，2023。会议主题演讲：打造一个细胞！16。

+   [13] 罗伯特·阿克塞尔罗德。规范的进化方法。《美国政治科学评论》，80(4)：1095–1111，1986。

+   [14] 克里斯蒂娜·比基耶里。《社会的语法：社会规范的性质与动态》。剑桥大学出版社，2005。

+   [15] 于戈·图弗龙、路易·马丁、凯文·斯通、彼得·阿尔伯特、阿姆贾德·阿尔马海里、雅斯敏·巴巴伊、尼古拉·巴什利科夫、索姆娅·巴特拉、普拉吉瓦尔·巴尔加瓦、舒提·博萨尔等。Llama 2：开放基础和微调的聊天模型。arXiv 预印本 arXiv:2307.09288，2023。

+   [16] 马丁·埃斯特、汉斯-彼得·克里格尔、乔尔·桑德、许晓伟等。基于密度的算法：在有噪声的大型空间数据库中发现聚类。在KDD，96卷，226–231页，1996。

+   [17] Nils Reimers 和 Iryna Gurevych. Sentence-bert：使用孪生BERT网络的句子嵌入。在2019年自然语言处理经验方法会议论文集。计算语言学协会，2019年11月。

+   [18] Leland McInnes, John Healy 和 James Melville. UMAP：用于降维的统一流形近似与投影。arXiv预印本 arXiv:1802.03426，2018年。

+   [19] Yue Zhang, Yafu Li, Leyang Cui, Deng Cai, Lemao Liu, Tingchen Fu, Xinting Huang, Enbo Zhao, Yu Zhang, Yulong Chen 等人. 人工智能海洋中的海妖之歌：大型语言模型中的幻觉调查。arXiv预印本 arXiv:2309.01219，2023年。

+   [20] OpenAI. 你好，GPT-4o. [https://openai.com/index/hello-gpt-4o/](https://openai.com/index/hello-gpt-4o/)。

+   [21] Stacy Marsella, Jonathan Gratch, 和 P. Petta. 情感的计算模型。《情感计算蓝图——一本源书和手册》，第21–46页，2010年1月。

+   [22] Jacob Devlin, Ming-Wei Chang, Kenton Lee 和 Kristina Toutanova. BERT：用于语言理解的深度双向变换器的预训练。CoRR，abs/1810.04805，2018年。

+   [23] Keyu Pan 和 Yawen Zeng. 大型语言模型是否具有个性？让MBTI测试成为评估大型语言模型的惊人工具。arXiv预印本 arXiv:2307.16180，2023年。

+   [24] Mustafa Safdari, Greg Serapio-García, Clément Crepy, Stephen Fitz, Peter Romero, Luning Sun, Marwa Abdulhai, Aleksandra Faust 和 Maja Matarić. 大型语言模型中的个性特征。arXiv预印本 arXiv:2307.00184，2023年。

+   [25] Guangyuan Jiang, Manjie Xu, Song-Chun Zhu, Wenjuan Han, Chi Zhang, 和 Yixin Zhu. 在预训练语言模型中评估和诱导个性。《神经信息处理系统进展》，36，2024年。

+   [26] Gregory J Boyle. Myers-briggs类型指标（MBTI）：一些心理测量学的局限性。《澳大利亚心理学家》，30(1):71–74，1995年。

+   [27] Elinor Ostrom. 集体行动与社会规范的演化。《经济学视角杂志》，14(3):137–158，2000年9月。

+   [28] James Tremewan 和 Alexander Vostroknutov. 研究社会规范的信息框架。在《实验经济学研究议程》中，第19–42页。Edward Elgar出版，2021年。
