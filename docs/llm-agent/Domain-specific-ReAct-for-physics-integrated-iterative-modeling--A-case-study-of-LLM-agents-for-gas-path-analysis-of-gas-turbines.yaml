- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: 未分类'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 类别：未分类
- en: 'date: 2024-09-08 18:44:54'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 日期：2024-09-08 18:44:54
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: 'Domain-specific ReAct for physics-integrated iterative modeling: A case study
    of LLM agents for gas path analysis of gas turbines'
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物理集成迭代建模的领域特定 ReAct：气体轮机气体路径分析的 LLM 代理案例研究
- en: 来源：[https://ar5iv.labs.arxiv.org/html/2406.07572](https://ar5iv.labs.arxiv.org/html/2406.07572)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 来源：[https://ar5iv.labs.arxiv.org/html/2406.07572](https://ar5iv.labs.arxiv.org/html/2406.07572)
- en: Tao Song
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 宋涛
- en: Department of Energy and Power Engineering
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 能源与动力工程系
- en: Tsinghua University
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 清华大学
- en: Beijing, China
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 北京，中国
- en: songtao21@mails.tsinghua.edu.cn
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: songtao21@mails.tsinghua.edu.cn
- en: '&Yuwei Fan'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '&范钰伟'
- en: Department of Energy and Power Engineering
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 能源与动力工程系
- en: Tsinghua University
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 清华大学
- en: Beijing, China
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 北京，中国
- en: fan-yw22@mails.tsinghua.edu.cn
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: fan-yw22@mails.tsinghua.edu.cn
- en: '&Chenlong Feng'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '&冯晨龙'
- en: Department of Energy and Power Engineering
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 能源与动力工程系
- en: Tsinghua University
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 清华大学
- en: Beijing, China
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 北京，中国
- en: fengcl23@mails.tsinghua.edu.cn
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: fengcl23@mails.tsinghua.edu.cn
- en: '&Keyu Song'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '&宋科宇'
- en: Department of Energy and Power Engineering
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 能源与动力工程系
- en: Tsinghua University
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 清华大学
- en: Beijing, China
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 北京，中国
- en: sky20@mails.tsinghua.edu.cn
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: sky20@mails.tsinghua.edu.cn
- en: '&Chao Liu'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '&刘超'
- en: Department of Energy and Power Engineering
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 能源与动力工程系
- en: Tsinghua University
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 清华大学
- en: Beijing, China
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 北京，中国
- en: cliu5@tsinghua.edu.cn
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: cliu5@tsinghua.edu.cn
- en: '&Dongxiang Jiang'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '&江东翔'
- en: Department of Energy and Power Engineering
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 能源与动力工程系
- en: Tsinghua University
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 清华大学
- en: Beijing, China
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 北京，中国
- en: jiangdx@tsinghua.edu.cn Corresponding author.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: jiangdx@tsinghua.edu.cn 通讯作者。
- en: Abstract
  id: totrans-36
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 摘要
- en: This study explores the application of large language models (LLMs) with callable
    tools in energy and power engineering domain, focusing on gas path analysis of
    gas turbines. We developed a dual-agent tool-calling process to integrate expert
    knowledge, predefined tools, and LLM reasoning. We evaluated various LLMs, including
    LLama3, Qwen1.5 and GPT. Smaller models struggled with tool usage and parameter
    extraction, while larger models demonstrated favorable capabilities. All models
    faced challenges with complex, multi-component problems. Based on the test results,
    we infer that LLMs with nearly 100 billion parameters could meet professional
    scenario requirements with fine-tuning and advanced prompt design. Continued development
    are likely to enhance their accuracy and effectiveness, paving the way for more
    robust AI-driven solutions.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 本研究探讨了在能源与动力工程领域中应用具有可调用工具的大型语言模型（LLMs），重点关注气体轮机的气体路径分析。我们开发了一个双代理工具调用过程，集成了专家知识、预定义工具和
    LLM 推理。我们评估了包括 LLama3、Qwen1.5 和 GPT 在内的各种 LLM。较小的模型在工具使用和参数提取方面遇到了困难，而较大的模型展示了较好的能力。所有模型在处理复杂的多组件问题时都面临挑战。根据测试结果，我们推断出具有近
    1000 亿参数的 LLM 在经过微调和高级提示设计后可以满足专业场景的要求。持续的发展有望提高它们的准确性和有效性，为更强大的 AI 驱动解决方案铺平道路。
- en: '*K*eywords Large language models  $\cdot$ Gas turbine'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '*关键词* 大型语言模型  $\cdot$ 气体轮机'
- en: 1 Introduction
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1 引言
- en: Artificial intelligence (AI) has seen extensive application across various domains,
    including energy and power engineering, where it holds significant promise for
    enhancing efficiency, reliability, and sustainability. Within the field of numerical
    computation, AI techniques have been effectively utilized to partly replace conventional
    numerical methods across a wide range of energy systems, aiding in the design
    and optimization of critical processes, such as structural strength and heat transfer
    [[1](#bib.bib1), [2](#bib.bib2), [3](#bib.bib3)]. Similarly, in power equipment
    signal analysis and fault diagnosis, AI algorithms have facilitated anomaly detection
    and predictive maintenance, thereby reducing downtime and enhancing operational
    efficiency[[4](#bib.bib4), [5](#bib.bib5), [6](#bib.bib6)]. Despite these successes,
    conventional AI tools often lack the theoretical foundation necessary to comprehensively
    address the complexities of energy systems. The black-box nature of many AI models
    hinders their interpretability, raising concerns regarding their trustworthiness
    and accountability in critical energy infrastructure applications.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 人工智能（AI）在各个领域得到了广泛应用，包括能源与电力工程，它在提高效率、可靠性和可持续性方面具有重要潜力。在数值计算领域，AI技术已有效地用于部分替代传统数值方法，广泛应用于能源系统的设计和优化中，例如结构强度和热传递[[1](#bib.bib1),
    [2](#bib.bib2), [3](#bib.bib3)]。类似地，在电力设备信号分析和故障诊断中，AI算法促进了异常检测和预测性维护，从而减少了停机时间，提高了操作效率[[4](#bib.bib4),
    [5](#bib.bib5), [6](#bib.bib6)]。尽管取得了这些成功，传统AI工具往往缺乏全面应对能源系统复杂性的理论基础。许多AI模型的黑箱特性阻碍了它们的可解释性，
    raising concerns regarding their trustworthiness and accountability in critical
    energy infrastructure applications.
- en: Recently, the advent of large language models (LLMs) like GPT[[7](#bib.bib7)],
    LLaMA[[8](#bib.bib8)], and GLM[[9](#bib.bib9)] has revolutionized artificial intelligence,
    particularly in natural language processing (NLP). These models excel in generating
    human-like text, understanding context, and performing complex tasks. Concurrently,
    enhancement methods such as retrieval-augmented generation (RAG)[[10](#bib.bib10)],
    agent with tools[[11](#bib.bib11)], and advanced prompting strategies like Chain-of-Thought[[12](#bib.bib12)]
    and Tree-of-Thoughts[[13](#bib.bib13)] have been proposed. These advancements
    address some issues of hallucinations and unexplainability in LLMs, making them
    more robust and trustworthy for practical applications.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 最近，大型语言模型（LLMs）如GPT[[7](#bib.bib7)]、LLaMA[[8](#bib.bib8)]和GLM[[9](#bib.bib9)]的出现彻底改变了人工智能，特别是在自然语言处理（NLP）方面。这些模型在生成类人文本、理解上下文和执行复杂任务方面表现出色。同时，增强方法如检索增强生成（RAG）[[10](#bib.bib10)]、带工具的代理[[11](#bib.bib11)]以及高级提示策略如思维链[[12](#bib.bib12)]和思维树[[13](#bib.bib13)]也被提出。这些进展解决了LLMs中的一些幻觉和不可解释性问题，使其在实际应用中更具鲁棒性和可信度。
- en: 'In this context, we explored the feasibility of integrating LLMs into a domain-specific
    application scenarios, i.e. energy and power science and engineering, by focusing
    on a classic issue in gas turbine operation and maintenance: gas path analysis.
    Our method involved crafting specific prompts and a dual-agent tool-calling process
    to guide LLMs in parsing tool parameters. We defined energy equations as tools
    for each component and employed ReAct chain thinking prompts[[14](#bib.bib14)]
    to guide LLM reasoning and solve performance parameters. Testing across different
    LLMs provided insights into their capabilities for understanding, thinking, and
    reasoning, offering valuable perspectives for further research and applications.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种背景下，我们探讨了将LLMs集成到特定领域应用场景中的可行性，即能源与电力科学与工程，重点关注燃气轮机操作和维护中的经典问题：气体路径分析。我们的方法包括制定具体的提示和双代理工具调用过程，以指导LLMs解析工具参数。我们将能量方程定义为每个组件的工具，并采用ReAct链式思维提示[[14](#bib.bib14)]来指导LLM推理和解决性能参数。对不同LLMs的测试提供了它们在理解、思考和推理方面的能力的见解，为进一步的研究和应用提供了宝贵的视角。
- en: 2 Background
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2 背景
- en: 2.1 Large Language Models
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1 大型语言模型
- en: Large language models (LLMs) epitomize a notable stride in artificial intelligence,
    particularly within the realm of natural language processing, hinging on neural
    networks and the transformer architecture for text processing and generation.
    Neural networks, intricate arrangements of interconnected neurons, adeptly transform
    input data through learned weights, thereby enabling multifaceted representations.
    A seminal advancement in LLMs is the integration of attention mechanisms, pivotal
    for discerning specific elements within input data, capturing extensive contextual
    dependencies. Central to LLMs, the transformer architecture comprises encoder
    and decoder layers, with the former processing input text and the latter generating
    output, leveraging self-attention mechanisms to gauge word relevance and contextual
    nuances. Beyond their fundamental architecture, LLMs offer distinct advantages
    over traditional AI methods, including their aptitude for coherent text generation
    and proficiency in reasoning tasks, bolstered by extensive training data. Techniques
    such as attention visualization enhance interpretability, shedding light on the
    model’s underlying processing mechanisms.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 大型语言模型（LLMs）体现了人工智能领域的一项显著进展，特别是在自然语言处理领域，依赖于神经网络和变换器架构进行文本处理和生成。神经网络是由互联神经元构成的复杂结构，通过学习的权重有效地转换输入数据，从而实现多层次的表示。LLMs
    的一项开创性进展是注意力机制的集成，这对于识别输入数据中的特定元素至关重要，并捕捉广泛的上下文依赖性。LLMs 的核心，变换器架构包含编码器和解码器层，其中编码器处理输入文本，而解码器生成输出，利用自注意力机制来评估单词的相关性和上下文细微差别。除了其基本架构外，LLMs
    相较于传统 AI 方法具有独特的优势，包括连贯文本生成的能力和推理任务的熟练度，这得益于广泛的训练数据。注意力可视化等技术提升了解释性，揭示了模型的基础处理机制。
- en: Recent years have witnessed a proliferation of LLM implementations, each characterized
    by unique architectural nuances, training datasets, and methodologies, engendering
    discernible disparities in their natural language comprehension and logical reasoning
    proficiencies. Our research evaluates multiple large language models from various
    organizations, elucidating their nuanced capabilities in parsing prompts and executing
    logical reasoning tasks for fundamental thermodynamics engineering problems.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 近年来，LLM 的实现数量激增，每种实现都有独特的架构细节、训练数据集和方法，导致它们在自然语言理解和逻辑推理能力上存在明显差异。我们的研究评估了来自不同组织的多个大型语言模型，阐明了它们在解析提示和执行基础热力学工程问题的逻辑推理任务中的细微能力。
- en: 2.2 LLM agent and ReAct prompts
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2 LLM 代理与 ReAct 提示
- en: The outputs of large language models are probabilistic estimations of human
    language, inherently subject to error and potential inaccuracies. These models
    may exhibit hallucinatory tendencies, particularly when confronted with scenarios
    beyond their training data, posing challenges for accurate response generation.
    Complex tasks often surpass the capabilities of single-shot language responses
    from large language models. Consequently, integrating these models with memory,
    planning, and tool-based capabilities emerges as a viable strategy for addressing
    intricate problems, leveraging their strengths while mitigating inherent limitations.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 大型语言模型的输出是对人类语言的概率估计，本质上存在错误和潜在的不准确性。这些模型可能会表现出幻觉倾向，特别是在面对超出其训练数据的场景时，这给准确的响应生成带来了挑战。复杂任务往往超出大型语言模型的单次语言响应能力。因此，将这些模型与记忆、规划和工具能力整合成为应对复杂问题的一种可行策略，利用其优势同时缓解固有的局限性。
- en: Large language model agents, enriched with callable tools and guided by ReAct
    (Reasoning and Acting) strategies, constitute an advanced framework for tackling
    intricate reasoning tasks. ReAct prompts facilitate systematic problem decomposition,
    addressing common LLM issues like hallucinations and unexplainability by providing
    structured reasoning pathways. Integrated callable tools serve as domain-specific
    functions, encapsulating expert knowledge and computational methodologies. In
    our experiment, a gas turbine component solution process, aligned with thermodynamic
    principles, guides LLMs to adhere to scientific laws. By synergizing LLMs’ language
    comprehension and contextual processing prowess with human-defined tools, these
    agents achieve a balance between certainty and adaptability in problem-solving.
    This approach enhances the reliability and interpretability of LLM agents, catering
    to the nuanced demands of fields like energy and power engineering, characterized
    by complex, context-dependent challenges.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 大型语言模型代理，结合可调用工具并通过ReAct（推理与行动）策略指导，构成了应对复杂推理任务的高级框架。ReAct提示帮助系统性地分解问题，通过提供结构化的推理路径，解决了大型语言模型常见的问题，如幻觉和无法解释性。集成的可调用工具作为领域特定功能，封装了专家知识和计算方法。在我们的实验中，与热力学原理相一致的气体涡轮组件解决方案过程，引导大型语言模型遵循科学规律。通过将大型语言模型的语言理解和上下文处理能力与人定义的工具结合，这些代理在解决问题时实现了确定性和适应性之间的平衡。这种方法增强了大型语言模型代理的可靠性和可解释性，满足了能源和电力工程等领域的复杂、依赖于上下文的挑战。
- en: 2.3 Gas turbine components and test data
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.3 气体涡轮组件及测试数据
- en: The gas turbine, operating on the Brayton cycle, converts gaseous fuel into
    mechanical energy efficiently through compression, heating, and expansion stages.
    Its components, including the compressor, combustion chamber, turbine, and nozzle,
    play vital roles in this thermodynamic process. The compressor elevates air pressure
    through adiabatic compression, crucial for overall turbine performance. In the
    combustion chamber, fuel-air mixture combustion significantly increases temperature
    and pressure, while the turbine extracts energy from the resulting gas flow to
    produce mechanical work. The nozzle accelerates exhaust gases, enhancing turbine
    efficiency.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 气体涡轮机在布雷顿循环中运行，通过压缩、加热和膨胀阶段，将气态燃料高效转化为机械能。其组件，包括压缩机、燃烧室、涡轮和喷嘴，在这一热力学过程中发挥着重要作用。压缩机通过绝热压缩提高空气压力，对整体涡轮性能至关重要。在燃烧室中，燃料-空气混合物的燃烧显著提高了温度和压力，而涡轮则从产生的气流中提取能量以产生机械功。喷嘴加速排气，提高了涡轮效率。
- en: 'Calculating compressor and turbine adiabatic efficiency involves determining
    enthalpy changes across these components under adiabatic assumptions and comparing
    actual to theoretical enthalpy changes to gauge performance. Test conditions typically
    measure temperatures, pressures, and fuel flow rates, while complexities often
    exclude parameters such as combustion chamber outlet (turbine inlet) and air/gas
    flow rates. Consequently, calculating turbine isentropic efficiency requires solving
    multiple components: determining gas flow rate through the nozzle, calculating
    turbine inlet temperature and pressure via enthalpy conservation in the combustion
    chamber, and finally computing the turbine’s isentropic efficiency. This process
    is illustrated in Figure [1](#S2.F1 "Figure 1 ‣ 2.3 Gas turbine components and
    test data ‣ 2 Background ‣ Domain-specific ReAct for physics-integrated iterative
    modeling: A case study of LLM agents for gas path analysis of gas turbines").
    This article aims to enable the large language model to comprehend and execute
    this calculation process.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 计算压缩机和涡轮的绝热效率涉及在绝热假设下确定这些组件的焓变化，并将实际焓变化与理论焓变化进行比较，以评估性能。测试条件通常测量温度、压力和燃料流量，而复杂性往往排除了如燃烧室出口（涡轮入口）和空气/气体流量等参数。因此，计算涡轮的等熵效率需要解决多个组件：确定通过喷嘴的气流量，利用燃烧室中的焓守恒计算涡轮入口的温度和压力，最后计算涡轮的等熵效率。该过程在图[1](#S2.F1
    "图 1 ‣ 2.3 气体涡轮组件及测试数据 ‣ 2 背景 ‣ 领域特定ReAct用于物理集成的迭代建模：气体涡轮气路分析的大型语言模型代理案例研究")中进行了说明。本文旨在使大型语言模型能够理解并执行这一计算过程。
- en: \includestandalone
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: \includestandalone
- en: '[width=0.98]gas-turb-calc'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '[width=0.98]气体涡轮计算'
- en: 'Figure 1: Schema of gas path analysis for gas turbines'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '图 1: 气体涡轮气路分析示意图'
- en: 3 Methods
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3 方法
- en: 3.1 LLMs models
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.1 大型语言模型
- en: 'Given the varying capabilities of different large language models, we selected
    models from various institutions to enable the calculation of gas turbine performance
    parameters and assess their application potential in energy and power engineering.
    The details of these models are presented in Table [1](#S3.T1 "Table 1 ‣ 3.1 LLMs
    models ‣ 3 Methods ‣ Domain-specific ReAct for physics-integrated iterative modeling:
    A case study of LLM agents for gas path analysis of gas turbines").'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '鉴于不同大型语言模型的能力差异，我们选择了来自不同机构的模型，以便计算燃气涡轮的性能参数，并评估其在能源与电力工程中的应用潜力。这些模型的详细信息见表[1](#S3.T1
    "Table 1 ‣ 3.1 LLMs models ‣ 3 Methods ‣ Domain-specific ReAct for physics-integrated
    iterative modeling: A case study of LLM agents for gas path analysis of gas turbines")。'
- en: 'Table 1: LLMs used in experiment'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 表1：实验中使用的LLMs
- en: '| Models | Number of Params | Model Creators | Publication Date | Access Method
    | Native Tools Support | Quantization Method |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| 模型 | 参数数量 | 模型创建者 | 发布日期 | 访问方式 | 本地工具支持 | 量化方法 |'
- en: '| --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- |'
- en: '| LLama3[[8](#bib.bib8)] | 8B | Meta | April 18, 2024 | Local Deployment |
    No | FP16 |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| LLama3[[8](#bib.bib8)] | 8B | Meta | 2024年4月18日 | 本地部署 | 否 | FP16 |'
- en: '| LLama3 | 70B | Meta | April 18, 2024 | Local Deployment | No | 4Bit |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| LLama3 | 70B | Meta | 2024年4月18日 | 本地部署 | 否 | 4Bit |'
- en: '| Qwen1.5[[15](#bib.bib15)] | 32B | Alibaba | February 5, 2024 | Local Deployment
    | No | 4Bit |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| Qwen1.5[[15](#bib.bib15)] | 32B | 阿里巴巴 | 2024年2月5日 | 本地部署 | 否 | 4Bit |'
- en: '| Qwen1.5 | 72B | Alibaba | February 5, 2024 | Local Deployment | No | 4Bit
    |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| Qwen1.5 | 72B | 阿里巴巴 | 2024年2月5日 | 本地部署 | 否 | 4Bit |'
- en: '| GPT3.5[[7](#bib.bib7)] | - | OpenAI | November 30, 2022 | API | Yes | - |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| GPT3.5[[7](#bib.bib7)] | - | OpenAI | 2022年11月30日 | API | 是 | - |'
- en: '| GPT4o | - | OpenAI | May 13, 2024 | Web | Yes | - |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| GPT4o | - | OpenAI | 2024年5月13日 | 网络 | 是 | - |'
- en: '| GLM4[[9](#bib.bib9)] | - | ZhipuAI | January 16, 2024 | Web & API | Yes |
    - |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| GLM4[[9](#bib.bib9)] | - | 智谱AI | 2024年1月16日 | 网络 & API | 是 | - |'
- en: 'Due to the commercial sensitivity of data in the energy and power engineering
    industry, we focused on testing multiple large language models that can be locally
    executed on consumer-grade graphics cards. The models listed in Table [1](#S3.T1
    "Table 1 ‣ 3.1 LLMs models ‣ 3 Methods ‣ Domain-specific ReAct for physics-integrated
    iterative modeling: A case study of LLM agents for gas path analysis of gas turbines")
    were deployed on a platform equipped with two NVIDIA RTX 4090 GPUs (totaling 48
    GB of video memory), with quantization applied to meet the memory constraints.
    Additionally, we tested the process described in this article using business models
    accessed through APIs to facilitate a comparative analysis of the results.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '由于能源与电力工程行业数据的商业敏感性，我们专注于测试多种可在消费级显卡上本地执行的大型语言模型。表[1](#S3.T1 "Table 1 ‣ 3.1
    LLMs models ‣ 3 Methods ‣ Domain-specific ReAct for physics-integrated iterative
    modeling: A case study of LLM agents for gas path analysis of gas turbines")中列出的模型部署在配备了两个NVIDIA
    RTX 4090 GPU（总计48 GB视频内存）的平台上，并应用了量化以满足内存限制。此外，我们还使用通过API访问的商业模型测试了本文描述的过程，以便进行结果的对比分析。'
- en: 3.2 Dual-agent tool-calling process
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2 双代理工具调用过程
- en: 'Given that the aforementioned large language models do not all natively support
    tool calling, this article employs a general dual-agent tool-calling process to
    construct a unified large language model agent. As illustrated in Figure [2](#S3.F2
    "Figure 2 ‣ 3.2 Dual-agent tool-calling process ‣ 3 Methods ‣ Domain-specific
    ReAct for physics-integrated iterative modeling: A case study of LLM agents for
    gas path analysis of gas turbines"), the first agent, prompted by the ReAct framework,
    outputs "Thought, Action, Action input" logically, enabling it to select and plan
    subsequent actions. When tool usage is required, the Action and Action input content
    generated by the first agent are submitted to the second agent. The second agent
    is tasked with qualifying the tool and extracting specific information in JSON
    format. This JSON information is then parsed into Python variables, and the preset
    tool code is executed to complete the calculation. The result from the second
    tool is returned as an "Observation" content to the first agent, which continues
    the "Thought, Action, Action input" process until it outputs the "Thought, Final
    Answer". Additionally, the first agent’s prompt includes several sentences on
    the fundamentals of gas turbines. The prompt words for both agents are provided
    in the appendix [A.1](#A1.SS1 "A.1 Prompts for LLMs ‣ Appendix A Appendix ‣ Domain-specific
    ReAct for physics-integrated iterative modeling: A case study of LLM agents for
    gas path analysis of gas turbines") at the end of this article.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于上述大型语言模型并不都原生支持工具调用，本文采用了一种通用的双代理工具调用过程来构建统一的大型语言模型代理。如图[2](#S3.F2 "图 2 ‣
    3.2 双代理工具调用过程 ‣ 3 方法 ‣ 针对物理学整合迭代建模的领域特定 ReAct：LLM 代理用于燃气轮机气体路径分析的案例研究")所示，第一个代理在
    ReAct 框架的提示下，逻辑地输出“思考、行动、行动输入”，使其能够选择和规划后续行动。当需要使用工具时，第一个代理生成的行动和行动输入内容会提交给第二个代理。第二个代理负责验证工具并以
    JSON 格式提取特定信息。然后将这些 JSON 信息解析为 Python 变量，执行预设的工具代码以完成计算。第二个工具的结果作为“观察”内容返回给第一个代理，第一个代理继续进行“思考、行动、行动输入”过程，直到输出“思考、最终答案”。此外，第一个代理的提示中包含有关燃气轮机基础知识的几句话。两个代理的提示词在本文末尾的附录[A.1](#A1.SS1
    "A.1 LLM 提示词 ‣ 附录 A 附录 ‣ 针对物理学整合迭代建模的领域特定 ReAct：LLM 代理用于燃气轮机气体路径分析的案例研究")中提供。
- en: \includestandalone
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: \includestandalone
- en: '[width=0.98]dual-agent-process'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '[width=0.98]双代理过程'
- en: 'Figure 2: Dual-agent tool-calling process'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '图 2: 双代理工具调用过程'
- en: 3.3 Gas path analysis solver tools
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.3 气体路径分析求解工具
- en: 'To ensure the outputs generated by the LLMs adhere to the fundamental laws
    of thermodynamics and to assist the agents in calculating the isentropic efficiency
    of the gas turbine compressor and turbine, we have predefined parameters and developed
    four tools for the gas turbine’s compressor, combustion chamber, turbine, and
    nozzle. These tools operate according to the following principles:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保 LLM 生成的输出符合热力学基本定律，并帮助代理计算燃气轮机压缩机和涡轮的等熵效率，我们已预定义参数并开发了四种工具，分别用于燃气轮机的压缩机、燃烧室、涡轮和喷嘴。这些工具根据以下原则操作：
- en: •
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: Compressor
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 压缩机
- en: '|  | $\eta_{\text{comp}}=\frac{\Delta H_{\text{ideal}}}{\Delta H_{\text{real}}}\approx\frac{\left(\frac{P_{\text{out}}}{P_{\text{in}}}\right)^{\frac{\gamma-1}{\gamma}}-1}{\frac{T_{\text{out}}}{T_{\text{in}}}-1}$
    |  |'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '|  | $\eta_{\text{comp}}=\frac{\Delta H_{\text{ideal}}}{\Delta H_{\text{real}}}\approx\frac{\left(\frac{P_{\text{out}}}{P_{\text{in}}}\right)^{\frac{\gamma-1}{\gamma}}-1}{\frac{T_{\text{out}}}{T_{\text{in}}}-1}$
    |  |'
- en: •
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: Combustion Chamber
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 燃烧室
- en: '|  | $1$2 |  |'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '|  | $1$2 |  |'
- en: •
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: Turbine
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 涡轮
- en: '|  | $\eta_{\text{turb}}=\frac{\Delta H_{\text{real}}}{\Delta H_{\text{ideal}}}\approx\frac{1-\frac{T_{\text{out}}}{T_{\text{in}}}}{1-\left(\frac{P_{\text{out}}}{P_{\text{in}}}\right)^{\frac{\gamma-1}{\gamma}}}$
    |  |'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '|  | $\eta_{\text{turb}}=\frac{\Delta H_{\text{real}}}{\Delta H_{\text{ideal}}}\approx\frac{1-\frac{T_{\text{out}}}{T_{\text{in}}}}{1-\left(\frac{P_{\text{out}}}{P_{\text{in}}}\right)^{\frac{\gamma-1}{\gamma}}}$
    |  |'
- en: •
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: Nozzle
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 喷嘴
- en: '|  | $1$2 |  |'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '|  | $1$2 |  |'
- en: 'To streamline the calculation process, various approximations were made, particularly
    concerning gas thermophysical properties and flow conservation. Since the internal
    calculations of these tools are not visible to the large language model, these
    simplifications do not impact the experimental evaluation of the model’s agent
    capabilities. In practical engineering applications, these tools can be substituted
    with any calculation process necessary to meet modeling accuracy requirements.
    The functions defining these four calculation tools are detailed in the appendix
    [A.2](#A1.SS2 "A.2 Tools for gas turbine components ‣ Appendix A Appendix ‣ Domain-specific
    ReAct for physics-integrated iterative modeling: A case study of LLM agents for
    gas path analysis of gas turbines") at the end of this article.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '为了简化计算过程，进行了各种近似，特别是关于气体热物理性质和流量守恒的近似。由于这些工具的内部计算对大型语言模型不可见，这些简化不会影响模型代理能力的实验评估。在实际工程应用中，这些工具可以替换为任何满足建模准确性要求的计算过程。定义这四种计算工具的函数详见本文末尾的附录
    [A.2](#A1.SS2 "A.2 Tools for gas turbine components ‣ Appendix A Appendix ‣ Domain-specific
    ReAct for physics-integrated iterative modeling: A case study of LLM agents for
    gas path analysis of gas turbines")。'
- en: 4 Results and discussion
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4 结果与讨论
- en: 'In the initial phase, we evaluated the performance of LLMs in calculating single
    component without embedded tools. Detailed questions, can be found in the appendix
    [A.3](#A1.SS3 "A.3 Test questions for LLM agents ‣ Appendix A Appendix ‣ Domain-specific
    ReAct for physics-integrated iterative modeling: A case study of LLM agents for
    gas path analysis of gas turbines"), were posed to the models. The results, summarized
    in Table [2](#S4.T2 "Table 2 ‣ 4 Results and discussion ‣ Domain-specific ReAct
    for physics-integrated iterative modeling: A case study of LLM agents for gas
    path analysis of gas turbines"), revealed that locally deployed models (LLama3
    and Qwen1.5) could only engage in text-based reasoning and preliminary calculations,
    resulting in incorrect outcomes. This highlights their limitation in performing
    accurate technical calculations through text alone. Conversely, web-accessed models
    (ChatGPT4o and ChatGLM4) demonstrated better performance. They engaged in conceptual
    reasoning, made reasonable assumptions (e.g., ideal gas properties, fuel calorific
    value, etc.), and generated and executed Python code. ChatGPT4o accurately calculated
    all gas turbine components, while ChatGLM4 correctly calculated the combustion
    chamber and turbine but erred with the nozzle and compressor.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '在初始阶段，我们评估了LLM在计算单一组件（没有嵌入工具）中的表现。详细问题见附录 [A.3](#A1.SS3 "A.3 Test questions
    for LLM agents ‣ Appendix A Appendix ‣ Domain-specific ReAct for physics-integrated
    iterative modeling: A case study of LLM agents for gas path analysis of gas turbines")，这些问题被提出给模型。结果汇总在表格
    [2](#S4.T2 "Table 2 ‣ 4 Results and discussion ‣ Domain-specific ReAct for physics-integrated
    iterative modeling: A case study of LLM agents for gas path analysis of gas turbines")
    中，显示本地部署的模型（LLama3 和 Qwen1.5）只能进行基于文本的推理和初步计算，结果不准确。这突显了它们通过文本进行准确技术计算的局限性。相比之下，网络访问的模型（ChatGPT4o
    和 ChatGLM4）表现更好。它们进行了概念推理，做出了合理假设（如理想气体性质、燃料热值等），并生成和执行了Python代码。ChatGPT4o 精确计算了所有气体涡轮组件，而ChatGLM4
    正确计算了燃烧室和涡轮，但在喷嘴和压缩机的计算上出现了错误。'
- en: These results indicate that while LLMs have a foundational understanding of
    gas turbine concepts, their reasoning and calculation accuracy varies. Web-accessed
    models, which support Python script execution, can handle complex tasks better
    than locally deployed models, which are limited to text-based reasoning.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 这些结果表明，尽管LLM对气体涡轮概念有基础理解，但它们的推理和计算准确性有所不同。支持Python脚本执行的网络访问模型在处理复杂任务时优于只能进行基于文本推理的本地部署模型。
- en: 'Table 2: Reasoning and calculation results of single components by native LLMs'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 表2：本地LLM对单一组件的推理和计算结果
- en: '| Models | Access Met. | Result |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| 模型 | 访问方法 | 结果 |'
- en: '| --- | --- | --- |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| LLama3-8B | Local Depl. | Incorrect reasoning & calculation through formulas
    expressed in textual language |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| LLama3-8B | 本地部署 | 错误的推理和通过文本语言表达的公式计算 |'
- en: '| LLama3-70B | Local Depl. | Incorrect reasoning & calculation through formulas
    expressed in textual language |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| LLama3-70B | 本地部署 | 错误的推理和通过文本语言表达的公式计算 |'
- en: '| Qwen1.5-32B | Local Depl. | Incorrect reasoning & calculation through formulas
    expressed in textual language |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| Qwen1.5-32B | 本地部署 | 错误的推理和通过文本语言表达的公式计算 |'
- en: '| Qwen1.5-72B | Local Depl. | Incorrect reasoning & calculation through formulas
    expressed in textual language |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| Qwen1.5-72B | 本地部署 | 通过以文本语言表达的公式进行的推理和计算不正确 |'
- en: '| GPT4o | Web | All correct calculation through reasoning, generation & execution
    of Python code |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| GPT4o | Web | 通过推理、生成和执行 Python 代码进行的所有计算均正确 |'
- en: '| GLM4 | Web | Partially incorrect calculation through reasoning, generation
    & execution of Python code |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| GLM4 | Web | 通过推理、生成和执行 Python 代码进行的部分错误计算 |'
- en: 'Most LLMs lack sufficient native knowledge of gas turbine components and cannot
    perform reasoning and calculations independently. To address this, we built a
    dual-agent system with predefined gas turbine calculation tools. After construction,
    we tested single-component calculation questions, summarized in Table [3](#S4.T3
    "Table 3 ‣ 4 Results and discussion ‣ Domain-specific ReAct for physics-integrated
    iterative modeling: A case study of LLM agents for gas path analysis of gas turbines").
    For the small model LLama3-8B, agent1 correctly generated "Thought, Action, Action
    input" response, but agent2 incorrectly produced tool call results in JSON when
    more than three tools were available. The Qwen1.5 models’ agent1 functioned normally,
    but agent2’s JSON strings had subtle errors, like added spaces in parameter names.
    Conversely, LLama3-70B, GPT3.5 and GLM4 accurately completed tool calls for all
    four components and generated user-friendly replies, demonstrating its superior
    capabilities. Detailed responses from some agents are provided in the appendix
    [A.4](#A1.SS4 "A.4 Response of LLM agents ‣ Appendix A Appendix ‣ Domain-specific
    ReAct for physics-integrated iterative modeling: A case study of LLM agents for
    gas path analysis of gas turbines").'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数 LLM 缺乏对燃气轮机组件的足够原生知识，无法独立进行推理和计算。为了解决这个问题，我们构建了一个带有预定义燃气轮机计算工具的双代理系统。构建后，我们测试了单一组件的计算问题，总结在表
    [3](#S4.T3 "表 3 ‣ 4 结果与讨论 ‣ 针对物理集成迭代建模的领域特定 ReAct：燃气轮机气流分析的 LLM 代理案例研究")。对于小模型
    LLama3-8B，代理1 正确生成了“思路、动作、动作输入”响应，但当有三个以上工具可用时，代理2 错误地生成了工具调用结果的 JSON。Qwen1.5
    模型的代理1 功能正常，但代理2 的 JSON 字符串有细微错误，比如参数名称中多出的空格。相反，LLama3-70B、GPT3.5 和 GLM4 准确地完成了四个组件的工具调用，并生成了用户友好的回复，展示了其优越的能力。某些代理的详细回复见附录
    [A.4](#A1.SS4 "A.4 LLM 代理的回复 ‣ 附录 A ‣ 针对物理集成迭代建模的领域特定 ReAct：燃气轮机气流分析的 LLM 代理案例研究")。
- en: 'Table 3: Reasoning and calculation results of single components by LLM agent
    embedded with tools'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '表 3: 嵌入工具的 LLM 代理对单一组件的推理和计算结果'
- en: '| Models | Access Met. | Result |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| 模型 | 访问方法 | 结果 |'
- en: '| --- | --- | --- |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| LLama3-8B | Local Depl. | Correct Action info from agent1, incorrect tool
    call JSON from agent2 |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| LLama3-8B | 本地部署 | 代理1 提供的动作信息正确，代理2 提供的工具调用 JSON 错误 |'
- en: '| LLama3-70B | Local Depl. | Correct results from both agents |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| LLama3-70B | 本地部署 | 两个代理的结果均正确 |'
- en: '| Qwen1.5-32B | Local Depl. | Correct Action info from agent1, incorrect tool
    call JSON from agent2 |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| Qwen1.5-32B | 本地部署 | 代理1提供的动作信息正确，代理2提供的工具调用 JSON 错误 |'
- en: '| Qwen1.5-72B | Local Depl. | Correct Action info from agent1, incorrect tool
    call JSON from agent2 |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| Qwen1.5-72B | 本地部署 | 代理1 提供的动作信息正确，代理2 提供的工具调用 JSON 错误 |'
- en: '| GPT3.5 | API | Correct results from both agents |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| GPT3.5 | API | 两个代理的结果均正确 |'
- en: '| GLM4 | API | Correct results from both agents |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| GLM4 | API | 两个代理的结果均正确 |'
- en: 'After integrating multi-component calculation tools, the three LLM agents could
    reason and make tool call decisions based on user queries. We tested them on a
    more complex task: calculating the adiabatic efficiency of both the gas turbine’s
    compressor and turbine using typical test data. Detailed questions are provided
    in the appendix [A.3](#A1.SS3 "A.3 Test questions for LLM agents ‣ Appendix A
    Appendix ‣ Domain-specific ReAct for physics-integrated iterative modeling: A
    case study of LLM agents for gas path analysis of gas turbines"). To solve this,
    the LLM agent needed to sequentially call the tools according to the logic in
    Figure [1](#S2.F1 "Figure 1 ‣ 2.3 Gas turbine components and test data ‣ 2 Background
    ‣ Domain-specific ReAct for physics-integrated iterative modeling: A case study
    of LLM agents for gas path analysis of gas turbines"), selecting correct parameters
    from the input and output data. Initially, all three agents correctly used the
    measured inlet and outlet data of the compressor. However, they incorrectly used
    unmeasured turbine inlet temperature and pressure parameters, leading to wrong
    turbine efficiency results. This indicates the LLMs struggled with complex reasoning
    chains and lacked a deep understanding of gas turbine specifics. With hints provided
    for solving sequence, GLM4 and GPT3.5 adjusted their order correctly but still
    selected incorrect tool parameters for the nozzle, resulting in errors. In contrast,
    LLama3-70B correctly executed the entire chain solution. Responses from LLM agents
    are included in the appendix [A.4](#A1.SS4 "A.4 Response of LLM agents ‣ Appendix
    A Appendix ‣ Domain-specific ReAct for physics-integrated iterative modeling:
    A case study of LLM agents for gas path analysis of gas turbines").'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '在整合多组件计算工具后，三个 LLM 代理能够根据用户查询进行推理并作出工具调用决策。我们在一个更复杂的任务上测试了它们：使用典型测试数据计算燃气涡轮的压缩机和涡轮的绝热效率。详细问题见附录
    [A.3](#A1.SS3 "A.3 Test questions for LLM agents ‣ Appendix A Appendix ‣ Domain-specific
    ReAct for physics-integrated iterative modeling: A case study of LLM agents for
    gas path analysis of gas turbines")。为了解决这个问题，LLM 代理需要按照图 [1](#S2.F1 "Figure 1
    ‣ 2.3 Gas turbine components and test data ‣ 2 Background ‣ Domain-specific ReAct
    for physics-integrated iterative modeling: A case study of LLM agents for gas
    path analysis of gas turbines") 中的逻辑顺序调用工具，从输入和输出数据中选择正确的参数。最初，所有三个代理都正确使用了压缩机的测量入口和出口数据。然而，它们错误地使用了未测量的涡轮入口温度和压力参数，导致涡轮效率结果错误。这表明
    LLM 在复杂推理链上遇到困难，且对燃气涡轮的细节缺乏深入理解。在解决序列的提示下，GLM4 和 GPT3.5 正确调整了顺序，但仍选择了错误的喷嘴工具参数，导致错误。相反，LLama3-70B
    正确执行了整个链式解决方案。LLM 代理的回应包含在附录 [A.4](#A1.SS4 "A.4 Response of LLM agents ‣ Appendix
    A Appendix ‣ Domain-specific ReAct for physics-integrated iterative modeling:
    A case study of LLM agents for gas path analysis of gas turbines") 中。'
- en: 'Table 4: Chain calculation results of multiple components by LLM agent with
    hints'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 表 4：LLM 代理在有提示情况下多个组件的链式计算结果
- en: '| Models | Access Met. | Result |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| 模型 | 访问方式 | 结果 |'
- en: '| --- | --- | --- |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| LLama3-70B | Local Depl. | Correctly executed the entire chain solution |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| LLama3-70B | 本地部署 | 正确执行了整个链式解决方案 |'
- en: '| GPT3.5 | API | Incorrectly selected parameters for calculating the nozzle
    |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| GPT3.5 | API | 选择了错误的喷嘴计算参数 |'
- en: '| GLM4 | API | Incorrectly selected parameters for calculating the nozzle |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| GLM4 | API | 选择了错误的喷嘴计算参数 |'
- en: The above results show that different LLMs exhibit varying capabilities. The
    state-of-the-art GPT4o model can independently generate and execute correct Python
    scripts for simple thermodynamic problems, such as gas turbine component calculations,
    highlighting the potential of tool-embedded LLM agents for scientific and engineering
    applications. Our dual-agent tool-calling process enables tool use across various
    LLMs, regardless of native support, reducing illusion phenomena and integrating
    human knowledge and complex models. However, LLMs vary in tool selection and parameter
    extraction accuracy. Generally, larger, more recent models perform better. Despite
    advancements, current LLMs struggle with complex, multi-component gas turbine
    problems. With human knowledge planning, LLMs may eventually handle these challenges
    successfully.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 上述结果显示不同的 LLM 展示了不同的能力。最先进的 GPT4o 模型可以独立生成并执行正确的 Python 脚本，用于简单的热力学问题，如燃气涡轮组件计算，突显了嵌入工具的
    LLM 代理在科学和工程应用中的潜力。我们的双代理工具调用过程使各种 LLM 在没有本地支持的情况下也能使用工具，减少了幻觉现象并整合了人类知识和复杂模型。然而，LLM
    在工具选择和参数提取准确性上存在差异。通常，较大且较新的模型表现更好。尽管有所进步，当前的 LLM 仍在复杂的多组件燃气涡轮问题上挣扎。通过人类知识规划，LLM
    可能最终能够成功应对这些挑战。
- en: 5 Conclusion
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5 结论
- en: Our study investigated the application of large language models (LLMs) with
    callable tools in the specialized domain of energy and power engineering, focusing
    specifically on gas turbine gas path analysis. We implemented a dual-agent tool-calling
    process designed to enhance LLM capabilities by integrating human knowledge, predefined
    tools, and LLM reasoning. This process was tested on several mainstream LLMs,
    including LLama3, Qwen1.5, and GPT, to evaluate their proficiency in tool parameter
    extraction, knowledge understanding, and reasoning. Smaller and older models such
    as LLama3-8B and Qwen1.5 exhibited limitations in effectively utilizing tools
    and extracting parameters, underscoring their struggles with complex, multi-component
    problems. In contrast, more advanced models like GPT4o and LLama3-70B demonstrated
    superior capabilities, showing promise in handling intricate engineering tasks.
    Despite these advancements, current LLMs still face challenges with highly complex,
    multi-component problems. However, LLM agents with tool calling ability, combined
    with human expertise, show significant potential for improving LLM performance
    in these intricate tasks. Continued development, fine-tuning, and advanced prompt
    engineering are likely to enhance their accuracy and effectiveness, enabling more
    sophisticated problem-solving in specialized domains.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的研究探讨了具有可调用工具的大型语言模型（LLMs）在能源和电力工程专业领域中的应用，特别关注燃气涡轮气体路径分析。我们实施了一个双代理工具调用过程，旨在通过整合人类知识、预定义工具和
    LLM 推理来增强 LLM 能力。这个过程在几个主流 LLMs 上进行了测试，包括 LLama3、Qwen1.5 和 GPT，以评估它们在工具参数提取、知识理解和推理方面的能力。较小和较老的模型，如
    LLama3-8B 和 Qwen1.5，在有效利用工具和提取参数方面存在局限性，突显了它们在复杂的多组件问题中的困难。相比之下，更先进的模型，如 GPT4o
    和 LLama3-70B，展现了卓越的能力，在处理复杂工程任务方面具有潜力。尽管有这些进展，目前的 LLMs 在高度复杂的多组件问题上仍面临挑战。然而，具备工具调用能力的
    LLM 代理与人类专家相结合，显示出在这些复杂任务中提升 LLM 性能的显著潜力。持续的发展、微调和高级提示工程可能会提高它们的准确性和有效性，从而在专业领域实现更复杂的问题解决。
- en: Based on the test results of these models, we can reasonably anticipate that
    with fine-tuning using professional knowledge and advanced prompting design, LLMs
    with nearly 100 billion parameters could meet the reasoning requirements of professional
    scenarios. Our findings lay the groundwork for future research and development
    in the application of LLMs in specialized engineering fields, paving the way for
    more robust and capable AI-driven solutions.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这些模型的测试结果，我们可以合理预期，通过利用专业知识和先进的提示设计进行微调，具有近1000亿参数的 LLMs 能够满足专业场景的推理要求。我们的发现为未来
    LLM 在专业工程领域的应用研究和开发奠定了基础，为更强大和有能力的 AI 驱动解决方案铺平了道路。
- en: References
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[1] Xiaoqian Chen, Xianqi Chen, Weien Zhou, Jun Zhang, and Wen Yao. The heat
    source layout optimization using deep learning surrogate modeling. Structural
    and Multidisciplinary Optimization, 62(6):3127–3148, December 2020.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[1] Xiaoqian Chen, Xianqi Chen, Weien Zhou, Jun Zhang, 和 Wen Yao. 使用深度学习代理模型的热源布局优化。结构与多学科优化，62(6):3127–3148，2020年12月。'
- en: '[2] Esther Andrés-Pérez and Carlos Paulete-Periáñez. On the application of
    surrogate regression models for aerodynamic coefficient prediction. Complex &
    Intelligent Systems, 7(4):1991–2021, August 2021.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[2] Esther Andrés-Pérez 和 Carlos Paulete-Periáñez. 代理回归模型在气动系数预测中的应用。复杂与智能系统，7(4):1991–2021，2021年8月。'
- en: '[3] Yuwei Fan, Tengbo Guo, Zhe Li, Liangyou Hong, Chao Liu, and Dongxiang Jiang.
    Structural Dynamic Load Prediction Method Based on Long Short-term Memory Network.
    Chinese Journal of Ship Research, 2023.'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[3] Yuwei Fan, Tengbo Guo, Zhe Li, Liangyou Hong, Chao Liu, 和 Dongxiang Jiang.
    基于长短期记忆网络的结构动态负荷预测方法。中国船舶研究杂志，2023年。'
- en: '[4] Yunfeng Jin, Chao Liu, Xin Tian, Haizhou Huang, Gaofeng Deng, Yunlong Guan,
    and Dongxiang Jiang. A hybrid model of LSTM neural networks with a thermodynamic
    model for condition-based maintenance of compressor fouling. Measurement Science
    and Technology, 32(12):124007, September 2021.'
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[4] Yunfeng Jin, Chao Liu, Xin Tian, Haizhou Huang, Gaofeng Deng, Yunlong Guan,
    和 Dongxiang Jiang. 一种结合了热力学模型的 LSTM 神经网络混合模型用于压缩机污损的状态监测。测量科学与技术，32(12):124007，2021年9月。'
- en: '[5] Tao Song, Chao Liu, Rui Wu, Yunfeng Jin, and Dongxiang Jiang. A hierarchical
    scheme for remaining useful life prediction with long short-term memory networks.
    Neurocomputing, 487:22–33, May 2022.'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[5] Tao Song, Chao Liu, Rui Wu, Yunfeng Jin, 和 Dongxiang Jiang. 基于长短期记忆网络的剩余使用寿命预测的分层方案。神经计算，487:22–33，2022年5月。'
- en: '[6] Yunfeng Jin, Chao Liu, Xin Tian, Haizhou Huang, Gaofeng Deng, Yunlong Guan,
    and Dongxiang Jiang. A novel integrated modeling approach for filter diagnosis
    in gas turbine air intake system. Proceedings of the Institution of Mechanical
    Engineers, Part A: Journal of Power and Energy, 236(3):435–449, May 2022.'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[6] 君峰·金，超刘，辛田，海洲·黄，高峰·邓，云龙·关，东翔·姜。用于燃气轮机进气系统滤网诊断的新型综合建模方法。《机械工程师学会会刊 A 部分：动力与能源期刊》，236(3):435–449，2022年5月。'
- en: '[7] Tom B. Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared Kaplan,
    Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell,
    Sandhini Agarwal, Ariel Herbert-Voss, Gretchen Krueger, Tom Henighan, Rewon Child,
    Aditya Ramesh, Daniel M. Ziegler, Jeffrey Wu, Clemens Winter, Christopher Hesse,
    Mark Chen, Eric Sigler, Mateusz Litwin, Scott Gray, Benjamin Chess, Jack Clark,
    Christopher Berner, Sam McCandlish, Alec Radford, Ilya Sutskever, and Dario Amodei.
    Language Models are Few-Shot Learners, July 2020, arXiv preprint arXiv:2005.14165.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[7] 汤姆·B·布朗，本杰明·曼，尼克·赖德，梅兰妮·苏比亚，贾瑞德·卡普兰，普拉富拉·达里瓦尔，阿尔文·尼拉坎坦，普拉纳夫·夏姆，吉里什·萨斯特里，阿曼达·阿斯克尔，桑德尼·阿加瓦尔，阿里尔·赫伯特-沃斯，格雷琴·克鲁格，汤姆·赫尼根，瑞温·查德，阿迪亚·拉梅什，丹尼尔·M·齐格勒，杰弗里·吴，克莱门斯·温特，克里斯托弗·赫斯，马克·陈，埃里克·西格勒，马泰乌斯·利特温，斯科特·格雷，本杰明·切斯，杰克·克拉克，克里斯托弗·伯纳，山姆·麦坎德利什，亚历克·拉德福德，伊利亚·苏茨克弗，达里奥·阿莫代。语言模型是少样本学习者，2020年7月，arXiv
    预印本 arXiv:2005.14165。'
- en: '[8] Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne
    Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric Hambro, Faisal
    Azhar, Aurelien Rodriguez, Armand Joulin, Edouard Grave, and Guillaume Lample.
    LLaMA: Open and Efficient Foundation Language Models, February 2023, arXiv preprint
    arXiv:2302.13971.'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[8] 于戈·图弗龙，蒂博·拉夫里尔，戈蒂埃·伊扎卡德，泽维尔·马尔蒂内，玛丽-安·拉肖，蒂莫西·拉克鲁瓦，巴普蒂斯特·罗齐耶，纳曼·戈亚尔，埃里克·汉布罗，法伊萨尔·阿兹哈尔，奥雷利安·罗德里格斯，阿尔芒·朱林，爱德华·格雷夫，纪尧姆·兰普尔。LLaMA：开放和高效的基础语言模型，2023年2月，arXiv
    预印本 arXiv:2302.13971。'
- en: '[9] Zhengxiao Du, Yujie Qian, Xiao Liu, Ming Ding, Jiezhong Qiu, Zhilin Yang,
    and Jie Tang. GLM: General Language Model Pretraining with Autoregressive Blank
    Infilling, March 2022, arXiv preprint arXiv:2103.10360.'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[9] 郑霄·杜，玉杰·钱，小刘，明丁，洁中·邱，志林·杨，杰·唐。GLM：具有自回归空白填充的通用语言模型预训练，2022年3月，arXiv 预印本
    arXiv:2103.10360。'
- en: '[10] Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir
    Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel,
    Sebastian Riedel, and Douwe Kiela. Retrieval-Augmented Generation for Knowledge-Intensive
    NLP Tasks, April 2021, arXiv preprint arXiv:2005.11401.'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[10] 帕特里克·刘易斯，伊桑·佩雷斯，亚历山德拉·皮克图斯，法比奥·佩特罗尼，弗拉基米尔·卡尔普金，纳曼·戈亚尔，海因里希·库特勒，迈克·刘易斯，温涛·伊赫，蒂姆·罗克特谢尔，塞巴斯蒂安·里德尔，道维·凯拉。用于知识密集型自然语言处理任务的检索增强生成，2021年4月，arXiv
    预印本 arXiv:2005.11401。'
- en: '[11] Bhargavi Paranjape, Scott Lundberg, Sameer Singh, Hannaneh Hajishirzi,
    Luke Zettlemoyer, and Marco Tulio Ribeiro. ART: Automatic multi-step reasoning
    and tool-use for large language models, March 2023, arXiv preprint arXiv:2303.09014.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[11] 巴尔伽维·帕兰贾佩，斯科特·伦德伯格，萨米尔·辛格，哈娜赫·哈吉希尔齐，卢克·泽特尔莫耶，马尔科·图利奥·里贝罗。ART：大型语言模型的自动多步推理和工具使用，2023年3月，arXiv
    预印本 arXiv:2303.09014。'
- en: '[12] Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Brian Ichter,
    Fei Xia, Ed Chi, Quoc Le, and Denny Zhou. Chain-of-Thought Prompting Elicits Reasoning
    in Large Language Models, January 2023, arXiv preprint arXiv:2201.11903.'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[12] 杰森·魏，薛智·王，戴尔·舒尔曼斯，马丁·博斯马，布赖恩·伊克特，费伊·夏，埃德·池，阮克·乐，丹尼·周。链式思维提示引发大型语言模型中的推理，2023年1月，arXiv
    预印本 arXiv:2201.11903。'
- en: '[13] Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Thomas L. Griffiths,
    Yuan Cao, and Karthik Narasimhan. Tree of Thoughts: Deliberate Problem Solving
    with Large Language Models, December 2023, arXiv preprint arXiv:2305.10601.'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[13] 顺宇·姚，点·余，杰弗里·赵，伊扎克·沙夫兰，托马斯·L·格里菲斯，袁·曹，卡尔提克·纳拉西曼。思想树：利用大型语言模型进行深思熟虑的问题解决，2023年12月，arXiv
    预印本 arXiv:2305.10601。'
- en: '[14] Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan,
    and Yuan Cao. ReAct: Synergizing Reasoning and Acting in Language Models, March
    2023, arXiv preprint arXiv:2210.03629.'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[14] 顺宇·姚，杰弗里·赵，点·余，楠·杜，伊扎克·沙夫兰，卡尔提克·纳拉西曼，袁·曹。ReAct：在语言模型中协同推理与行动，2023年3月，arXiv
    预印本 arXiv:2210.03629。'
- en: '[15] Jinze Bai, Shuai Bai, Yunfei Chu, Zeyu Cui, Kai Dang, Xiaodong Deng, Yang
    Fan, Wenbin Ge, Yu Han, Fei Huang, Binyuan Hui, Luo Ji, Mei Li, Junyang Lin, Runji
    Lin, Dayiheng Liu, Gao Liu, Chengqiang Lu, Keming Lu, Jianxin Ma, Rui Men, Xingzhang
    Ren, Xuancheng Ren, Chuanqi Tan, Sinan Tan, Jianhong Tu, Peng Wang, Shijie Wang,
    Wei Wang, Shengguang Wu, Benfeng Xu, Jin Xu, An Yang, Hao Yang, Jian Yang, Shusheng
    Yang, Yang Yao, Bowen Yu, Hongyi Yuan, Zheng Yuan, Jianwei Zhang, Xingxuan Zhang,
    Yichang Zhang, Zhenru Zhang, Chang Zhou, Jingren Zhou, Xiaohuan Zhou, and Tianhang
    Zhu. Qwen Technical Report, September 2023, arXiv preprint arXiv:2309.16609.'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[15] Jinze Bai, Shuai Bai, Yunfei Chu, Zeyu Cui, Kai Dang, Xiaodong Deng, Yang
    Fan, Wenbin Ge, Yu Han, Fei Huang, Binyuan Hui, Luo Ji, Mei Li, Junyang Lin, Runji
    Lin, Dayiheng Liu, Gao Liu, Chengqiang Lu, Keming Lu, Jianxin Ma, Rui Men, Xingzhang
    Ren, Xuancheng Ren, Chuanqi Tan, Sinan Tan, Jianhong Tu, Peng Wang, Shijie Wang,
    Wei Wang, Shengguang Wu, Benfeng Xu, Jin Xu, An Yang, Hao Yang, Jian Yang, Shusheng
    Yang, Yang Yao, Bowen Yu, Hongyi Yuan, Zheng Yuan, Jianwei Zhang, Xingxuan Zhang,
    Yichang Zhang, Zhenru Zhang, Chang Zhou, Jingren Zhou, Xiaohuan Zhou, 和 Tianhang
    Zhu. Qwen 技术报告，2023年9月，arXiv 预印本 arXiv:2309.16609。'
- en: Appendix A Appendix
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 A 附录
- en: A.1 Prompts for LLMs
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.1 针对 LLM 的提示
- en: 'System prompt for agent1 under ReAct strategy:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: ReAct 策略下 agent1 的系统提示：
- en: '1You  are  a  helpful  assistant  like  a  pirate.2Perform  the  task  to  the  best  of  your  ability.3You  is  here  to  assist.4TOOLS:5------6You  has  access  to  the  following  tools:7calc_compressor_eff(inlet_T:  float,  inlet_P:  float,  outlet_T:  float,  outlet_P:  float)  ->  dict  -  Calculate  the  isentropic  efficiency  of  a  COMPRESSOR  by  inputting  inlet  temperature  and  pressure,  outlet  temperature  and  pressure8calc_turbine_eff(inlet_T:  float,  inlet_P:  float,  outlet_T:  float,  outlet_P:  float)  ->  dict  -  Calculate  the  isentropic  efficiency  of  a  TURBINE  by  inputting  inlet  temperature  and  pressure,  outlet  temperature  and  pressure9calc_nozzle(inlet_T:  float,  inlet_P:  float,  outlet_P:  float,  throat_area:  float)  ->  dict  -  Calculate  NOZZLE  condition  like  the  mass  flow  rate  wether  choked  or  not,  by  inputting  the  inlet  temperature,  inlet  pressure,  outlet  pressure,  and  throat  area10calc_burner_outlet(inlet_T:  float,  inlet_P:  float,  W_fuel:  float,  W_air:  float)  ->  dict  -  Calculate  the  outlet  temperature  and  pressure  of  a  combustion  chamber  (BURNER)  by  inputting  the  inlet  temperature,  inlet  pressure,  fuel  flow  rate,  and  air  flow  rate11To  use  a  tool,  please  use  the  following  format:12‘‘‘13Thought:  Do  I  need  to  use  a  tool?  Yes14Action:  the  action  to  take,  should  be  one  of  [calc_compressor_eff,  calc_turbine_eff,  calc_nozzle,  calc_burner_outlet]15Action  Input:  the  input  to  the  action16Observation:  the  result  of  the  action17‘‘‘18When  you  have  a  response  to  say  to  the  Human,  or  if  you  do  not  need  to  use  a  tool,  you  MUST  use  the  format:19‘‘‘20Thought:  Do  I  need  to  use  a  tool?  No21Final  Answer:  [your  response  here]22‘‘‘23You  always  MUST  use  the  format:24‘‘‘25Thought:  you  should  always  think  about  what  to  do26Action:  the  action  to  take,  should  be  one  of  [calc_compressor_eff,  calc_turbine_eff,  calc_nozzle,  calc_burner_outlet]27Action  Input:  the  input  to  the  action28Observation:  the  result  of  the  action29...  (this  Thought/Action/Action  Input/Observation  can  repeat  N  times)30Thought:  I  now  know  the  final  answer31Final  Answer:  the  final  answer  to  the  original  input  question32‘‘‘3334You  are  familiar  with  the  basic  structure  of  a  gas  turbine,  comprising  a  compressor,  combustion  chamber(burner),  turbine,  and  nozzle.35The  components  are  connected  in  sequence,  thus  satisfying  these  relationships:36*  inlet-to-outlet  correspondence:  compressor  outlet  =  burner  inlet;  burner  outlet  =  turbine  inlet;  turbine  outlet  =  nozzle  inlet37*  equality  of  flow  rates  across  components:  W_comp  =  W_burner  =  W_turbine  =  W_nozzle  =  W_air3839When  asked  for  a  single  component  information,  you  can  call  the  corresponding  tool  and  answer  directly4041Please  assist  in  implementing  these  calculations  to  analyze  the  performance  of  a  gas  turbine.424344Your  answer  must  always  contain  points:45(Thought,  Final  Answer)  or  (Thought,  Action,  Action  Input)46Your  answer  can‘t  contain  both  points  ’Final  Answer’  and  ’Action’4748You  should  use  ONE  tool  at  a  time,  think  STEP  BY  STEP49Begin!'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '1你是一个像海盗一样有帮助的助手。2请尽你所能完成任务。3你在这里是为了协助。4工具：5------6你可以使用以下工具：7calc_compressor_eff(inlet_T:  float,  inlet_P:  float,  outlet_T:  float,  outlet_P:  float)  ->  dict  -  通过输入入口温度和压力、出口温度和压力来计算压缩机的绝热效率8calc_turbine_eff(inlet_T:  float,  inlet_P:  float,  outlet_T:  float,  outlet_P:  float)  ->  dict  -  通过输入入口温度和压力、出口温度和压力来计算涡轮机的绝热效率9calc_nozzle(inlet_T:  float,  inlet_P:  float,  outlet_P:  float,  throat_area:  float)  ->  dict  -  通过输入入口温度、入口压力、出口压力和喉道面积来计算喷嘴的状态，例如质量流量和是否发生了喷嘴堵塞10calc_burner_outlet(inlet_T:  float,  inlet_P:  float,  W_fuel:  float,  W_air:  float)  ->  dict  -  通过输入入口温度、入口压力、燃料流量和空气流量来计算燃烧室（燃烧器）的出口温度和压力11要使用工具，请使用以下格式：12‘‘‘13思考：我需要使用工具吗？
    是14操作：要采取的操作，应为 [calc_compressor_eff,  calc_turbine_eff,  calc_nozzle,  calc_burner_outlet]
    之一15操作输入：操作的输入16观察：操作的结果17‘‘‘18当你有回应要对人类说，或者当你不需要使用工具时，你必须使用以下格式：19‘‘‘20思考：我需要使用工具吗？
    否21最终答案：[在此处给出你的回应]22‘‘‘23你必须始终使用以下格式：24‘‘‘25思考：你应该总是考虑要做什么26操作：要采取的操作，应为 [calc_compressor_eff,  calc_turbine_eff,  calc_nozzle,  calc_burner_outlet]
    之一27操作输入：操作的输入28观察：操作的结果29...（此思考/操作/操作输入/观察可以重复 N 次）30思考：我现在知道最终答案31最终答案：原始输入问题的最终答案32‘‘‘33你对气体涡轮机的基本结构非常熟悉，包括压缩机、燃烧室（燃烧器）、涡轮机和喷嘴。34这些组件按顺序连接，从而满足以下关系：35*
    入口到出口的对应关系：压缩机出口 = 燃烧器入口； 燃烧器出口 = 涡轮机入口； 涡轮机出口 = 喷嘴入口36* 组件间流量的相等：W_comp = W_burner
    = W_turbine = W_nozzle = W_air37当被要求提供单个组件信息时，你可以调用相应的工具并直接回答38请协助实施这些计算，以分析气体涡轮机的性能。39你的回答必须始终包含以下要点：40（思考，最终答案）或（思考，操作，操作输入）41你的回答不能同时包含‘最终答案’和‘操作’42你应一次使用一个工具，按步骤进行思考43开始！'
- en: 'System prompt for agent2:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 代理2的系统提示：
- en: '1You  have  access  to  the  following  tools:23[4  {5  "name":  "calc_compressor_eff",6  "description":  "calc_compressor_eff(inlet_T:  float,  inlet_P:  float,  outlet_T:  float,  outlet_P:  float)  ->  dict  -  Calculate  the  isentropic  efficiency  of  a  COMPRESSOR  by  inputting  inlet  temperature  and  pressure,  outlet  temperature  and  pressure",7  "parameters":  {8  "type":  "object",9  "properties":  {10  "inlet_T":  {11  "type":  "number"12  },13  "inlet_P":  {14  "type":  "number"15  },16  "outlet_T":  {17  "type":  "number"18  },19  "outlet_P":  {20  "type":  "number"21  }22  },23  "required":  [24  "inlet_T",25  "inlet_P",26  "outlet_T",27  "outlet_P"28  ]29  }30  },31  {32  "name":  "calc_turbine_eff",33  "description":  "calc_turbine_eff(inlet_T:  float,  inlet_P:  float,  outlet_T:  float,  outlet_P:  float)  ->  dict  -  Calculate  the  isentropic  efficiency  of  a  TURBINE  by  inputting  inlet  temperature  and  pressure,  outlet  temperature  and  pressure",34  "parameters":  {35  "type":  "object",36  "properties":  {37  "inlet_T":  {38  "type":  "number"39  },40  "inlet_P":  {41  "type":  "number"42  },43  "outlet_T":  {44  "type":  "number"45  },46  "outlet_P":  {47  "type":  "number"48  }49  },50  "required":  [51  "inlet_T",52  "inlet_P",53  "outlet_T",54  "outlet_P"55  ]56  }57  },58  {59  "name":  "calc_nozzle",60  "description":  "calc_nozzle(inlet_T:  float,  inlet_P:  float,  outlet_P:  float,  throat_area:  float)  ->  dict  -  Calculate  NOZZLE  condition  like  the  mass  flow  rate  wether  choked  or  not,  by  inputting  the  inlet  temperature,  inlet  pressure,  outlet  pressure,  and  throat  area",61  "parameters":  {62  "type":  "object",63  "properties":  {64  "inlet_T":  {65  "type":  "number"66  },67  "inlet_P":  {68  "type":  "number"69  },70  "outlet_P":  {71  "type":  "number"72  },73  "throat_area":  {74  "type":  "number"75  }76  },77  "required":  [78  "inlet_T",79  "inlet_P",80  "outlet_P",81  "throat_area"82  ]83  }84  },85  {86  "name":  "calc_burner_outlet",87  "description":  "calc_burner_outlet(inlet_T:  float,  inlet_P:  float,  W_fuel:  float,  W_air:  float)  ->  dict  -  Calculate  the  outlet  temperature  and  pressure  of  a  combustion  chamber  (BURNER)  by  inputting  the  inlet  temperature,  inlet  pressure,  fuel  flow  rate,  and  air  flow  rate",88  "parameters":  {89  "type":  "object",90  "properties":  {91  "inlet_T":  {92  "type":  "number"93  },94  "inlet_P":  {95  "type":  "number"96  },97  "W_fuel":  {98  "type":  "number"99  },100  "W_air":  {101  "type":  "number"102  }103  },104  "required":  [105  "inlet_T",106  "inlet_P",107  "W_fuel",108  "W_air"109  ]110  }111  }112]113114You  must  always  select  one  of  the  above  tools  and  respond  with  only  a  JSON  object  matching  the  following  schema:115116{117  "tool":  ,118  "tool_input":  119}'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '你可以使用以下工具：23[4 {5 "name": "calc_compressor_eff",6 "description": "calc_compressor_eff(inlet_T:
    float, inlet_P: float, outlet_T: float, outlet_P: float) -> dict - 通过输入进口温度和压力、出口温度和压力，计算压缩机的等熵效率",7
    "parameters": {8 "type": "object",9 "properties": {10 "inlet_T": {11 "type": "number"12
    },13 "inlet_P": {14 "type": "number"15 },16 "outlet_T": {17 "type": "number"18
    },19 "outlet_P": {20 "type": "number"21 }22 },23 "required": [24 "inlet_T",25
    "inlet_P",26 "outlet_T",27 "outlet_P"28 ]29 }30 },31 {32 "name": "calc_turbine_eff",33
    "description": "calc_turbine_eff(inlet_T: float, inlet_P: float, outlet_T: float,
    outlet_P: float) -> dict - 通过输入进口温度和压力、出口温度和压力，计算涡轮的等熵效率",34 "parameters": {35
    "type": "object",36 "properties": {37 "inlet_T": {38 "type": "number"39 },40 "inlet_P":
    {41 "type": "number"42 },43 "outlet_T": {44 "type": "number"45 },46 "outlet_P":
    {47 "type": "number"48 }49 },50 "required": [51 "inlet_T",52 "inlet_P",53 "outlet_T",54
    "outlet_P"55 ]56 }57 },58 {59 "name": "calc_nozzle",60 "description": "calc_nozzle(inlet_T:
    float, inlet_P: float, outlet_P: float, throat_area: float) -> dict - 通过输入进口温度、进口压力、出口压力和喉部面积，计算喷嘴的状态，如质量流量是否发生堵塞",61
    "parameters": {62 "type": "object",63 "properties": {64 "inlet_T": {65 "type":
    "number"66 },67 "inlet_P": {68 "type": "number"69 },70 "outlet_P": {71 "type":
    "number"72 },73 "throat_area": {74 "type": "number"75 }76 },77 "required": [78
    "inlet_T",79 "inlet_P",80 "outlet_P",81 "throat_area"82 ]83 }84 },85 {86 "name":
    "calc_burner_outlet",87 "description": "calc_burner_outlet(inlet_T: float, inlet_P:
    float, W_fuel: float, W_air: float) -> dict - 通过输入进口温度、进口压力、燃料流量和空气流量，计算燃烧室（燃烧器）的出口温度和压力",88
    "parameters": {89 "type": "object",90 "properties": {91 "inlet_T": {92 "type":
    "number"93 },94 "inlet_P": {95 "type": "number"96 },97 "W_fuel": {98 "type": "number"99
    },100 "W_air": {101 "type": "number"102 }103 },104 "required": [105 "inlet_T",106
    "inlet_P",107 "W_fuel",108 "W_air"109 ]110 }111 }112]113114你必须始终选择上述工具中的一个，并仅以匹配以下模式的
    JSON 对象响应：115116{117 "tool": ,118 "tool_input": 119}'
- en: A.2 Tools for gas turbine components
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.2 燃气轮机组件的工具
- en: '1from  langchain_core.tools  import  tool23gamma,  R  =  1.4,  287.05287445@tool6def  calc_compressor_eff(inlet_T  :  float,  inlet_P  :  float,  outlet_T  :  float,  outlet_P  :  float)  ->  dict:7  """Calculate  the  isentropic  efficiency  of  a  COMPRESSOR  by  inputting  inlet  temperature  and  pressure,  outlet  temperature  and  pressure"""8  return  {"comp_isentropic_eff":  ((outlet_P  /  inlet_P)  **  ((gamma  -  1)  /  gamma)  -  1)  /  (outlet_T  /  inlet_T  -  1  )}910@tool11def  calc_turbine_eff(inlet_T  :  float,  inlet_P  :  float,  outlet_T  :  float,  outlet_P  :  float)  ->  dict:12  """Calculate  the  isentropic  efficiency  of  a  TURBINE  by  inputting  inlet  temperature  and  pressure,  outlet  temperature  and  pressure"""13  return  {"turb_isentropic_eff":  (1  -  outlet_T  /  inlet_T)  /  (1  -  (outlet_P  /  inlet_P)  **  ((gamma  -  1)  /  gamma))}1415@tool16def  calc_nozzle(inlet_T  :  float,  inlet_P  :  float,  outlet_P  :  float,  throat_area  :  float)  ->  dict:17  """Calculate  NOZZLE  condition  like  the  mass  flow  rate  wether  choked  or  not,  by  inputting  the  inlet  temperature,  inlet  pressure,  outlet  pressure,  and  throat  area"""18  nozz_pr  =  inlet_P  /  outlet_P19  nozz_mach  =  ((nozz_pr  **  ((gamma  -  1)  /  gamma)  -  1)  *  (2  /  (gamma  -  1)))  **  0.520  nozz_outlet_mach  =  min(nozz_mach,  1)21  nozz_w  =  inlet_P  *  throat_area  /  inlet_T**0.5  *  gamma**0.5  *  nozz_outlet_mach  *  (1+(gamma-1)/2*nozz_outlet_mach**2)**(-(gamma+1)/(2*gamma-2))  /  R**0.522  return  {"W_nozz":  nozz_w,  "chocked":  "yes"  if  nozz_mach  >  1  else  "no"}2324@tool25def  calc_burner_outlet(inlet_T  :  float,  inlet_P  :  float,  W_fuel  :  float,  W_air  :  float)  ->  dict:26  """Calculate  the  outlet  temperature  and  pressure  of  a  combustion  chamber  (BURNER)  by  inputting  the  inlet  temperature,  inlet  pressure,  fuel  flow  rate,  and  air  flow  rate"""27  outlet_T  =  inlet_T  +  (48.6e6  /  1005)  *  W_fuel  /  W_air28  return  {29  "burner_outlet_T":  outlet_T,30  "burner_outlet_P":  inlet_P  *  0.9531  }'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '1from  langchain_core.tools  import  tool23gamma,  R  =  1.4,  287.05287445@tool6def  calc_compressor_eff(inlet_T  :  float,  inlet_P  :  float,  outlet_T  :  float,  outlet_P  :  float)  ->  dict:7  """通过输入入口温度和压力、出口温度和压力来计算压缩机的**等熵效率**"""8  return  {"comp_isentropic_eff":  ((outlet_P  /  inlet_P)  **  ((gamma  -  1)  /  gamma)  -  1)  /  (outlet_T  /  inlet_T  -  1  )}910@tool11def  calc_turbine_eff(inlet_T  :  float,  inlet_P  :  float,  outlet_T  :  float,  outlet_P  :  float)  ->  dict:12  """通过输入入口温度和压力、出口温度和压力来计算涡轮的**等熵效率**"""13  return  {"turb_isentropic_eff":  (1  -  outlet_T  /  inlet_T)  /  (1  -  (outlet_P  /  inlet_P)  **  ((gamma  -  1)  /  gamma))}1415@tool16def  calc_nozzle(inlet_T  :  float,  inlet_P  :  float,  outlet_P  :  float,  throat_area  :  float)  ->  dict:17  """通过输入入口温度、入口压力、出口压力和喉道面积来计算喷嘴的条件，如质量流量是否达到**临界状态**"""18  nozz_pr  =  inlet_P  /  outlet_P19  nozz_mach  =  ((nozz_pr  **  ((gamma  -  1)  /  gamma)  -  1)  *  (2  /  (gamma  -  1)))  **  0.520  nozz_outlet_mach  =  min(nozz_mach,  1)21  nozz_w  =  inlet_P  *  throat_area  /  inlet_T**0.5  *  gamma**0.5  *  nozz_outlet_mach  *  (1+(gamma-1)/2*nozz_outlet_mach**2)**(-(gamma+1)/(2*gamma-2))  /  R**0.522  return  {"W_nozz":  nozz_w,  "chocked":  "yes"  if  nozz_mach  >  1  else  "no"}2324@tool25def  calc_burner_outlet(inlet_T  :  float,  inlet_P  :  float,  W_fuel  :  float,  W_air  :  float)  ->  dict:26  """通过输入入口温度、入口压力、燃料流量和空气流量来计算燃烧室（**燃烧器**）的出口温度和压力"""27  outlet_T  =  inlet_T  +  (48.6e6  /  1005)  *  W_fuel  /  W_air28  return  {29  "burner_outlet_T":  outlet_T,30  "burner_outlet_P":  inlet_P  *  0.9531  }'
- en: A.3 Test questions for LLM agents
  id: totrans-147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.3 LLM 代理的测试问题
- en: 'Questions of a single component can be solved with a single tool call Question
    1 Please help me calculate the compressor efficiency with the following inlet
    conditions: temperature and pressure of 300K and 101325Pa, respectively; and outlet
    conditions: temperature and pressure of 420K and 201325Pa, respectively. Question
    2 Please assist me in calculating the efficiency of the turbine at the following
    inlet conditions: temperature and pressure of 1300K and 1601325Pa, respectively;
    and outlet conditions: temperature and pressure of 820K and 201325Pa, respectively.
    Question 3 Please help me determine the nozzle flow rate and whether there is
    any blockage with the following conditions: inlet temperature and pressure of
    420K and 201325Pa, respectively; outlet pressure of 101325Pa; and nozzle cross-sectional
    area of 0.25 m2. Question 4 Please calculate the outlet conditions of the combustion
    chamber for me with the following inlet conditions: temperature and pressure of
    1300K and 801325Pa, respectively; air flow rate of 85 kg/s; and fuel flow rate
    of 1.4 kg/s. Question 5 Please help me calculate the flow rate through a nozzle
    with a minimum area of 0.3 m2, at atmospheric pressure of 101325Pa, and with inlet
    conditions of 420K and an inlet pressure of 400kPa.'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 单个组件的问题可以通过单次工具调用解决。问题1：请帮我计算在以下入口条件下的压缩机效率：入口温度和压力分别为300K和101325Pa；出口条件：温度和压力分别为420K和201325Pa。问题2：请协助我计算在以下入口条件下的涡轮效率：入口温度和压力分别为1300K和1601325Pa；出口条件：温度和压力分别为820K和201325Pa。问题3：请帮我确定在以下条件下喷嘴的流量及是否有阻塞：入口温度和压力分别为420K和201325Pa；出口压力为101325Pa；喷嘴横截面积为0.25
    m²。问题4：请计算燃烧室的出口条件，入口条件为：温度和压力分别为1300K和801325Pa；空气流量为85 kg/s；燃料流量为1.4 kg/s。问题5：请帮我计算喷嘴的流量，喷嘴最小面积为0.3
    m²，气压为101325Pa，入口条件为420K和入口压力为400kPa。
- en: 'Questions that require chain thinking and continuous use of tools to solve
    Question 6 I tested a gas turbine with the following data: Atmospheric temperature
    is 300K, pressure is 101325Pa. Compressor outlet / burner inlet temperature is
    700K, pressure is 1800kPa, fuel flow rate of 1.5 kg/s. Nozzle inlet temperature
    of 620 K, pressure of 301325Pa, nozzle area is 4.24 m2\. Please help me calculate
    the adiabatic efficiency of the compressor and the turbine. Question 7 I tested
    a gas turbine with the following data: Atmospheric temperature is 300K, pressure
    is 101325Pa. Compressor outlet / burner inlet temperature is 700K, pressure is
    1800kPa, fuel flow rate of 1.5 kg/s. Nozzle inlet temperature of 620 K, pressure
    of 301325Pa, nozzle area is 4.24 m2\. Please help me calculate the adiabatic efficiency
    of the compressor and the turbine. You should calculate nozzle first for air mass
    flow, and then calculate burner for turbine inlet. Then calculate the turbine
    efficiency.'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 需要链式思维和持续使用工具来解决问题。问题6：我测试了一台燃气涡轮机，数据如下：大气温度为300K，压力为101325Pa。压缩机出口/燃烧器入口温度为700K，压力为1800kPa，燃料流量为1.5
    kg/s。喷嘴入口温度为620K，压力为301325Pa，喷嘴面积为4.24 m²。请帮我计算压缩机和涡轮的绝热效率。问题7：我测试了一台燃气涡轮机，数据如下：大气温度为300K，压力为101325Pa。压缩机出口/燃烧器入口温度为700K，压力为1800kPa，燃料流量为1.5
    kg/s。喷嘴入口温度为620K，压力为301325Pa，喷嘴面积为4.24 m²。请帮我计算压缩机和涡轮的绝热效率。你应该先计算空气质量流量，然后计算燃烧器的涡轮入口。接着计算涡轮效率。
- en: A.4 Response of LLM agents
  id: totrans-150
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.4 LLM代理的响应
- en: 'Correct answers to questions 1 from the LLM agent built by llama3-70B Agent1
    System System prompt for agent1 Human Please help me calculate the compressor
    efficiency with the following inlet conditions: temperature and pressure of 300K
    and 101325Pa, respectively; and outlet conditions: temperature and pressure of
    420K and 201325Pa, respectively. AI scratchpad: LLM Thought: Do I need to use
    a tool? Yes. Action: calc_compressror_eff. Action Input: inlet_T = 300, inlet_P
    = 101325, outlet_T = 420, outlet_P = 201325. Agent2 System System prompt for agent2
    Human Action: calc_compressror_eff. Action Input: inlet_T = 300, inlet_P = 101325,
    outlet_T = 420, outlet_P = 201325. LLM { "tool": "calc_compressor_eff", "tool_input":
    { "inlet_T": 300, "inlet_P": 101325, "outlet_T": 420, "outlet_P": 201325 }} Function
    {"comp_isentropic_eff": 0.5418276784464716} Agent1 System System prompt for agent1
    Human Please help me calculate the compressor efficiency with the following inlet
    conditions: temperature and pressure of 300K and 101325Pa, respectively; and outlet
    conditions: temperature and pressure of 420K and 201325Pa, respectively. AI scratchpad:
    Thought: Do I need to use a tool? Yes. Action: calc_compressror_eff. Action Input:
    inlet_T = 300, inlet_P = 101325, outlet_T = 420, outlet_P = 201325\. Observation:
    {"comp_isentropic_eff": 0.5418276784464716}. LLM Thought: I now know the final
    answer. Final Answer: The isentropic efficiency of the compressor is approximately
    54.18%.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '问题 1 的答案正确，来自由 llama3-70B 构建的 LLM 代理。Agent1 系统系统提示：人类，请帮助我计算在以下入口条件下的压缩机效率：温度和压力分别为
    300K 和 101325Pa；出口条件为：温度和压力分别为 420K 和 201325Pa。AI 草稿：LLM 思考：我需要使用工具吗？是的。行动：calc_compressror_eff。行动输入：inlet_T
    = 300，inlet_P = 101325，outlet_T = 420，outlet_P = 201325。Agent2 系统系统提示：人类，行动：calc_compressror_eff。行动输入：inlet_T
    = 300，inlet_P = 101325，outlet_T = 420，outlet_P = 201325。LLM { "tool": "calc_compressor_eff",
    "tool_input": { "inlet_T": 300, "inlet_P": 101325, "outlet_T": 420, "outlet_P":
    201325 }} 函数 {"comp_isentropic_eff": 0.5418276784464716} Agent1 系统系统提示：人类，请帮助我计算在以下入口条件下的压缩机效率：温度和压力分别为
    300K 和 101325Pa；出口条件为：温度和压力分别为 420K 和 201325Pa。AI 草稿：思考：我需要使用工具吗？是的。行动：calc_compressror_eff。行动输入：inlet_T
    = 300，inlet_P = 101325，outlet_T = 420，outlet_P = 201325。观察：{"comp_isentropic_eff":
    0.5418276784464716}。LLM 思考：我现在知道最终答案了。最终答案：压缩机的绝热效率约为 54.18%。'
- en: 'Incorrect answers to questions 2 from the LLM agent built by llama3-8B Agent1
    System System prompt for agent1 Human Please assist me in calculating the efficiency
    of the turbine at the following inlet conditions: temperature and pressure of
    1300K and 1601325Pa, respectively; and outlet conditions: temperature and pressure
    of 820K and 201325Pa, respectively. AI scratchpad: LLM Thought: Do I need to use
    a tool? Yes. Action: calc_turbine_eff. Action Input: inlet_T = 1300, inlet_P =
    1601325, outlet_T = 820, outlet_P = 201325. Agent2 System System prompt for agent2
    Human Action: calc_turbine_eff. Action Input: inlet_T = 1300, inlet_P = 1601325,
    outlet_T = 820, outlet_P = 201325. LLM { "turbine_eff": 0.824312 } Function Error'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '问题 2 的答案不正确，来自由 llama3-8B 构建的 LLM 代理。Agent1 系统系统提示：人类，请协助我计算在以下入口条件下的涡轮效率：温度和压力分别为
    1300K 和 1601325Pa；出口条件为：温度和压力分别为 820K 和 201325Pa。AI 草稿：LLM 思考：我需要使用工具吗？是的。行动：calc_turbine_eff。行动输入：inlet_T
    = 1300，inlet_P = 1601325，outlet_T = 820，outlet_P = 201325。Agent2 系统系统提示：人类，行动：calc_turbine_eff。行动输入：inlet_T
    = 1300，inlet_P = 1601325，outlet_T = 820，outlet_P = 201325。LLM { "turbine_eff":
    0.824312 } 函数错误'
- en: 'Incorrect answers to questions 2 from the LLM agent built by Qwen1.5-72B Agent1
    System System prompt for agent1 Human Please assist me in calculating the efficiency
    of the turbine at the following inlet conditions: temperature and pressure of
    1300K and 1601325Pa, respectively; and outlet conditions: temperature and pressure
    of 820K and 201325Pa, respectively. AI scratchpad: LLM Thought: Do I need to use
    a tool? Yes. Action: calc_turbine_eff. Action Input: inlet_T = 1300, inlet_P =
    1601325, outlet_T = 820, outlet_P = 201325. Agent2 System System prompt for agent2
    Human Action: calc_turbine_eff. Action Input: inlet_T = 1300, inlet_P = 1601325,
    outlet_T = 820, outlet_P = 201325. LLM { "tool": "calc_turbine_eff", "tool_input":
    { "inlet_ T": 1300, "inlet_ P": 1601325, "outlet_ T": 820, "outlet_ P": 201325
    }} Function Error'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '对于由Qwen1.5-72B Agent1系统构建的LLM代理第2题的错误答案，人类：请协助我计算涡轮在以下进气条件下的效率：温度和压力分别为1300K和1601325Pa；排气条件：温度和压力分别为820K和201325Pa。AI草稿：LLM思考：我需要使用工具吗？是的。行动：calc_turbine_eff。行动输入：inlet_T
    = 1300，inlet_P = 1601325，outlet_T = 820，outlet_P = 201325。Agent2系统系统提示：人类行动：calc_turbine_eff。行动输入：inlet_T
    = 1300，inlet_P = 1601325，outlet_T = 820，outlet_P = 201325。LLM { "tool": "calc_turbine_eff",
    "tool_input": { "inlet_T": 1300, "inlet_P": 1601325, "outlet_T": 820, "outlet_P":
    201325 }} 功能错误'
- en: 'Correct answers to questions 2 from the LLM agent built by llama3-70B (Outputs
    of agent2 and function calls are omitted) Agent1 System System prompt for agent1
    Human Please assist me in calculating the efficiency of the turbine at the following
    inlet conditions: temperature and pressure of 1300K and 1601325Pa, respectively;
    and outlet conditions: temperature and pressure of 820K and 201325Pa, respectively.
    AI scratchpad: LLM Thought: Do I need to use a tool? Yes. Action: calc_turbine_eff.
    Action Input: inlet_T = 1300, inlet_P = 1601325, outlet_T = 820, outlet_P = 201325.
    ... ... Human ... Observation: {"turb_isentropic_eff": 0.8259391320308387}. LLM
    Thought: I now know the final answer. Final Answer: The isentropic efficiency
    of the turbine is approximately 82.59%.'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '对于由llama3-70B构建的LLM代理第2题的正确答案（省略了agent2的输出和功能调用），Agent1系统系统提示：人类：请协助我计算涡轮在以下进气条件下的效率：温度和压力分别为1300K和1601325Pa；排气条件：温度和压力分别为820K和201325Pa。AI草稿：LLM思考：我需要使用工具吗？是的。行动：calc_turbine_eff。行动输入：inlet_T
    = 1300，inlet_P = 1601325，outlet_T = 820，outlet_P = 201325。... ... 人类 ... 观察结果：{"turb_isentropic_eff":
    0.8259391320308387}。LLM思考：我现在知道最终答案了。最终答案：涡轮的等熵效率大约为82.59%。'
- en: 'Correct answers to questions 3 from the LLM agent built by llama3-70B (Outputs
    of agent2 and function calls are omitted) Agent1 System System prompt for agent1
    Human Please help me determine the nozzle flow rate and whether there is any blockage
    with the following conditions: inlet temperature and pressure of 420K and 201325Pa,
    respectively; outlet pressure of 101325Pa; and nozzle cross-sectional area of
    0.25 m2\. AI scratchpad: LLM Thought: Do I need to use a tool? Yes. Action: calc_nozzle.
    Action Input: inlet_T = 420, inlet_P = 201325, outlet_P = 101325, throat_area
    = 0.25. ... ... Human ... Observation: {"W_nozz": 99.25500171944374, "chocked":
    "yes"}. LLM Thought: I now know the final answer. Final Answer: The nozzle is
    choked and has a mass flow rate of approximately 99.26 kg/s.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '对于由llama3-70B构建的LLM代理第3题的正确答案（省略了agent2的输出和功能调用），Agent1系统系统提示：人类：请帮助我确定喷嘴流量以及是否存在堵塞，条件如下：进气温度和压力分别为420K和201325Pa；排气压力为101325Pa；喷嘴横截面积为0.25
    m2。AI草稿：LLM思考：我需要使用工具吗？是的。行动：calc_nozzle。行动输入：inlet_T = 420，inlet_P = 201325，outlet_P
    = 101325，throat_area = 0.25。... ... 人类 ... 观察结果：{"W_nozz": 99.25500171944374，"chocked":
    "yes"}。LLM思考：我现在知道最终答案了。最终答案：喷嘴发生了堵塞，质量流量大约为99.26 kg/s。'
- en: 'Correct answers to questions 4 from the LLM agent built by llama3-70B (Outputs
    of agent2 and function calls are omitted) Agent1 System System prompt for agent1
    Human Please calculate the outlet conditions of the combustion chamber for me
    with the following inlet conditions: temperature and pressure of 1300K and 801325Pa,
    respectively; air flow rate of 85 kg/s; and fuel flow rate of 1.4 kg/s. AI scratchpad:
    LLM Thought: Do I need to use a tool? Yes. Action: calc_burner_outlet. Action
    Input: inlet_T = 1300, inlet_P = 801325, W_air = 85, W_fuel = 1.4. ... ... Human
    ... Observation: {"burner_outlet_T": 2096.488147497805, "burner_outlet_P": 761258.75}.
    LLM Thought: I now know the burner outlet condition. Final Answer: The outlet
    temperature and pressure of the combustion chamber (BURNER) are approximately
    2096.49 K and 761258.75 Pa, respectively.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '对于由 llama3-70B 构建的 LLM 代理第 4 问题的正确答案（省略了 agent2 和函数调用的输出） 代理1 系统 系统提示语 人类 请根据以下入口条件计算燃烧室的出口条件：温度和压力分别为
    1300K 和 801325Pa；空气流量为 85 kg/s；燃料流量为 1.4 kg/s。AI 草稿本：LLM 思考：我需要使用工具吗？是的。操作：calc_burner_outlet。操作输入：inlet_T
    = 1300, inlet_P = 801325, W_air = 85, W_fuel = 1.4。... ... 人类 ... 观察：{"burner_outlet_T":
    2096.488147497805, "burner_outlet_P": 761258.75}。LLM 思考：我现在知道燃烧器的出口条件了。最终答案：燃烧室（BURNER）的出口温度和压力分别约为
    2096.49 K 和 761258.75 Pa。'
- en: 'Correct answers to questions 5 from the LLM agent built by llama3-70B (Outputs
    of agent2 and function calls are omitted) Agent1 System System prompt for agent1
    Human Please help me calculate the flow rate through a nozzle with a minimum area
    of 0.3 m2, at atmospheric pressure of 101325Pa, and with inlet conditions of 420K
    and an inlet pressure of 400kPa. AI scratchpad: LLM Thought: Do I need to use
    a tool? Yes. Action: calc_nozzle. Action Input: inlet_T = 420, inlet_P = 400000,
    outlet_P = 101325, throat_area = 0.3. ... ... Human ... Observation: {"W_nozz":
    236.64423606274923, "chocked": "yes"}. LLM Thought: I now know the final answer.
    Final Answer: The mass flow rate of the nozzle is approximately 236.64 kg/s and
    it is choked.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '对于由 llama3-70B 构建的 LLM 代理第 5 问题的正确答案（省略了 agent2 和函数调用的输出） 代理1 系统 系统提示语 人类 请帮我计算在
    0.3 m² 最小面积的喷嘴中的流量，气压为 101325Pa，入口条件为 420K 和入口压力为 400kPa。AI 草稿本：LLM 思考：我需要使用工具吗？是的。操作：calc_nozzle。操作输入：inlet_T
    = 420, inlet_P = 400000, outlet_P = 101325, throat_area = 0.3。... ... 人类 ... 观察：{"W_nozz":
    236.64423606274923, "chocked": "yes"}。LLM 思考：我现在知道最终答案了。最终答案：喷嘴的质量流量约为 236.64
    kg/s，并且它已经发生了堵塞。'
- en: 'Incorrect answers to questions 6 from the LLM agent built by llama3-70B (Outputs
    of agent2 and function calls are omitted) Agent1 System System prompt for agent1
    Human I tested a gas turbine with the following data: Atmospheric temperature
    is 300K, pressure is 101325Pa. Compressor outlet / burner inlet temperature is
    700K, pressure is 1800kPa, fuel flow rate of 1.5 kg/s. Nozzle inlet temperature
    of 620 K, pressure of 301325Pa, nozzle area is 4.24 m2\. Please help me calculate
    the adiabatic efficiency of the compressor and the turbine. AI scratchpad: LLM
    Thought: Do I need to use a tool? Yes. Action: calc_compressor_eff. Action Input:
    inlet_T = 300, inlet_P = 101325, outlet_T = 700, outlet_P = 1800000. ... ... Human
    ... Observation: {"comp_isentropic_eff": 0.9563858170355589}. LLM Thought: I need
    to calculate the adiabatic efficiency of the turbine. Action: calc_turbine_eff.
    Action Input: inlet_T = 700, inlet_P = 1800000, outlet_T = 620, outlet_P = 101325.
    ... ... Human I tested a gas turbine with the following data: Atmospheric temperature
    is 300K, pressure is 101325Pa. Compressor outlet / burner inlet temperature is
    700K, pressure is 1800kPa, fuel flow rate of 1.5 kg/s. Nozzle inlet temperature
    of 620 K, pressure of 301325Pa, nozzle area is 4.24 m2\. Please help me calculate
    the adiabatic efficiency of the compressor and the turbine. AI scratchpad: Do
    I need to use a tool? Yes. Action: calc_compressor_eff. Action Input: inlet_T
    = 300, inlet_P = 101325, outlet_T = 700, outlet_P = 1800000\. Observation: {"comp_isentropic_eff":
    0.9563858170355589}. Thought: I need to calculate the adiabatic efficiency of
    the turbine. Action: calc_turbine_eff. Action Input: inlet_T = 700, inlet_P =
    1800000, outlet_T = 620, outlet_P = 101325\. Observation: {"turb_isentropic_eff":
    0.20390883937551146}. LLM Thought: I now know the final answer. Final Answer:
    The adiabatic efficiency of the compressor is approximately 95.64% and the adiabatic
    efficiency of the turbine is approximately 20.39%.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '问题6的错误答案来自由llama3-70B构建的LLM代理（代理2的输出和函数调用被省略）。Agent1 系统 系统提示Agent1 人类 我测试了一个燃气轮机，数据如下：大气温度为300K，压力为101325Pa。压缩机出口/燃烧器入口温度为700K，压力为1800kPa，燃料流量为1.5
    kg/s。喷嘴入口温度为620 K，压力为301325Pa，喷嘴面积为4.24 m²。请帮助我计算压缩机和涡轮的绝热效率。AI草稿：LLM 思考：我需要使用工具吗？是的。动作：calc_compressor_eff。动作输入：inlet_T
    = 300，inlet_P = 101325，outlet_T = 700，outlet_P = 1800000。... ... 人类 ... 观察结果：{"comp_isentropic_eff":
    0.9563858170355589}。LLM 思考：我需要计算涡轮的绝热效率。动作：calc_turbine_eff。动作输入：inlet_T = 700，inlet_P
    = 1800000，outlet_T = 620，outlet_P = 101325。... ... 人类 我测试了一个燃气轮机，数据如下：大气温度为300K，压力为101325Pa。压缩机出口/燃烧器入口温度为700K，压力为1800kPa，燃料流量为1.5
    kg/s。喷嘴入口温度为620 K，压力为301325Pa，喷嘴面积为4.24 m²。请帮助我计算压缩机和涡轮的绝热效率。AI草稿：我需要使用工具吗？是的。动作：calc_compressor_eff。动作输入：inlet_T
    = 300，inlet_P = 101325，outlet_T = 700，outlet_P = 1800000。观察结果：{"comp_isentropic_eff":
    0.9563858170355589}。思考：我需要计算涡轮的绝热效率。动作：calc_turbine_eff。动作输入：inlet_T = 700，inlet_P
    = 1800000，outlet_T = 620，outlet_P = 101325。观察结果：{"turb_isentropic_eff": 0.20390883937551146}。LLM
    思考：我现在知道最终答案。最终答案：压缩机的绝热效率约为95.64%，涡轮的绝热效率约为20.39%。'
- en: 'Correct answers to questions 7 from the LLM agent built by llama3-70B (Outputs
    of agent2 and function calls are omitted) Agent1 System System prompt for agent1
    Human I tested a gas turbine with the following data: Atmospheric temperature
    is 300K, pressure is 101325Pa. Compressor outlet / burner inlet temperature is
    700K, pressure is 1800kPa, fuel flow rate of 1.5 kg/s. Nozzle inlet temperature
    of 620 K, pressure of 301325Pa, nozzle area is 4.24 m2\. Please help me calculate
    the adiabatic efficiency of the compressor and the turbine. You should calculate
    nozzle first for air mass flow, and then calculate burner for turbine inlet. Then
    calculate the turbine efficiency. AI scratchpad: LLM Thought: Do I need to use
    a tool? Yes. Action: calc_nozzle. Action Input: inlet_T = 620, inlet_P = 301325,
    outlet_P = 101325, throat_area = 4.24. ... ... Human ... Observation: {"W_nozz":
    2073.693216788111, "chocked": "yes"}. LLM Thought: I need to use another tool
    to calculate the air mass flow rate at the burner. Action: calc_burner_outlet.
    Action Input: inlet_T = 700, inlet_P = 1800000, W_fuel = 1.5, W_air = 2073.693216788111.
    ... ... Human ... Observation: {"burner_outlet_T": 734.9797708000352, "burner_outlet_P":
    1710000.0}. LLM Thought: Do I need to use a tool? Yes. Action: calc_turbine_eff.
    Action Input: inlet_T = 734.9797708000352, inlet_P = 1710000.0, outlet_T = 620,
    outlet_P = 301325. ... ... Human ... Observation: {"turb_isentropic_eff": 0.4000508940630961}.
    LLM Thought: Do I need to use a tool? Yes. Action: calc_compressor_eff. Action
    Input: inlet_T = 300, inlet_P = 101325, outlet_T = 700, outlet_P = 1800000. ...
    ... Human ... Observation: {"comp_isentropic_eff": 0.9563858170355589}. LLM Thought:
    Thought: I now know the final answer. Final Answer: The adiabatic efficiency of
    the compressor is 0.9563858170355589 and the turbine is 0.4000508940630961.'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '正确答案来自由 llama3-70B 构建的 LLM 代理的第 7 个问题（省略了代理2和函数调用的输出）。代理1 系统 系统提示：代理1 人类 我测试了一台燃气涡轮机，数据如下：大气温度为
    300K，压力为 101325Pa。压缩机出口/燃烧器入口温度为 700K，压力为 1800kPa，燃料流量为 1.5 kg/s。喷嘴入口温度为 620 K，压力为
    301325Pa，喷嘴面积为 4.24 m2。请帮助我计算压缩机和涡轮机的绝热效率。你应该首先计算喷嘴的空气质量流量，然后计算燃烧器的涡轮机入口。接着计算涡轮机效率。AI
    草稿本：LLM 思考：我需要使用工具吗？是的。动作：calc_nozzle。动作输入：inlet_T = 620，inlet_P = 301325，outlet_P
    = 101325，throat_area = 4.24。... ... 人类 ... 观察：{"W_nozz": 2073.693216788111, "chocked":
    "yes"}。LLM 思考：我需要使用另一个工具来计算燃烧器的空气质量流量。动作：calc_burner_outlet。动作输入：inlet_T = 700，inlet_P
    = 1800000，W_fuel = 1.5，W_air = 2073.693216788111。... ... 人类 ... 观察：{"burner_outlet_T":
    734.9797708000352, "burner_outlet_P": 1710000.0}。LLM 思考：我需要使用工具吗？是的。动作：calc_turbine_eff。动作输入：inlet_T
    = 734.9797708000352，inlet_P = 1710000.0，outlet_T = 620，outlet_P = 301325。... ...
    人类 ... 观察：{"turb_isentropic_eff": 0.4000508940630961}。LLM 思考：我需要使用工具吗？是的。动作：calc_compressor_eff。动作输入：inlet_T
    = 300，inlet_P = 101325，outlet_T = 700，outlet_P = 1800000。... ... 人类 ... 观察：{"comp_isentropic_eff":
    0.9563858170355589}。LLM 思考：我现在知道最终答案了。最终答案：压缩机的绝热效率是 0.9563858170355589，涡轮机的绝热效率是
    0.4000508940630961。'
