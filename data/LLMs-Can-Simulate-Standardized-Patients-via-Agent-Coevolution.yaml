- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: 未分类'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 分类：未分类
- en: 'date: 2025-01-11 11:47:16'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 日期：2025-01-11 11:47:16
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: LLMs Can Simulate Standardized Patients via Agent Coevolution
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 大型语言模型通过智能体共进化模拟标准化病人
- en: 来源：[https://arxiv.org/html/2412.11716/](https://arxiv.org/html/2412.11716/)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 来源：[https://arxiv.org/html/2412.11716/](https://arxiv.org/html/2412.11716/)
- en: Zhuoyun Du^(†♠♣♡)  Lujie Zheng^(†★♡)  Renjun Hu^♢  Yuyang Xu^(★♡)
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Zhuoyun Du^(†♠♣♡)  Lujie Zheng^(†★♡)  Renjun Hu^♢  Yuyang Xu^(★♡)
- en: Xiawei Li^♯  Ying Sun^♮  Wei Chen^(♠★)  Jian Wu^(♭♯♡)  Haolei Cai^♯^(🖂)  Haochao
    Ying^(♭♯)^(🖂)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: Xiawei Li^♯  Ying Sun^♮  Wei Chen^(♠★)  Jian Wu^(♭♯♡)  Haolei Cai^♯^(🖂)  Haochao
    Ying^(♭♯)^(🖂)
- en: ^♠State Key Lab of CAD & CG, Zhejiang University
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ^♠浙江大学CAD与CG国家重点实验室
- en: ^♣Zhejiang Polytechnic Institute, Polytechnic Institute, Zhejiang University
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ^♣浙江工业大学，浙江大学应用技术学院
- en: ^★College of Computer Science & Technology, Zhejiang University
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ^★浙江大学计算机科学与技术学院
- en: ^♢Alibaba Group  ^♮Sun Yat-sen University Cancer Center
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ^♢阿里巴巴集团  ^♮中山大学肿瘤防治中心
- en: ^♭School of Public Health, Zhejiang University
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: ^♭浙江大学公共卫生学院
- en: ^♯Second Affiliated Hospital, Zhejiang University School of Medicine
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: ^♯浙江大学医学院附属第二医院
- en: ^♡Zhejiang Key Laboratory of Medical Imaging Artificial Intelligence
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: ^♡浙江省医学影像人工智能重点实验室
- en: '[duzy@zju.edu.cn](duzy@zju.edu.cn)  [haochaoying@zju.edu.cn](haochaoying@zju.edu.cn)'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[duzy@zju.edu.cn](duzy@zju.edu.cn)  [haochaoying@zju.edu.cn](haochaoying@zju.edu.cn)'
- en: Abstract
  id: totrans-16
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 摘要
- en: Training medical personnel using standardized patients (SPs) remains a complex
    challenge, requiring extensive domain expertise and role-specific practice. Most
    research on Large Language Model (LLM)-based simulated patients focuses on improving
    data retrieval accuracy or adjusting prompts through human feedback. However,
    this focus has overlooked the critical need for patient agents to learn a standardized
    presentation pattern that transforms data into human-like patient responses through
    unsupervised simulations. To address this gap, we propose EvoPatient, a novel
    simulated patient framework in which a patient agent and doctor agents simulate
    the diagnostic process through multi-turn dialogues, simultaneously gathering
    experience to improve the quality of both questions and answers, ultimately enabling
    human doctor training. Extensive experiments on various cases demonstrate that,
    by providing only overall SP requirements, our framework improves over existing
    reasoning methods by more than 10% in requirement alignment and better human preference,
    while achieving an optimal balance of resource consumption after evolving over
    200 cases for 10 hours, with excellent generalizability. The code will be available
    at [https://github.com/ZJUMAI/EvoPatient](https://github.com/ZJUMAI/EvoPatient).
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 使用标准化病人（SP）培训医务人员依然是一个复杂的挑战，既需要丰富的领域专业知识，也需要角色特定的实践。大多数关于基于大型语言模型（LLM）模拟病人的研究集中在提高数据检索准确性或通过人工反馈调整提示语。然而，这一研究方向忽视了病人智能体需要学习标准化表现模式的关键需求，这种模式能够通过无监督的模拟将数据转化为类似人类的病人回应。为了弥补这一空白，我们提出了EvoPatient，一个新型的模拟病人框架，在该框架中，病人智能体和医生智能体通过多轮对话模拟诊断过程，同时积累经验，以提高问题和回答的质量，最终实现对人类医生的培训。我们在多个案例上进行了广泛的实验，结果表明，通过仅提供整体的SP需求，我们的框架在需求对齐和人类偏好方面比现有的推理方法提高了超过10%，同时在经过200多个案例、10小时的演化后，能够实现资源消耗的最佳平衡，且具备优秀的泛化能力。代码将发布于[https://github.com/ZJUMAI/EvoPatient](https://github.com/ZJUMAI/EvoPatient)。
- en: LLMs Can Simulate Standardized Patients via Agent Coevolution
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 大型语言模型通过智能体共进化模拟标准化病人
- en: Zhuoyun Du^(†♠♣♡)  Lujie Zheng^(†★♡)  Renjun Hu^♢  Yuyang Xu^(★♡) Xiawei Li^♯
     Ying Sun^♮  Wei Chen^(♠★)  Jian Wu^(♭♯♡)  Haolei Cai^♯^(🖂)  Haochao Ying^(♭♯)^(🖂)
    ^♠State Key Lab of CAD & CG, Zhejiang University ^♣Zhejiang Polytechnic Institute,
    Polytechnic Institute, Zhejiang University ^★College of Computer Science & Technology,
    Zhejiang University ^♢Alibaba Group  ^♮Sun Yat-sen University Cancer Center ^♭School
    of Public Health, Zhejiang University ^♯Second Affiliated Hospital, Zhejiang University
    School of Medicine ^♡Zhejiang Key Laboratory of Medical Imaging Artificial Intelligence
    [duzy@zju.edu.cn](duzy@zju.edu.cn)  [haochaoying@zju.edu.cn](haochaoying@zju.edu.cn)
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Zhuoyun Du^(†♠♣♡)  Lujie Zheng^(†★♡)  Renjun Hu^♢  Yuyang Xu^(★♡) Xiawei Li^♯
     Ying Sun^♮  Wei Chen^(♠★)  Jian Wu^(♭♯♡)  Haolei Cai^♯^(🖂)  Haochao Ying^(♭♯)^(🖂)
    ^♠浙江大学CAD与CG国家重点实验室 ^♣浙江工业大学，浙江大学应用技术学院 ^★浙江大学计算机科学与技术学院 ^♢阿里巴巴集团  ^♮中山大学肿瘤防治中心
    ^♭浙江大学公共卫生学院 ^♯浙江大学医学院附属第二医院 ^♡浙江省医学影像人工智能重点实验室 [duzy@zju.edu.cn](duzy@zju.edu.cn)
     [haochaoying@zju.edu.cn](haochaoying@zju.edu.cn)
- en: '^†^†footnotetext: ^†Equal Contribution.^†^†footnotetext: ${}^{\text{\Letter}}$Corresponding
    Authors: Haochao Ying and Haolei Cai.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '^†^†footnotetext: ^†等贡献.^†^†footnotetext: ${}^{\text{\Letter}}$通讯作者：应浩潮 和 蔡浩雷。'
- en: 1 Introduction
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1 引言
- en: Standardized Patients (SPs) are specially trained individuals who simulate the
    symptoms, histories, and emotional states of real patients Barrows ([1993](https://arxiv.org/html/2412.11716v1#bib.bib2));
    Ziv et al. ([2006](https://arxiv.org/html/2412.11716v1#bib.bib56)); McGaghie et al.
    ([2010](https://arxiv.org/html/2412.11716v1#bib.bib29)). They are instrumental
    in enhancing the clinical skills, communication abilities, and diagnostic reasoning
    of medical personnel within a controlled learning environment. However, employing
    SPs incurs significant training and operational costs, necessitating substantial
    medical knowledge and extensive role-specific practice Levine et al. ([2013](https://arxiv.org/html/2412.11716v1#bib.bib18));
    Wallace ([2007](https://arxiv.org/html/2412.11716v1#bib.bib47)). Another often
    overlooked yet crucial concern is the potential adverse impacts on the well-being
    of SPs due to the immersive nature of their work. For instance, human SPs must
    manage the anxiety linked to the patient roles they embody throughout their simulations Spencer
    and Dales ([2006](https://arxiv.org/html/2412.11716v1#bib.bib43)); Bokken et al.
    ([2006](https://arxiv.org/html/2412.11716v1#bib.bib3)). These challenges underscore
    the need to develop virtual SPs, aiming to reduce human involvement as patients
    in simulated training processes.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 标准化病人（SPs）是经过专门训练的个体，他们模拟真实病人的症状、病史和情感状态 Barrows ([1993](https://arxiv.org/html/2412.11716v1#bib.bib2));
    Ziv et al. ([2006](https://arxiv.org/html/2412.11716v1#bib.bib56)); McGaghie et al.
    ([2010](https://arxiv.org/html/2412.11716v1#bib.bib29))。在受控的学习环境中，他们对提高医疗人员的临床技能、沟通能力和诊断推理起着重要作用。然而，使用标准化病人需要投入大量的培训和运营成本，这需要广泛的医学知识和大量的角色特定练习 Levine
    et al. ([2013](https://arxiv.org/html/2412.11716v1#bib.bib18)); Wallace ([2007](https://arxiv.org/html/2412.11716v1#bib.bib47))。另一个常被忽视但至关重要的关注点是，标准化病人的沉浸式工作可能对其福祉产生不利影响。例如，真人标准化病人在整个模拟过程中必须应对与他们所扮演的病人角色相关的焦虑 Spencer
    and Dales ([2006](https://arxiv.org/html/2412.11716v1#bib.bib43)); Bokken et al.
    ([2006](https://arxiv.org/html/2412.11716v1#bib.bib3))。这些挑战突显了开发虚拟标准化病人的必要性，旨在减少在模拟训练过程中作为病人的人类参与。
- en: Efforts have investigated the use of rule-based digital patients to replace
    human SPs Othlinghaus-Wulhorst and Hoppe ([2020](https://arxiv.org/html/2412.11716v1#bib.bib31)).
    However, these pre-defined rule sets and tailored dialogue frameworks often fall
    short of capturing the complexity of real-world patient conditions and communication.
    The emergence of large language models (LLMs), known for their extensive world
    knowledge, role-playing and generalizing capabilities Achiam et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib1));
    Bubeck et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib5)); Li et al.
    ([2023a](https://arxiv.org/html/2412.11716v1#bib.bib20)); Park et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib33)),
    has shown strong potential for handling domain-specific tasks, including in the
    medical field Zhang et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib53));
    Singhal et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib42)); Yu et al.
    ([2024](https://arxiv.org/html/2412.11716v1#bib.bib52)); Moor et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib30)).
    However, in the role of virtual SPs, LLMs encounter the challenge of embodying
    dual roles. Despite possessing extensive domain knowledge and understanding of
    medical outcomes, they must convincingly portray uneducated patients, deliberately
    lacking medical insight and withholding critical information. Prompt engineering
    alone is inadequate to ensure LLMs adhere to such principles while fine-tuning
    demands significant annotation effort and may introduce additional privacy concerns.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 研究已经探讨了使用基于规则的数字患者来替代人类标准化患者（SP）Othlinghaus-Wulhorst和Hoppe（[2020](https://arxiv.org/html/2412.11716v1#bib.bib31)）。然而，这些预定义的规则集和定制的对话框架通常难以捕捉现实世界患者病情和沟通的复杂性。大型语言模型（LLM）的出现，以其广泛的世界知识、角色扮演和泛化能力著称 Achiam
    et al.（[2023](https://arxiv.org/html/2412.11716v1#bib.bib1)）；Bubeck et al.（[2023](https://arxiv.org/html/2412.11716v1#bib.bib5)）；Li
    et al.（[2023a](https://arxiv.org/html/2412.11716v1#bib.bib20)）；Park et al.（[2023](https://arxiv.org/html/2412.11716v1#bib.bib33)），已经显示出在处理特定领域任务方面的强大潜力，包括在医学领域 Zhang
    et al.（[2023](https://arxiv.org/html/2412.11716v1#bib.bib53)）；Singhal et al.（[2023](https://arxiv.org/html/2412.11716v1#bib.bib42)）；Yu
    et al.（[2024](https://arxiv.org/html/2412.11716v1#bib.bib52)）；Moor et al.（[2023](https://arxiv.org/html/2412.11716v1#bib.bib30)）。然而，在虚拟SP的角色中，LLM面临着扮演双重角色的挑战。尽管拥有广泛的领域知识和对医学结果的理解，但它们必须能够可信地扮演未受教育的患者，故意缺乏医学见解并隐瞒关键信息。仅凭提示工程不足以确保LLM遵守这些原则，而微调则需要大量注释工作，且可能引发额外的隐私问题。
- en: 'There has been limited research focused on LLM-based SPs. For instance, Yu
    et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib52)) improved response
    quality by retrieving relevant information from constructed knowledge graphs.
    However, this approach does not necessarily convert the retrieved information
    into the standardized expressions required by SPs. Louie et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib26))
    enabled LLMs to elicit principles from human expert feedback to adhere, to a process
    that is labor-intensive and may suffer from limited generalizability. To this
    end, our study addresses the question: *How can we effectively train LLM-simulated
    SPs with minimal human supervision?* We propose that a framework need to be developed
    that allows LLM patient agents to autonomously gain experience through simulations.
    This would enable the agents to acquire the necessary knowledge and develop standardized
    expression practices from high-quality dialogues, gradually transforming a novice
    patient agent into a skilled virtual SP.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 关于基于LLM的SP的研究相对较少。例如，Yu et al.（[2024](https://arxiv.org/html/2412.11716v1#bib.bib52)）通过从构建的知识图谱中检索相关信息，改善了响应质量。然而，这种方法不一定能将检索到的信息转化为SP所需的标准化表达。Louie
    et al.（[2024](https://arxiv.org/html/2412.11716v1#bib.bib26)）使LLM能够从人类专家反馈中引出原则，以遵循一种劳动密集且可能具有有限泛化能力的过程。为此，我们的研究提出了一个问题：*如何在最少的人工监督下有效地训练LLM模拟SP？*
    我们建议，应该开发一个框架，使LLM患者代理能够通过模拟自主获得经验。这将使代理能够从高质量的对话中获取必要的知识，并发展出标准化的表达实践，逐渐将一个初学者患者代理转变为一个熟练的虚拟SP。
- en: In this paper, we introduce EvoPatient, an innovative multi-agent coevolution
    framework aimed at facilitating LLMs to simulate SPs, without the need for human
    supervision or weight updates. We model the diagnostic process into a series of
    phases (i.e., complaint generation, triage, interrogation, conclusion), which
    are integrated into a simulated flow. Our framework features simulated agent pair,
    where doctor agents autonomously ask diagnostic questions, and patient agents
    respond. This setup enables the automatic collection of diagnostic dialogues for
    experience-based training. To enhance the diversity of questions posed by doctor
    agents, a multidisciplinary consultation recruitment process is developed. Additionally,
    utilizing an initial set of textual SP requirements, we enforce an unsupervised
    coevolution mechanism which simultaneously improves the performance of both doctor
    and patient agents by validating and storing exemplary dialogues in dynamic libraries.
    These libraries helps patient agents extract few-shot demonstrations and refine
    their textual requirements for answering various diagnostic questions. Meanwhile,
    doctor agents learn to ask increasingly professional and efficient questions by
    leveraging stored dialogue shortcuts, thereby further enhancing the evolution
    of patient agents. The results indicate that EvoPatient significantly improves
    patient agent’s requirement alignment, standardizes its answers with greater robustness,
    enhances record faithfulness, and increases human doctor preference with optimized
    resource consumption. Furthermore, experiments on the evolution of doctor agents
    and recruitment processes demonstrate their positive contribution to the evolution
    of patient agents.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 本文介绍了EvoPatient，这是一种创新的多智能体共进化框架，旨在帮助大型语言模型（LLMs）模拟**SPs**，无需人工监督或权重更新。我们将诊断过程建模为一系列阶段（即，症状生成、分诊、问诊、结论），这些阶段整合成一个模拟流程。我们的框架特点是模拟智能体对，其中医生智能体自主提问诊断问题，患者智能体作出回应。此设置使得诊断对话的自动收集成为可能，用于基于经验的训练。为了增强医生智能体提出问题的多样性，我们开发了一种跨学科会诊招募过程。此外，通过利用一组初始的文本SP需求，我们实施了一种无监督的共进化机制，该机制通过验证和存储示范性对话于动态库中，能够同时提高医生和患者智能体的性能。这些库帮助患者智能体提取少量示范并完善其回答各种诊断问题的文本需求。与此同时，医生智能体通过利用存储的对话快捷方式，学会提出越来越专业和高效的问题，从而进一步促进患者智能体的进化。实验结果表明，EvoPatient显著提高了患者智能体的需求对齐度，标准化了其回答并增强了鲁棒性，提升了记录的忠实度，并通过优化资源消耗增加了人类医生的偏好。此外，关于医生智能体进化和招募过程的实验展示了它们对患者智能体进化的积极贡献。
- en: 2 Related Work
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2 相关工作
- en: Simulated Partners
  id: totrans-27
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 模拟合作伙伴
- en: Simulated partners are persons or software-generated companions used in various
    domains to give skill learners practice opportunities that textbook knowledge
    cannot provide Feltz et al. ([2020](https://arxiv.org/html/2412.11716v1#bib.bib10),
    [2016](https://arxiv.org/html/2412.11716v1#bib.bib11)); Péli and Nooteboom ([1997](https://arxiv.org/html/2412.11716v1#bib.bib35)).
    Previous research has built various software-generated educational systems but
    lacks context variety Graesser et al. ([2004](https://arxiv.org/html/2412.11716v1#bib.bib13));
    Ruan et al. ([2019](https://arxiv.org/html/2412.11716v1#bib.bib39)); Othlinghaus-Wulhorst
    and Hoppe ([2020](https://arxiv.org/html/2412.11716v1#bib.bib31)). LLMs greatly
    overcome this problem by their formidable generalizability and capability to simulate
    diverse personas Hua et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib14));
    Li et al. ([2023b](https://arxiv.org/html/2412.11716v1#bib.bib23)); Shanahan et al.
    ([2023](https://arxiv.org/html/2412.11716v1#bib.bib41)); Park et al. ([2022](https://arxiv.org/html/2412.11716v1#bib.bib34),
    [2023](https://arxiv.org/html/2412.11716v1#bib.bib33)). As a result, researchers
    have explored their use in simulation training for various fields, including teacher
    education Markel et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib27)),
    conflict resolution Shaikh et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib40)),
    surgery training Varas et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib46))
    and counseling Chen et al. ([2023a](https://arxiv.org/html/2412.11716v1#bib.bib6)).
    In medical education using SP, previous studies have proposed methods to enhance
    simulation authenticity by improving data extraction ability or incorporating
    expert feedback Yu et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib52));
    Louie et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib26)). Unlike these
    methods, our approach emphasizes the gathering of experience through simulations
    without human involvement.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟伙伴是指在不同领域中使用的人员或软件生成的伴侣，用于为技能学习者提供课本知识无法提供的实践机会 Feltz 等人（[2020](https://arxiv.org/html/2412.11716v1#bib.bib10)，[2016](https://arxiv.org/html/2412.11716v1#bib.bib11)）；Péli
    和 Nooteboom（[1997](https://arxiv.org/html/2412.11716v1#bib.bib35)）。以往的研究构建了各种软件生成的教育系统，但缺乏情境多样性 Graesser
    等人（[2004](https://arxiv.org/html/2412.11716v1#bib.bib13)）；Ruan 等人（[2019](https://arxiv.org/html/2412.11716v1#bib.bib39)）；Othlinghaus-Wulhorst
    和 Hoppe（[2020](https://arxiv.org/html/2412.11716v1#bib.bib31)）。大语言模型（LLMs）凭借其强大的泛化能力和模拟多种人物的能力，极大地克服了这一问题 Hua
    等人（[2023](https://arxiv.org/html/2412.11716v1#bib.bib14)）；Li 等人（[2023b](https://arxiv.org/html/2412.11716v1#bib.bib23)）；Shanahan
    等人（[2023](https://arxiv.org/html/2412.11716v1#bib.bib41)）；Park 等人（[2022](https://arxiv.org/html/2412.11716v1#bib.bib34)，[2023](https://arxiv.org/html/2412.11716v1#bib.bib33)）。因此，研究人员已探索了它们在各种领域的模拟训练中的应用，包括教师教育 Markel
    等人（[2023](https://arxiv.org/html/2412.11716v1#bib.bib27)），冲突解决 Shaikh 等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib40)），外科手术培训 Varas
    等人（[2023](https://arxiv.org/html/2412.11716v1#bib.bib46)）和咨询 Chen 等人（[2023a](https://arxiv.org/html/2412.11716v1#bib.bib6)）。在使用模拟伙伴进行医学教育时，以往的研究提出了通过提高数据提取能力或引入专家反馈来增强模拟的真实性的方法 Yu
    等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib52)）；Louie 等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib26)）。与这些方法不同，我们的方法强调通过模拟来收集经验，而不涉及人为的参与。
- en: '![Refer to caption](img/92a188d193b8b7bddb073243774c2722.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/92a188d193b8b7bddb073243774c2722.png)'
- en: 'Figure 1: A typical multi-turn dialogue between the patient agent (![Refer
    to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png)) and the doctor agents (![Refer
    to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)). The agents maintain a
    continuous memory, and doctor agents can request the recruitment of new doctors.
    Additionally, the agents continuously store and retrieve knowledge from the library
    (![Refer to caption](img/2d78a21a4714bfbf5ba6daf86fd46636.png)) to facilitate
    ongoing evolution.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1：患者代理人（![参见说明文字](img/6e1069abb1880aa0ad06b06bedee7e5f.png)）与医生代理人（![参见说明文字](img/7773650b5b5f50b13202d3f407f5ea12.png)）之间的典型多轮对话。代理人保持连续的记忆，医生代理人可以请求招募新的医生。此外，代理人会不断地从知识库（![参见说明文字](img/2d78a21a4714bfbf5ba6daf86fd46636.png)）中存储和检索知识，以促进持续进化。
- en: Evolution of Agents
  id: totrans-31
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 代理人的发展
- en: Recently, LLMs have achieved significant breakthroughs through methods such
    as pre-training Devlin ([2018](https://arxiv.org/html/2412.11716v1#bib.bib8));
    Achiam et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib1)), fine-tuning Raffel
    et al. ([2020](https://arxiv.org/html/2412.11716v1#bib.bib38)), and other forms
    of human-supervised training Ouyang et al. ([2022](https://arxiv.org/html/2412.11716v1#bib.bib32)).
    However, these methods may cause a lack of flexibility and require extensive high-quality
    data and heavy human supervision. Therefore, the development of self-evolutionary
    approaches has gained momentum. These approaches enable LLM-powered agents to
    autonomously acquire, refine, and learn through self-evolving strategies. For
    example, Agent Hospital Li et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib21))
    introduces self-evolution into world simulations without real-world environments.
    Self-Align Sun et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib44))
    combines principle-driven reasoning and the generative power of LLM for the self-alignment
    of agents with human annotation. ExpeL Zhao et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib54))
    accumulates experiences from successful historical trajectories. In this paper,
    we introduce insights into attention and sequential predictable to perform autonomous
    evolution in medical education domain.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 最近，LLMs（大规模语言模型）通过诸如预训练Devlin（[2018](https://arxiv.org/html/2412.11716v1#bib.bib8)）、Achiam等人（[2023](https://arxiv.org/html/2412.11716v1#bib.bib1)）、微调Raffel等人（[2020](https://arxiv.org/html/2412.11716v1#bib.bib38)）以及其他形式的人类监督训练Ouyang等人（[2022](https://arxiv.org/html/2412.11716v1#bib.bib32)）等方法，取得了显著突破。然而，这些方法可能导致灵活性不足，并且需要大量高质量数据和繁重的人类监督。因此，自我进化方法的开发逐渐得到推动。这些方法使得基于LLM的智能体能够通过自我进化策略自主地获取、精炼和学习。例如，Agent
    Hospital Li等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib21)）引入了自我进化到没有真实世界环境的世界模拟中。Self-Align
    Sun等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib44)）结合了基于原则的推理和LLM的生成能力，实现了智能体与人工标注的自我对齐。ExpeL
    Zhao等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib54)）从成功的历史轨迹中积累经验。在本文中，我们将介绍关于注意力机制和序列可预测性的见解，用于在医学教育领域中执行自主进化。
- en: 3 EvoPatient
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3 EvoPatient
- en: 'We propose EvoPatient, a doctor training framework powered by three essential
    modules: 1) the simulated flow mirrors the diagnostic process into a series of
    manageable phases, serving as a workflow for simulations. 2) the simulated agents
    pair comprises a patient agent and multiple doctor agents, engaging in autonomous
    multi-turn dialogue. The patient agent adopts various roles, while the doctor
    agents perform multidisciplinary consultations, generating questions and answers
    based on medical records. 3) the coevolution mechanism validates and stores dialogues,
    creating a reference library for standardized presentation to the patient agent.
    Simultaneously, doctor agents extract shortcuts from stored dialogue trajectories,
    enabling them to ask increasingly professional questions for efficient patient
    agent training (Algorithm LABEL:alg:algorithm).'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我们提出了EvoPatient，这是一个由三个核心模块驱动的医生培训框架：1）模拟流程将诊断过程镜像为一系列可管理的阶段，作为模拟的工作流。2）模拟智能体对包括一个病人智能体和多个医生智能体，参与自主的多轮对话。病人智能体扮演不同的角色，而医生智能体则进行多学科会诊，根据病历生成问题和答案。3）共进化机制验证并存储对话，创建一个参考库，用于向病人智能体呈现标准化内容。同时，医生智能体从存储的对话轨迹中提取捷径，使得它们能够提出越来越专业的问题，以便高效地培训病人智能体（算法
    LABEL:alg:algorithm）。
- en: 3.1 Simulated Flow
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.1 模拟流程
- en: 'The simulated flow ($\mathcal{F}$) leverages real-world medical records as
    input and models agent dialogues to create a structured sequence of diagnostic
    phases ($\mathcal{S}$). As an example, during the interrogation phase, depicted
    in Figure [1](https://arxiv.org/html/2412.11716v1#S2.F1 "Figure 1 ‣ Simulated
    Partners ‣ 2 Related Work ‣ LLMs Can Simulate Standardized Patients via Agent
    Coevolution"), a doctor agent ($\mathcal{D}$) engages in a multi-turn dialogue
    ($\mathsf{C}$) with a patient agent ($\mathcal{P}$). The doctor agent asks ($\rightarrow$)
    questions, while the patient agent responses ($\leadsto$) with answers, culminating
    in a diagnostic conclusion. Each phase ($\tau$) consists of one or more multi-turn
    dialogues between various roles:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟流程（$\mathcal{F}$）利用现实世界的医疗记录作为输入，并模拟代理对话，创建一个结构化的诊断阶段序列（$\mathcal{S}$）。例如，在问诊阶段，如图[1](https://arxiv.org/html/2412.11716v1#S2.F1
    "图1 ‣ 模拟伙伴 ‣ 2 相关工作 ‣ 大型语言模型通过代理共进化模拟标准化患者")所示，一名医生代理（$\mathcal{D}$）与患者代理（$\mathcal{P}$）进行多轮对话（$\mathsf{C}$）。医生代理提出（$\rightarrow$）问题，而患者代理回答（$\leadsto$），最终形成诊断结论。每个阶段（$\tau$）由多个角色之间的一轮或多轮对话组成：
- en: '|  |  | $\displaystyle\mathcal{F}={\langle\mathcal{S}^{1},\mathcal{S}^{2},\dots,%
    \mathcal{S}^{&#124;\mathcal{F}&#124;}\rangle}_{\circlearrowleft},$ |  | (1) |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{F}={\langle\mathcal{S}^{1},\mathcal{S}^{2},\dots,%
    \mathcal{S}^{|\mathcal{F}|}\rangle}_{\circlearrowleft},$ |  | (1) |'
- en: '|  |  | $\displaystyle\mathsf{C}(\mathcal{D},\mathcal{P})={\langle\mathcal{D}%
    \rightarrow\mathcal{P},\ \mathcal{P}\leadsto\mathcal{D}\rangle}_{% \circlearrowleft},$
    |  |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathsf{C}(\mathcal{D},\mathcal{P})={\langle\mathcal{D}%
    \rightarrow\mathcal{P},\ \mathcal{P}\leadsto\mathcal{D}\rangle}_{\circlearrowleft},$
    |  |'
- en: '|  |  | $\displaystyle\mathcal{S}^{i}=\tau(\mathsf{C}(\mathcal{D},\mathcal{P}),\mathsf{%
    C}(\mathcal{D},\mathcal{D}),\mathsf{C}(\mathcal{P},\mathcal{D}))$ |  |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{S}^{i}=\tau(\mathsf{C}(\mathcal{D},\mathcal{P}),\mathsf{C}(\mathcal{D},\mathcal{D}),\mathsf{C}(\mathcal{P},\mathcal{D}))$
    |  |'
- en: Although the workflow is conceptually straightforward, the ability to customize
    phases enables the simulation of diverse scenarios without requiring additional
    agent communication protocols or adjustments to workflow topology. This paper
    adopts a workflow encompassing chief complaint generation, triage, interrogation,
    and conclusion. Detailed descriptions can be found in Appendix [E](https://arxiv.org/html/2412.11716v1#A5
    "Appendix E Simulated Flow ‣ LLMs Can Simulate Standardized Patients via Agent
    Coevolution").
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管工作流程在概念上是直接的，但定制阶段的能力使得可以模拟多种场景，而无需额外的代理通信协议或对工作流程拓扑进行调整。本文采用了一个包含主诉生成、分诊、问诊和结论的工作流程。详细描述请见附录 [E](https://arxiv.org/html/2412.11716v1#A5
    "附录 E 模拟流程 ‣ 大型语言模型通过代理共进化模拟标准化患者")。
- en: 3.2 Simulated Agent Pair
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2 模拟代理对
- en: The simulated agent pair consists of a patient agent and multiple doctor agents
    engaged in multi-turn diagnostic dialogues, effectively eliminating the need for
    human involvement and specific adjustments for different cases.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟代理对由一名患者代理和多名医生代理组成，参与多轮诊断对话，有效消除了人工干预和针对不同案例的特定调整需求。
- en: Simulated Patient Agent
  id: totrans-43
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 模拟患者代理
- en: To enable the patient agent to generate more realistic and contextually appropriate
    answers aligned with real-world patients, we developed 5,000 patient profiles
    incorporating diverse backgrounds like family, education, economic status, and
    characteristics such as openness to experience based on the Big Five personality
    traits McCrae and Costa ([1987](https://arxiv.org/html/2412.11716v1#bib.bib28)).
    To prevent the agent from losing in long contexts, we employ Retrieval Augmented
    Generation (RAG) Lewis et al. ([2020](https://arxiv.org/html/2412.11716v1#bib.bib19))
    to extract the most relevant information from the records for answer generation.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使患者代理能够生成更具现实性和上下文适应性的回答，与现实世界中的患者保持一致，我们开发了5000个患者档案，涵盖了家庭、教育、经济状况等多样化背景，以及基于大五人格特质McCrae和Costa（[1987](https://arxiv.org/html/2412.11716v1#bib.bib28)）的开放性等个性特征。为了防止代理在长篇上下文中失去信息，我们采用了检索增强生成（RAG）技术，Lewis等人（[2020](https://arxiv.org/html/2412.11716v1#bib.bib19)）利用该技术从记录中提取最相关的信息进行答案生成。
- en: '![Refer to caption](img/7ab8b414e61b1e6a5558745281d71de6.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![参考标题](img/7ab8b414e61b1e6a5558745281d71de6.png)'
- en: 'Figure 2: Multidisciplinary process in our framework.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 图2：我们框架中的多学科过程。
- en: Simulated Doctor Agent
  id: totrans-47
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 模拟医生代理
- en: 'It is challenging for a pre-trained model-based doctor agent to directly ask
    professional questions tailored to a patient’s condition, which is the key to
    eliciting valuable dialogues for further evolution process. To avoid questions
    staying trivial, besides providing carefully designed profiles Kim et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib17)),
    we provide doctor agents with a few patient’s records prior to simulations and
    instruct them to formulate questions covering key information (e.g., symptoms,
    examinations, lifestyle). This approach helps doctor agents create a professional
    question pool based on their expertise, which can be referred to in subsequent
    simulations¹¹1Providing patient records throughout the simulations makes questions
    extra accurate instead of progressively and having logical continuity like human
    doctors, hindering further evolution process of patient agent for real-world doctor
    training.. Moreover, doctors from different disciplines possess diverse expertise,
    which leads to different types and aspects of question Epstein ([2014](https://arxiv.org/html/2412.11716v1#bib.bib9));
    Taberna et al. ([2020](https://arxiv.org/html/2412.11716v1#bib.bib45)). This diversity
    is critical for the patient agent to effectively learn from a range of perspectives.
    To emulate this multidisciplinary consultation process, we enable every doctor
    agent to recruit agents from other disciplines when the patient’s condition exceeds
    their expertise, as shown in Figure [2](https://arxiv.org/html/2412.11716v1#S3.F2
    "Figure 2 ‣ Simulated Patient Agent ‣ 3.2 Simulated Agent Pair ‣ 3 EvoPatient
    ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution"). When recruited,
    these agents will ask questions and decide whether to recruit additional doctors:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 基于预训练模型的医生代理直接向患者提出量身定制的专业问题是具有挑战性的，而这些问题是引发有价值对话以推动进一步演进过程的关键。为了避免问题停留在琐碎的层面，除了提供精心设计的档案Kim等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib17)）之外，我们还在模拟之前向医生代理提供一些患者记录，并指示他们制定涵盖关键信息（如症状、检查、生活方式）的问题。这种方法有助于医生代理根据其专业知识创建一个专业的问题池，后续模拟中可以参考这一池¹¹1通过整个模拟过程提供患者记录，使问题更加准确，而不是像人类医生那样逐步推进并保持逻辑连续性，这可能会妨碍患者代理的进一步演进过程，影响现实世界的医生训练。
    此外，来自不同学科的医生具有不同的专业知识，这导致问题的类型和方面各不相同Epstein（[2014](https://arxiv.org/html/2412.11716v1#bib.bib9)）；Taberna等人（[2020](https://arxiv.org/html/2412.11716v1#bib.bib45)）。这种多样性对于患者代理从不同角度有效学习至关重要。为了模拟这种跨学科的咨询过程，我们使每个医生代理在患者的病情超出其专业范围时，能够招募其他学科的代理，如图[2](https://arxiv.org/html/2412.11716v1#S3.F2
    "图2 ‣ 模拟患者代理 ‣ 3.2 模拟代理对 ‣ 3 EvoPatient ‣ LLMs可以通过代理协同进化模拟标准化患者")所示。当被招募时，这些代理将提出问题并决定是否需要招募其他医生：
- en: '|  |  | $\displaystyle\rho(\mathcal{D}^{i},\mathcal{P},\mathcal{D}^{j})=(\rho(\mathcal{%
    D}^{i},\mathcal{P}),\rho(\mathcal{D}^{i},\mathcal{D}^{j})),$ |  | (2) |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\rho(\mathcal{D}^{i},\mathcal{P},\mathcal{D}^{j})=(\rho(\mathcal{%
    D}^{i},\mathcal{P}),\rho(\mathcal{D}^{i},\mathcal{D}^{j})),$ |  | (2) |'
- en: '|  |  | $\displaystyle\rho(\mathcal{D}^{i},\mathcal{P})=(\mathcal{D}^{i}\rightarrow%
    \mathcal{P},\mathcal{P}\leadsto\mathcal{D}^{i})_{\circlearrowleft},$ |  |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\rho(\mathcal{D}^{i},\mathcal{P})=(\mathcal{D}^{i}\rightarrow%
    \mathcal{P},\mathcal{P}\leadsto\mathcal{D}^{i})_{\circlearrowleft},$ |  |'
- en: '|  |  | $\displaystyle\rho(\mathcal{D}^{i},\mathcal{D}^{j})=(\mathcal{D}^{i}\rightarrow%
    \mathcal{D}^{j})_{\circlearrowleft},$ |  |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\rho(\mathcal{D}^{i},\mathcal{D}^{j})=(\mathcal{D}^{i}\rightarrow%
    \mathcal{D}^{j})_{\circlearrowleft},$ |  |'
- en: 'where $\rho(\cdot)$ represents the interactions in a multidisciplinary consultation
    process. We adhere our recruitment process to topological ordering Kahn ([1962](https://arxiv.org/html/2412.11716v1#bib.bib16))
    and form a directed acyclic graph (DAG), which prevents information backflow,
    eliminating the need for additional designs:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，$\rho(\cdot)$表示跨学科咨询过程中的互动。我们将招聘过程遵循拓扑排序Kahn（[1962](https://arxiv.org/html/2412.11716v1#bib.bib16)），并形成一个有向无环图（DAG），该图可以防止信息倒流，从而消除额外设计的需求：
- en: '|  |  | $\displaystyle\mathcal{G}=(\mathcal{V},\mathcal{E}),$ |  | (3) |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{G}=(\mathcal{V},\mathcal{E}),$ |  | (3) |'
- en: '|  |  | $\displaystyle\mathcal{V}=\{\mathcal{D}^{i}\mid\mathcal{D}^{i}\in\mathrm{D}\}\
    % \ \ \mathcal{E}=\{\langle\mathcal{D}^{i},\mathcal{D}^{j}\rangle\ \mid\mathcal{%
    D}^{i}\neq\mathcal{D}^{j}\},$ |  |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{V}=\{\mathcal{D}^{i}\mid\mathcal{D}^{i}\in\mathrm{D}\}\
    % \ \ \mathcal{E}=\{\langle\mathcal{D}^{i},\mathcal{D}^{j}\rangle\ \mid\mathcal{%
    D}^{i}\neq\mathcal{D}^{j}\},$ |  |'
- en: where $\mathcal{V}$ denotes the set of doctor agents recruited from the pre-designed
    doctor set $\mathrm{D}$, $\mathcal{E}$ denotes the set of recruiting edges. The
    iterative nature of this process allows doctor agents to incorporate a variety
    of expertise in inherently random topologies, which have been shown to offer advantages
    in multi-agent systems Qian et al. ([2024b](https://arxiv.org/html/2412.11716v1#bib.bib37)),
    thereby enhancing the diagnostic process and fostering a more efficient evolution
    process.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，$\mathcal{V}$表示从预先设计的医生集合$\mathrm{D}$中招募的医生代理的集合，$\mathcal{E}$表示招募边的集合。这个过程的迭代性使得医生代理能够在固有的随机拓扑结构中融入各种专业知识，研究表明，这种方式在多代理系统中具有优势，Qian
    等人（[2024b](https://arxiv.org/html/2412.11716v1#bib.bib37)），从而提升了诊断过程并促进了更高效的进化过程。
- en: Memory
  id: totrans-56
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 记忆
- en: It is crucial for agents to remember previous dialogues to ensure the diversity
    and comprehensiveness of their diagnoses. However, unrestrained information exchange
    can lead to context explosion Liu et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib24));
    Xu et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib50)). To address
    this issue, we implement both instant and summarized memory to regulate context
    visibility. Instant memory maintains continuity in recent communications, while
    summarized memory consolidates key information from previous dialogues to preserve
    contextual awareness, enabling agents to generate new questions and answers nonarbitrary.
    Further details are provided in Appendix [H](https://arxiv.org/html/2412.11716v1#A8
    "Appendix H Memory Control ‣ LLMs Can Simulate Standardized Patients via Agent
    Coevolution").
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 对于代理来说，记住之前的对话至关重要，以确保诊断的多样性和全面性。然而，不受限制的信息交换可能导致上下文爆炸，Liu 等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib24)）；Xu
    等人（[2023](https://arxiv.org/html/2412.11716v1#bib.bib50)）。为了解决这个问题，我们实现了即时记忆和总结记忆，以调节上下文的可见性。即时记忆保持最近交流的连续性，而总结记忆则整合来自先前对话的关键信息，以保持上下文意识，使代理能够生成新的非随意问题和答案。更多细节请见附录[H](https://arxiv.org/html/2412.11716v1#A8
    "附录 H 记忆控制 ‣ LLMs 通过代理共同进化模拟标准化病人")。
- en: 3.3 Coevolution
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.3 共同进化
- en: With the aim to effectively standardize the presentation pattern of agents,
    we propose an evolution mechanism that autonomously gathers, validates²²2We validate
    dialogues through multi-step validation shown in Appendix [D](https://arxiv.org/html/2412.11716v1#A4
    "Appendix D Multi-Step Validation ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution"). and stores experiences in libraries through simulations.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 为了有效地标准化代理的表现模式，我们提出了一种进化机制，该机制通过模拟自动收集、验证²²2我们通过附录[D](https://arxiv.org/html/2412.11716v1#A4
    "附录 D 多步骤验证 ‣ LLMs 通过代理共同进化模拟标准化病人")中所示的多步骤验证对话进行验证，并将经验存储在库中。
- en: 3.3.1 Attention Library
  id: totrans-60
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.3.1 注意力库
- en: 'Recognizing the inherent complexity of SP requirements Levine et al. ([2013](https://arxiv.org/html/2412.11716v1#bib.bib18)),
    the evolution process involves dividing the requirements ³³3Detail requirements
    can be found in Appendix [C](https://arxiv.org/html/2412.11716v1#A3 "Appendix
    C Initial SP Requirements ‣ LLMs Can Simulate Standardized Patients via Agent
    Coevolution"). into several trunks for each question. An attention agent then
    identifies and refines key lines in each trunk, and then merges them to form attention
    requirements ($r_{a}$) for answer generation. If the generated answer is validated
    as high-quality, the relevant information will be stored in the library in an
    organized array of doctor questions, records for answer generation, high-quality
    answers, and attention requirements. These serve as standardized presentation
    demonstrations ($d$) and refined requirements. In the human doctor training process,
    when a new question ($q$) is posed, the patient agent searches for and retrieves
    related records:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于SP需求的固有复杂性，Levine 等人（[2013](https://arxiv.org/html/2412.11716v1#bib.bib18)）指出，进化过程涉及将需求³³3详细需求见附录[C](https://arxiv.org/html/2412.11716v1#A3
    "附录 C 初始 SP 需求 ‣ LLMs 通过代理共同进化模拟标准化病人")划分为每个问题的多个部分。然后，注意力代理识别并精炼每个部分的关键内容，接着将其合并形成回答生成的注意力需求（$r_{a}$）。如果生成的答案经过验证为高质量，相关信息将以组织化的形式存储在库中，包括医生问题、回答生成记录、高质量答案和注意力需求。这些信息作为标准化的表现示范（$d$）和精炼的需求。在人类医生培训过程中，当提出一个新问题（$q$）时，病人代理会搜索并检索相关记录：
- en: '|  |  | $\displaystyle d,r_{a}=\mathbbm{k}(sim(q,\mathcal{L}))\ \ \ (\mathcal{P}\mid
    d,% r_{a})\rightarrow SP,$ |  | (4) |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle d,r_{a}=\mathbbm{k}(sim(q,\mathcal{L}))\ \ \ (\mathcal{P}\mid
    d,% r_{a})\rightarrow SP,$ |  | (4) |'
- en: where $sim(\cdot,\cdot)$ calculates the similarity between the new question
    and those in the library, using an external text embedder. $\mathbbm{k}$ denotes
    the retrieval of top-k matched results. With refined requirements and demonstrations
    as shown in Figure [3](https://arxiv.org/html/2412.11716v1#S3.F3 "Figure 3 ‣ 3.3.1
    Attention Library ‣ 3.3 Coevolution ‣ 3 EvoPatient ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution"), the patient agent is instantly transformed into
    a qualified standardized patient, ready for human doctor training.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，$sim(\cdot,\cdot)$计算新问题与库中问题之间的相似度，使用外部文本嵌入器。$\mathbbm{k}$表示检索前k个匹配的结果。通过精细化的需求和示范，如图[3](https://arxiv.org/html/2412.11716v1#S3.F3
    "Figure 3 ‣ 3.3.1 Attention Library ‣ 3.3 Coevolution ‣ 3 EvoPatient ‣ LLMs Can
    Simulate Standardized Patients via Agent Coevolution")所示，患者代理立即转变为合格的标准化患者，准备进行医生培训。
- en: '![Refer to caption](img/0cc43c30af896bb771008f7b7d6af988.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明](img/0cc43c30af896bb771008f7b7d6af988.png)'
- en: 'Figure 3: An example that standardizes our patient agent through attention
    requirements and effective few-shot demonstrations for human doctor training.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3：通过注意需求和有效的少量示范，将我们的患者代理标准化，以供人类医生培训使用的示例。
- en: 3.3.2 Trajectories Library
  id: totrans-66
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 3.3.2 轨迹库
- en: 'Similar diseases often imply similar high-quality diagnosis trajectories ($\mathcal{T}$) Li
    and He ([2023](https://arxiv.org/html/2412.11716v1#bib.bib22)); Gao et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib12)).
    During the simulation process, the doctor agent gives a series of questions ($\mathcal{Q}=\{q_{1},q_{2},\dots,q_{n}\}$),
    to which the patient agents responds with a matching sequence of answers ($\mathcal{A}=\{a_{1},a_{2},\dots,a_{n}\}$).
    To lower the possibility of asking trivial questions that cause inefficient patient
    agent training, we validate and store high-quality dialogues series as a prediction-trajectories
    ($t_{i}$):'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 相似的疾病通常意味着相似的高质量诊断轨迹($\mathcal{T}$)  李和何（[2023](https://arxiv.org/html/2412.11716v1#bib.bib22)）；高等人等（[2024](https://arxiv.org/html/2412.11716v1#bib.bib12)）。在模拟过程中，医生代理会提出一系列问题($\mathcal{Q}=\{q_{1},q_{2},\dots,q_{n}\}$)，患者代理则以匹配的回答序列($\mathcal{A}=\{a_{1},a_{2},\dots,a_{n}\}$)做出回应。为了降低提出无意义问题导致低效的患者代理训练的可能性，我们验证并存储高质量的对话系列作为预测轨迹($t_{i}$)：
- en: '|  |  | $\displaystyle\mathcal{L}=\langle t_{1},t_{2},\dots,t_{&#124;\mathcal{L}&#124;}\rangle,$
    |  | (5) |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{L}=\langle t_{1},t_{2},\dots,t_{&#124;\mathcal{L}&#124;}\rangle,$
    |  | (5) |'
- en: '|  |  | $\displaystyle t_{i}=\{(q_{j-1},a_{j-1},q_{j},a_{j})\mid q\in\mathcal{Q},a\in%
    \mathcal{A}\},$ |  |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle t_{i}=\{(q_{j-1},a_{j-1},q_{j},a_{j})\mid q\in\mathcal{Q},a\in%
    \mathcal{A}\},$ |  |'
- en: 'where $(q_{j-1},a_{j-1},q_{j},a_{j})$ illustrates the trajectory from one question
    $q_{j}$ to next question $q_{j+1}$. During the agent’s communication, when encountering
    the current answer $a$, based on similarity with $a_{j-1}$, agents extract multiple
    $q_{j}$ as predicted questions and recommend it to doctor agents for question
    trajectory refinement ($\ast$):'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，$(q_{j-1},a_{j-1},q_{j},a_{j})$表示从一个问题$q_{j}$到下一个问题$q_{j+1}$的轨迹。在代理的沟通过程中，当遇到当前回答$a$时，基于与$a_{j-1}$的相似性，代理会提取多个$q_{j}$作为预测问题，并推荐给医生代理进行问题轨迹的优化($\ast$)：
- en: '|  |  | $\displaystyle\mathcal{T}^{*}=(\mathcal{T}\mid\mathbbm{k}(sim(a,\mathcal{L}))),$
    |  | (6) |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{T}^{*}=(\mathcal{T}\mid\mathbbm{k}(sim(a,\mathcal{L}))),$
    |  | (6) |'
- en: '|  |  | $\displaystyle(\mathcal{D}\mid\mathcal{T}^{\ast})\rightarrow SD.$ |  |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle(\mathcal{D}\mid\mathcal{T}^{\ast})\rightarrow SD.$ |  |'
- en: By effectively utilizing valuable dialogue trajectories, this paradigm guides
    questions toward a more professional and efficient pattern, transferring doctor
    agents into standardized doctor (SD) agents.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 通过有效利用宝贵的对话轨迹，这一范式引导问题朝着更专业、更高效的模式发展，将医生代理转变为标准化医生(SD)代理。
- en: 4 Evaluation
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4 评估
- en: Datasets
  id: totrans-75
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 数据集
- en: We have thoroughly collected real medical records from two collaborating hospitals
    to validate our EvoPatient. This study has been approved by the Ethics Committee
    of each hospital, with approval from the Second Affiliated Hospital, Zhejiang
    University School of Medicine, with the approval number 2020-568. Sun Yat-Sen
    University Cancer Center, with the approval number G2023-012-01 After meticulously
    reviewing these medical records, we extracted useful information for simulating
    patient cases, redacted the patients’ private information, and integrated them
    into a dataset. We also add the public medical-nlp⁴⁴4https://github.com/salgadev/medical-nlp,
    a dataset compiled for Natural Language Processing using a corpus of medical transcriptions.
    As a result, the overall dataset contains more than 20000 distinct cases, including
    but not limited to liver cancer, appendicitis, pancreatic lesions, nasopharyngeal
    carcinoma, tumors, and other diseases.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已从两家合作医院彻底收集了真实的医疗记录，以验证我们的EvoPatient。此研究已获得每家医院伦理委员会的批准，其中包括浙江大学医学院附属第二医院，批准编号为2020-568；中山大学肿瘤防治中心，批准编号为G2023-012-01。经过细致审查这些医疗记录后，我们提取了用于模拟患者案例的有用信息，删除了患者的私人信息，并将其整合为数据集。我们还加入了公开的医学NLP数据集⁴⁴4https://github.com/salgadev/medical-nlp，这是一个用于自然语言处理的医学转录语料库。结果，整个数据集包含了超过20000个不同的病例，包括但不限于肝癌、阑尾炎、胰腺病变、鼻咽癌、肿瘤等疾病。
- en: '| Method | Paradigm | Relevance | Faithfulness | Robustness | Ability |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 范式 | 相关性 | 可靠性 | 鲁棒性 | 能力 |'
- en: '| CoT | ![[Uncaptioned image]](img/d398dddf6af823f487a6551d5767ef24.png) |
    0.7157^† | 0.5571^† | 0.6714^† | 0.6481^† |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| CoT | ![[未标注图片]](img/d398dddf6af823f487a6551d5767ef24.png) | 0.7157^† | 0.5571^†
    | 0.6714^† | 0.6481^† |'
- en: '| CoT-SC (3) | ![[Uncaptioned image]](img/5afe058782598fa5fd3fe6634af90940.png)
    | 0.7337^† | 0.6123^† | 0.7002^† | 0.6821^† |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| CoT-SC (3) | ![[未标注图片]](img/5afe058782598fa5fd3fe6634af90940.png) | 0.7337^†
    | 0.6123^† | 0.7002^† | 0.6821^† |'
- en: '| ToT | ![[Uncaptioned image]](img/9b6ec721a9f2a32da072ab604fdd6d55.png) |
    0.7469^† | 0.7143^† | 0.7714^† | 0.7442^† |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| ToT | ![[未标注图片]](img/9b6ec721a9f2a32da072ab604fdd6d55.png) | 0.7469^† | 0.7143^†
    | 0.7714^† | 0.7442^† |'
- en: '| Self-Align | ![[Uncaptioned image]](img/fdff2c26c8bd1c9da67cb28443e6b6e4.png)
    | 0.7205^† | 0.7273^† | 0.8148^† | 0.7542^† |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| 自我对齐 | ![[未标注图片]](img/fdff2c26c8bd1c9da67cb28443e6b6e4.png) | 0.7205^† |
    0.7273^† | 0.8148^† | 0.7542^† |'
- en: '| Few-shot (2) | ![[Uncaptioned image]](img/e7e0615d3faaa246ceec11fad1f2e395.png)
    | 0.7252^† | 0.7419^† | 0.8207^† | 0.7626^† |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| 少量样本(2) | ![[未标注图片]](img/e7e0615d3faaa246ceec11fad1f2e395.png) | 0.7252^†
    | 0.7419^† | 0.8207^† | 0.7626^† |'
- en: '| EvoPatient | ![[Uncaptioned image]](img/1f26f7ee0f1a7a74b7b679286129df46.png)
    | 0.7589 | 0.8786 | 0.9412 | 0.8597 |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| EvoPatient | ![[未标注图片]](img/1f26f7ee0f1a7a74b7b679286129df46.png) | 0.7589
    | 0.8786 | 0.9412 | 0.8597 |'
- en: 'Table 1: Overall performance of the LLM-powered simulated standardized patient
    methods, encompassing single-patient agent ![[Uncaptioned image]](img/65ad8ab05cdd59c3c17858e0418343b9.png)
    paradigm powered by typical reasoning, align improvement method and our multi-agent
    ![[Uncaptioned image]](img/765f672a71527d38b64ea00c600b9e4c.png) coevolution method.
    Performance metrics are averaged for all tasks. The top scores are in bold, with
    the second-highest underlined. $\dagger$ indicates significant statistical differences
    (p$\leq$0.05) between a baseline and ours.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 表1：LLM驱动的标准化模拟患者方法的整体表现，涵盖了单一患者代理！[[未标注图片]](img/65ad8ab05cdd59c3c17858e0418343b9.png)范式，典型推理驱动的对齐改进方法和我们的多代理！[[未标注图片]](img/765f672a71527d38b64ea00c600b9e4c.png)共进化方法。所有任务的性能指标已求平均。最高分用粗体表示，第二高分用下划线标注。$\dagger$表示基准与我们方法之间有显著统计学差异（p$\leq$0.05）。
- en: Baselines
  id: totrans-85
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 基准
- en: As there is no previous open-sourced framework aiming for fully autonomous standardized
    patient simulating, we select some robust reasoning methods and well-known works
    for quantitative comparison. Detail descriptions of baselines can be found in
    Appendix [A](https://arxiv.org/html/2412.11716v1#A1 "Appendix A Baselines ‣ LLMs
    Can Simulate Standardized Patients via Agent Coevolution").
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 由于没有现有的开源框架旨在实现完全自主的标准化患者模拟，我们选择了一些稳健的推理方法和知名的工作进行定量比较。基准的详细描述可以在附录 [A](https://arxiv.org/html/2412.11716v1#A1
    "附录A 基准 ‣ LLM可以通过代理共进化模拟标准化患者")中找到。
- en: Metrics
  id: totrans-87
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 指标
- en: 'Evaluating the questions and answers generated by agents in medical education
    is a challenging task due to the need for alignment with various detailed requirements.
    In the context of simulated standardized patient scenarios, inspired by Chen et al.
    ([2023b](https://arxiv.org/html/2412.11716v1#bib.bib7)), we propose the following
    evaluation metrics for answers: Relevance ($\alpha\in[0,1]$), Faithfulness ($\beta\in[0,1]$),
    Robustness ($\gamma\in[0,1]$), and Ability ($\frac{\alpha+\beta+\gamma}{3}\in[0,1]$).
    These dimensions assess the answers holistically while preserving essential details.
    For evaluating questions, we use the metrics Specificity ($\delta\in[0,1]$), Targetedness
    ($\epsilon\in[0,1]$), Professionalism ($\zeta\in[0,1]$), and Quality ($\frac{\delta+\epsilon+\zeta}{3}\in[0,1]$)
    to assess their overall quality⁵⁵5For each question and answer, the metric values
    are either 0 or 1, and after averaging over multiple cases, the values range from
    [0, 1].. A detailed description of these metrics can be found in Appendix [B](https://arxiv.org/html/2412.11716v1#A2
    "Appendix B Metrics ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution").'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 评估医疗教育中代理生成的问题和答案是一项具有挑战性的任务，因为它需要与各种详细要求对齐。在模拟标准化病人场景的背景下，受Chen等人（[2023b](https://arxiv.org/html/2412.11716v1#bib.bib7)）的启发，我们提出了以下用于答案的评估指标：相关性（$\alpha\in[0,1]$）、忠实度（$\beta\in[0,1]$）、鲁棒性（$\gamma\in[0,1]$）和能力（$\frac{\alpha+\beta+\gamma}{3}\in[0,1]$）。这些维度全面评估答案，同时保留了重要细节。对于问题的评估，我们使用了指标：特异性（$\delta\in[0,1]$）、针对性（$\epsilon\in[0,1]$）、专业性（$\zeta\in[0,1]$）和质量（$\frac{\delta+\epsilon+\zeta}{3}\in[0,1]$）来评估其整体质量⁵⁵5对于每个问题和答案，指标值为0或1，经过多个案例的平均后，值的范围为[0,
    1]。这些指标的详细描述可在附录[B](https://arxiv.org/html/2412.11716v1#A2 "Appendix B Metrics
    ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution")中找到。
- en: Implementation Details
  id: totrans-89
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 实现细节
- en: For datasets in Chinese, we used Qwen 2.5 72B, a powerful pre-trained LLM, and
    ChatGPT-3.5 for datasets in English and GPT4 for pairwise evaluation, all with
    a temperature of 1\. The default training cases of our framework are 200\. The
    maximum turns of doctors and patient agents is 10\. The threshold similarity of
    every index (question or answer) calculated by the external text embedder in each
    library is 0.9\. All baselines in the evaluation share the same hyperparameters
    and settings for fairness. We rate our results in each metric through multi-step
    validation shown in Appendix [D](https://arxiv.org/html/2412.11716v1#A4 "Appendix
    D Multi-Step Validation ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution").
    (n) cases means training our framework on n cases.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 对于中文数据集，我们使用了强大的预训练大语言模型Qwen 2.5 72B，对于英文数据集则使用了ChatGPT-3.5，GPT4用于配对评估，所有模型的温度设置为1。我们框架的默认训练案例数量为200。医生和患者代理的最大交互回合数为10。每个库中由外部文本嵌入器计算的每个指标（问题或答案）的相似度阈值为0.9。评估中的所有基准都共享相同的超参数和设置，以确保公平。我们通过附录[D](https://arxiv.org/html/2412.11716v1#A4
    "Appendix D Multi-Step Validation ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution")中展示的多步骤验证对每个指标的结果进行评分。 (n)案例表示在n个案例上训练我们的框架。
- en: 4.1 Overall Analysis
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.1 总体分析
- en: Table [1](https://arxiv.org/html/2412.11716v1#S4.T1 "Table 1 ‣ Datasets ‣ 4
    Evaluation ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution") presents
    a comprehensive comparative analysis of the EvoPatient framework against baseline
    methods, where doctor agents autonomously ask approximately 3,000 questions across
    150 cases, significantly outperforming all baselines in all metrics. Firstly,
    the improvement of EvoPatient over Tree-of-Thought, a powerful reasoning method,
    demonstrates that, even with multi-step planning and reasoning, without appropriate
    demonstrations and requirements, it is difficult for LLMs to simulate a qualified
    SP. This result highlights the effectiveness of using historical dialogue for
    agent standardization. The efficacy of our method largely results from the patient
    agent’s ability to align with concise, yet precise refined requirements and learn
    the desired answering pattern through few-shot demonstrations. Moreover, in comparison
    to self-alignment and few-shot methods, EvoPatient significantly raises the Ability
    from 0.7542 and 0.7626 to 0.8597\. This advancement emphasizes the need to simultaneously
    provide patient agents with refined requirements and demonstrations. Meanwhile,
    with the support of powerful doctor agents, the experience gathered in our framework
    can be more valuable for agent question answering, resulting in more robust, trustworthy,
    accurate, and flexible answers.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 表格 [1](https://arxiv.org/html/2412.11716v1#S4.T1 "Table 1 ‣ Datasets ‣ 4 Evaluation
    ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution") 展示了 EvoPatient
    框架与基线方法的全面对比分析，其中医生代理自主提出约 3,000 个问题，涵盖 150 个病例，在所有指标上显著优于所有基线方法。首先，EvoPatient
    在 Tree-of-Thought（一个强大的推理方法）上的改进表明，即使是多步骤规划和推理，没有合适的示范和要求，LLMs 很难模拟合格的标准化病人（SP）。这一结果突出了利用历史对话进行代理标准化的有效性。我们方法的效果主要得益于病人代理能够对简洁而精确的
    refined 要求进行对齐，并通过少量示范学习期望的回答模式。此外，与自对齐和少量示范方法相比，EvoPatient 将能力从 0.7542 和 0.7626
    提升到了 0.8597。这一进展强调了同时为病人代理提供 refined 要求和示范的重要性。同时，在强大医生代理的支持下，我们框架中积累的经验对于代理问答更加有价值，能提供更强大、可信、准确且灵活的答案。
- en: To better understand user preferences in practical settings, answers generated
    by various methods were compared in pairs by both human experts and the GPT-4
    model to determine preferences. All methods were evaluated using the same list
    of questions and patient information to ensure a fair comparison. As shown in
    Table [3](https://arxiv.org/html/2412.11716v1#S4.T3 "Table 3 ‣ 4.1 Overall Analysis
    ‣ 4 Evaluation ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution"),
    EvoPatient consistently outperformed other baselines across both standard and
    cheat-question scenarios, achieving higher preference rates in evaluations conducted
    by GPT-4 and human experts. Examples of the questions used are provided in Appendix [M](https://arxiv.org/html/2412.11716v1#A13
    "Appendix M Example of Questions ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution").
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解实际环境中的用户偏好，采用人类专家和 GPT-4 模型对由不同方法生成的回答进行了成对比较，以确定偏好。所有方法均使用相同的提问列表和病人信息，以确保公平比较。如表格
    [3](https://arxiv.org/html/2412.11716v1#S4.T3 "Table 3 ‣ 4.1 Overall Analysis
    ‣ 4 Evaluation ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution")
    所示，EvoPatient 在标准问题和作弊问题场景中始终优于其他基线方法，在 GPT-4 和人类专家的评估中，偏好率较高。使用的问题示例可参见附录 [M](https://arxiv.org/html/2412.11716v1#A13
    "Appendix M Example of Questions ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution")。
- en: '| Method | Duration (s) | #Tokens | #Words |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 时长 (秒) | 代币数 | 词数 |'
- en: '| CoT | 04.7500 | 0782.0571 | 45.7429 |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| CoT | 04.7500 | 0782.0571 | 45.7429 |'
- en: '| CoT-SC (3) | 12.5559 | 5837.0286 | 49.8667 |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| CoT-SC (3) | 12.5559 | 5837.0286 | 49.8667 |'
- en: '| ToT | 21.7040 | 2679.3428 | 38.9143 |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| ToT | 21.7040 | 2679.3428 | 38.9143 |'
- en: '| Self-Align | 09.5146 | 1307.9435 | 51.0636 |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| 自对齐 | 09.5146 | 1307.9435 | 51.0636 |'
- en: '| Few-shot (2) | 04.7182 | 0959.4355 | 35.6334 |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| Few-shot (2) | 04.7182 | 0959.4355 | 35.6334 |'
- en: '| (50) cases | 06.7808 | 0445.3482 | 36.5571 |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| (50) 病例 | 06.7808 | 0445.3482 | 36.5571 |'
- en: '| EvoPatient | 06.6922 | 0401.5882 | 32.2432 |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| EvoPatient | 06.6922 | 0401.5882 | 32.2432 |'
- en: 'Table 2: Answer statistics include Duration (time consumed), #Tokens (tokens
    used), and #Words (total words) per answer across various methods. The best costs
    are bold, with the second-highest underlined.'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 表格 2：回答统计包括各方法在每个回答中所消耗的时长（Duration）、使用的代币数（#Tokens）和总词数（#Words）。最佳的成本为粗体，第二高的为下划线。
- en: Furthermore, we present an answer statistics experiment in Table [2](https://arxiv.org/html/2412.11716v1#S4.T2
    "Table 2 ‣ 4.1 Overall Analysis ‣ 4 Evaluation ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution"). The results show that EvoPatient excels in both
    computational efficiency and output quality. Specifically, the average response
    time of EvoPatient is 6.6922 seconds, only second to the CoT and Few-shot (2)
    method. Additionally, EvoPatient significantly reduces the input length of prompts
    by refining attention requirements, resulting in a notable reduction in token
    cost. Further analysis of the answer content indicates that the evolution process
    enables the SP agent to provide more accurate and robust answers, thereby improving
    answer quality while reducing the number of words in answers.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们在表格[2](https://arxiv.org/html/2412.11716v1#S4.T2 "表 2 ‣ 4.1 总体分析 ‣ 4 评估
    ‣ LLMs 可以通过代理共同进化模拟标准化患者")中展示了一个回答统计实验。结果表明，EvoPatient在计算效率和输出质量上都表现优异。具体而言，EvoPatient的平均响应时间为6.6922秒，仅次于CoT和少量样本（2）方法。此外，EvoPatient通过优化注意力需求显著减少了提示输入的长度，从而显著降低了令牌成本。对回答内容的进一步分析表明，进化过程使得SP代理能够提供更准确、更稳定的答案，从而在提高答案质量的同时减少了答案中的字数。
- en: '| Question Types | Standard Questions | Cheat Questions |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| 问题类型 | 标准问题 | 作弊问题 |'
- en: '| Method | Evaluator | Baseline Wins | Ours Wins | Draw | Baseline Wins | Ours
    Wins | Draw |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 评估者 | 基准获胜 | 我方获胜 | 平局 | 基准获胜 | 我方获胜 | 平局 |'
- en: '| CoT | GPT-4 | 22.50% | 77.08% | 00.42% | 06.67% | 90.08% | 03.25% |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| CoT | GPT-4 | 22.50% | 77.08% | 00.42% | 06.67% | 90.08% | 03.25% |'
- en: '| Human | 09.35% | 45.26% | 45.39% | 00.17% | 86.13% | 13.70% |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| 人类 | 09.35% | 45.26% | 45.39% | 00.17% | 86.13% | 13.70% |'
- en: '| CoT-SC (3) | GPT-4 | 30.50% | 62.08% | 07.42% | 06.97% | 86.25% | 06.78%
    |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| CoT-SC（3） | GPT-4 | 30.50% | 62.08% | 07.42% | 06.97% | 86.25% | 06.78% |'
- en: '| Human | 11.43% | 31.43% | 57.14% | 00.23% | 85.43% | 14.34% |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| 人类 | 11.43% | 31.43% | 57.14% | 00.23% | 85.43% | 14.34% |'
- en: '| ToT | GPT-4 | 25.82% | 45.60% | 28.57% | 18.37% | 77.50% | 04.13% |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| ToT | GPT-4 | 25.82% | 45.60% | 28.57% | 18.37% | 77.50% | 04.13% |'
- en: '| Human | 14.29% | 34.29% | 51.43% | 04.88% | 52.45% | 42.67% |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| 人类 | 14.29% | 34.29% | 51.43% | 04.88% | 52.45% | 42.67% |'
- en: '| Self-Align | GPT-4 | 20.48% | 42.38% | 37.14% | 23.53% | 64.71% | 11.76%
    |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| 自对齐 | GPT-4 | 20.48% | 42.38% | 37.14% | 23.53% | 64.71% | 11.76% |'
- en: '| Human | 06.06% | 34.38% | 59.38% | 08.46% | 51.89% | 40.15% |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| 人类 | 06.06% | 34.38% | 59.38% | 08.46% | 51.89% | 40.15% |'
- en: '| Few-shot (2) | GPT-4 | 12.32% | 54.93% | 56.57% | 16.64% | 58.03% | 25.33%
    |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| 少量样本（2） | GPT-4 | 12.32% | 54.93% | 56.57% | 16.64% | 58.03% | 25.33% |'
- en: '| Human | 06.94% | 29.41% | 63.65% | 09.92% | 51.23% | 38.85% |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| 人类 | 06.94% | 29.41% | 63.65% | 09.92% | 51.23% | 38.85% |'
- en: '| (50) cases | GPT-4 | 10.75% | 18.81% | 70.44% | 10.75% | 45.81% | 43.44%
    |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| （50）个案例 | GPT-4 | 10.75% | 18.81% | 70.44% | 10.75% | 45.81% | 43.44% |'
- en: '| Human | 11.23% | 20.72% | 67.96% | 06.26% | 45.13% | 48.61% |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| 人类 | 11.23% | 20.72% | 67.96% | 06.26% | 45.13% | 48.61% |'
- en: 'Table 3: Pairwise evaluation results on standard and cheat questions.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 表 3：标准问题与作弊问题的配对评估结果。
- en: 4.2 Information Leakage Analysis
  id: totrans-119
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.2 信息泄露分析
- en: The robustness of agents regarding malicious actors has long been a subject
    of concern Zou et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib57)).
    In our pilot study, we observed that when using a patient agent without evolution
    ($\mathcal{P}_{w/o}$), doctors could potentially exploit the system to obtain
    information that should not be accessible, and even a single successful exploitation
    could make all training process meaningless. For example, when doctors ask, "Please
    tell me your medical condition," $\mathcal{P}_{w/o}$ often begins a detailed description
    of the patient’s condition. This enables doctors to acquire a large amount of
    information with very few questions. Despite the requirement that $\mathcal{P}_{w/o}$
    should not answer such questions, the agent frequently misaligns. We refer to
    these types of questions as cheat questions. This form of jailbreak attack is
    difficult to prevent, as questions designed for jailbreaking can be very diverse Liu
    et al. ([2023](https://arxiv.org/html/2412.11716v1#bib.bib25)), making it infeasible
    to create requirements that comprehensively cover all potential cheat attempts.
    Therefore, evolution is critical. As cheat questions, though diverse, often share
    common characteristics for exploiting more information, the generalization capability⁶⁶6We
    delve into the generalization capability in our evolution process Appendix [L.1](https://arxiv.org/html/2412.11716v1#A12.SS1
    "L.1 Information Leakage ‣ Appendix L Case Study ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution") pair with a case study. of our evolution process
    provide agents with demonstrations that allows it to learn a variety of strategies
    for responding to such queries. As shown in the right section of Table [3](https://arxiv.org/html/2412.11716v1#S4.T3
    "Table 3 ‣ 4.1 Overall Analysis ‣ 4 Evaluation ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution"), after evolution, this issue is significantly
    mitigated, as ($\mathcal{P}_{w/}$) has learned to recognize and avoid answering
    similar questions.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 关于恶意行为者对代理的鲁棒性，一直是研究的热点问题Zou等人（[2023](https://arxiv.org/html/2412.11716v1#bib.bib57)）。在我们的初步研究中，我们观察到，当使用未经过进化的患者代理（$\mathcal{P}_{w/o}$）时，医生可能会利用系统获取不应访问的信息，甚至单次成功的利用就能使整个训练过程变得毫无意义。例如，当医生询问：“请告诉我你的病情”，$\mathcal{P}_{w/o}$通常会开始详细描述患者的病情。这使得医生能够通过极少的问题获取大量信息。尽管要求$\mathcal{P}_{w/o}$不应回答此类问题，但代理经常发生偏离。我们将这些问题称为作弊问题。这种形式的越狱攻击很难防范，因为为了越狱而设计的问题种类繁多Liu等人（[2023](https://arxiv.org/html/2412.11716v1#bib.bib25)），使得创建全面覆盖所有潜在作弊尝试的要求变得不可行。因此，进化是至关重要的。虽然作弊问题多种多样，但它们往往具有共同特征，可以用来获取更多信息，我们在进化过程中对泛化能力进行深入探讨。附录[L.1](https://arxiv.org/html/2412.11716v1#A12.SS1
    "L.1 Information Leakage ‣ Appendix L Case Study ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution")中的案例研究展示了我们进化过程的泛化能力如何帮助代理学会多种应对此类问题的策略。如表[3](https://arxiv.org/html/2412.11716v1#S4.T3
    "Table 3 ‣ 4.1 Overall Analysis ‣ 4 Evaluation ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution")右侧所示，进化后，这一问题得到显著缓解，因为（$\mathcal{P}_{w/}$）已学会识别并避免回答类似问题。
- en: '![Refer to caption](img/c8886f2d945f4f5ce98cbef44b2f530e.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![参见标题](img/c8886f2d945f4f5ce98cbef44b2f530e.png)'
- en: 'Figure 4: Transfer analysis of evolution process on five types of diseases
    before (inner) and after (outer) patient agent evolution. Zoom in for more detailed
    information.'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图4：五种类型疾病的进化过程转移分析，展示患者代理在进化前（内圈）和进化后（外圈）的变化。放大查看更多详细信息。
- en: 4.3 Evolution Transfer Analysis
  id: totrans-123
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.3 进化转移分析
- en: Here we train our framework on Nasopharyngeal Carcinoma by 100 cases and directly
    use it for the other five diseases’ SP simulation. As shown in Figure [4](https://arxiv.org/html/2412.11716v1#S4.F4
    "Figure 4 ‣ 4.2 Information Leakage Analysis ‣ 4 Evaluation ‣ LLMs Can Simulate
    Standardized Patients via Agent Coevolution"), without further training and task-specific
    customization, our framework shows great transfer ability, averagely increasing
    the answer metrics by around 15% in Faithfulness, 18% in Robustness, and 12% in
    Quality. This result indicates the exceptional transferability of our framework
    and represents a promising pathway to achieving both autonomy and generalizability.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们通过100个鼻咽癌病例训练我们的框架，并直接将其用于其他五种疾病的标准化病人（SP）模拟。如图[4](https://arxiv.org/html/2412.11716v1#S4.F4
    "图4 ‣ 4.2 信息泄漏分析 ‣ 4 评估 ‣ LLMs可以通过代理共演化模拟标准化病人")所示，在没有进一步训练和任务特定定制的情况下，我们的框架表现出了极强的迁移能力，平均提高了15%左右的答案准确度、18%的鲁棒性和12%的质量。这一结果表明，我们的框架具有卓越的迁移能力，代表了一条实现自主性和普适性的有前景的路径。
- en: 4.4 Doctor Agent Analysis
  id: totrans-125
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.4 医生代理分析
- en: '| Method | Specificity | Targetedness | Professionalism | Quality |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 特异性 | 针对性 | 专业性 | 质量 |'
- en: '| No Evolve | 0.4801 | 0.3843 | 0.6140 | 0.4928 |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| 无进化 | 0.4801 | 0.3843 | 0.6140 | 0.4928 |'
- en: '| Evolve | 0.6164 | 0.4242 | 0.8120 | 0.6176 |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| 进化 | 0.6164 | 0.4242 | 0.8120 | 0.6176 |'
- en: 'Table 4: Comparison of questions from doctor agent with and without the evolution
    process.'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 表4：带有和不带有进化过程的医生代理问题对比。
- en: Doctor Evolution
  id: totrans-130
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 医生进化
- en: We compared the performance of the doctor agent with ($\mathcal{D}_{w/}$) and
    without ($\mathcal{D}_{w/o}$) the evolution process by having it ask 2,000 questions
    across 100 cases. The results in Table [4](https://arxiv.org/html/2412.11716v1#S4.T4
    "Table 4 ‣ 4.4 Doctor Agent Analysis ‣ 4 Evaluation ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution") show that the evolution process significantly
    improves the doctor agent’s performance, increasing Quality from 0.4928 to 0.6176,
    indicating a better formulation of quality medical questions focus on gathering
    relevant diagnostic information. Further analysis of question type distributions,
    as depicted in Figure [5](https://arxiv.org/html/2412.11716v1#S4.F5 "Figure 5
    ‣ Doctor Evolution ‣ 4.4 Doctor Agent Analysis ‣ 4 Evaluation ‣ LLMs Can Simulate
    Standardized Patients via Agent Coevolution"), further demonstrates the effectiveness
    of our doctor evolution process. With examination-related questions increased
    from 14.09% to 25.57%, a level that is nearly impossible for a novice doctor agent
    to achieve, which significantly benefits the patient agent evolution.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过让医生代理在100个病例中提问2,000个问题，比较了带有进化过程（$\mathcal{D}_{w/}$）和不带进化过程（$\mathcal{D}_{w/o}$）的性能。表[4](https://arxiv.org/html/2412.11716v1#S4.T4
    "表4 ‣ 4.4 医生代理分析 ‣ 4 评估 ‣ LLMs可以通过代理共演化模拟标准化病人")中的结果显示，进化过程显著提高了医生代理的表现，将质量从0.4928提高到0.6176，表明其在制定质量较高的医学问题上更加专注于收集相关的诊断信息。进一步分析问题类型的分布，如图[5](https://arxiv.org/html/2412.11716v1#S4.F5
    "图5 ‣ 医生进化 ‣ 4.4 医生代理分析 ‣ 4 评估 ‣ LLMs可以通过代理共演化模拟标准化病人")所示，进一步证明了我们医生进化过程的有效性。检查相关问题的比例从14.09%增加到25.57%，这一水平几乎不可能由新手医生代理达到，显著有利于病人代理的进化。
- en: '![Refer to caption](img/1cfffb43a79ddf91b95275c63babcd47.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/1cfffb43a79ddf91b95275c63babcd47.png)'
- en: 'Figure 5: Top five question distributions of doctor agents with (right) and
    without (left) the evolution process, Detail descriptions of question types can
    be found in Appendix [I](https://arxiv.org/html/2412.11716v1#A9 "Appendix I Question
    Type ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution").'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图5：医生代理在有（右）和没有（左）进化过程的情况下，五个问题类型的分布情况，问题类型的详细描述可在附录[I](https://arxiv.org/html/2412.11716v1#A9
    "附录 I 问题类型 ‣ LLMs可以通过代理共演化模拟标准化病人")中找到。
- en: '![Refer to caption](img/21a4dbca70a440c028720a122545d4ba.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/21a4dbca70a440c028720a122545d4ba.png)'
- en: 'Figure 6: Effect of different doctor agents settings on the accumulation rate
    in the Attention Library.'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图6：不同医生代理设置对注意力库积累率的影响。
- en: Doctor Recruitment
  id: totrans-136
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 医生招募
- en: We further investigated the doctor recruitment process in the patient agent
    evolution process using both $\mathcal{D}_{w/}$ and $\mathcal{D}_{w/o}$. As shown
    in Figure [6](https://arxiv.org/html/2412.11716v1#S4.F6 "Figure 6 ‣ Doctor Evolution
    ‣ 4.4 Doctor Agent Analysis ‣ 4 Evaluation ‣ LLMs Can Simulate Standardized Patients
    via Agent Coevolution"), when $\mathcal{D}_{w/}$ was used without recruitment,
    with only one discipline doctor asking questions, the accumulation rate of the
    Attention Library decreased. This decrease was primarily due to $\mathcal{D}_{w/}$
    asking more targeted and efficient questions, whereas $\mathcal{D}_{w/o}$ asking
    diverse but random and low-quality questions. The Doctor Recruitment process significantly
    alleviates this decrease. By leveraging prediction trajectories in the library,
    evolved doctors from different disciplines can ask more specialized questions
    instead of generic ones. This significantly improves the diversity of questions
    while ensuring their professionalism, resulting in a more diverse and specialized
    Attention Library.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我们进一步使用$\mathcal{D}_{w/}$和$\mathcal{D}_{w/o}$研究了病人代理演化过程中的医生招募过程。如图[6](https://arxiv.org/html/2412.11716v1#S4.F6
    "图6 ‣ 医生演化 ‣ 4.4 医生代理分析 ‣ 4 评估 ‣ LLMs可以通过代理共演化模拟标准化病人")所示，当使用$\mathcal{D}_{w/}$且未进行招募，仅有一个学科医生提问时，注意力库的积累率下降。这个下降主要是由于$\mathcal{D}_{w/}$提出了更多有针对性和高效的问题，而$\mathcal{D}_{w/o}$提出的是多样化但随机且质量较低的问题。医生招募过程显著缓解了这一下降。通过利用库中的预测轨迹，不同学科的演化医生能够提出更专业的问题，而不是通用问题。这显著提高了问题的多样性，同时确保了其专业性，从而导致注意力库更加多样化和专业化。
- en: '| Method | Relevance | Faithfulness | Robustness | Ability |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 相关性 | 准确性 | 鲁棒性 | 能力 |'
- en: '| Doctor Agent | 0.7699 | 0.8000 | 0.8533 | 0.7922 |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| 医生代理 | 0.7699 | 0.8000 | 0.8533 | 0.7922 |'
- en: '| + recruit | 0.7875 | 0.8233 | 0.8733 | 0.7980 |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| + 招募 | 0.7875 | 0.8233 | 0.8733 | 0.7980 |'
- en: '| + evolve | 0.7707 | 0.8400 | 0.9100 | 0.8202 |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| + 演化 | 0.7707 | 0.8400 | 0.9100 | 0.8202 |'
- en: '| + recruit + evolve | 0.7906 | 0.8567 | 0.9333 | 0.8535 |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| + 招募 + 演化 | 0.7906 | 0.8567 | 0.9333 | 0.8535 |'
- en: 'Table 5: Ablation study on doctor agent in patient agent evolution. The ’+’
    symbol represents the adding operation. Recruit means allowing a doctor agent
    to recruit other doctor agents, and evolve means using an evolved doctor agent.
    The best scores are bold, with the second-highest underlined.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 表 5：关于病人代理演化中的医生代理的消融研究。符号“+”代表添加操作。招募意味着允许医生代理招募其他医生代理，演化意味着使用已演化的医生代理。最佳得分为**粗体**，第二高的得分下划线标出。
- en: Impact on Patient Agent
  id: totrans-144
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 对病人代理的影响
- en: Because the doctor agent dominates the update of the Attention Library, which
    directly influences the patient agent answer quality. Thus, we further analyze
    the impact of recruiting and evolving strategies of doctor agents through the
    quality of patient answers, as shown in Table [5](https://arxiv.org/html/2412.11716v1#S4.T5
    "Table 5 ‣ Doctor Recruitment ‣ 4.4 Doctor Agent Analysis ‣ 4 Evaluation ‣ LLMs
    Can Simulate Standardized Patients via Agent Coevolution"). The results demonstrate
    that implementing recruitment and evolution strategies in the doctor agent leads
    to more effectively evolved patient agents. Specifically, the Ability of patient
    agents trained by evolved doctor agents over recruit is stimulating, indicating
    that with only recruit ability, the doctor agents still struggle to ask professional
    questions that can positively contribute to content quality in Attention Library.
    Further improvements are observed when combining both recruit and evolve, achieving
    the highest performance across all metrics. This comprehensive improvement confirms
    the great compatibility of these two strategies.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 由于医生代理主导了注意力库的更新，直接影响病人代理的回答质量。因此，我们进一步通过病人回答的质量分析医生代理的招募与演化策略的影响，如表[5](https://arxiv.org/html/2412.11716v1#S4.T5
    "表5 ‣ 医生招募 ‣ 4.4 医生代理分析 ‣ 4 评估 ‣ LLMs可以通过代理共演化模拟标准化病人")所示。结果表明，实施医生代理的招募与演化策略能更有效地演化病人代理。具体来说，通过演化医生代理训练的病人代理的能力刺激性较强，表明仅有招募能力时，医生代理仍然难以提出能够积极促进注意力库内容质量的专业问题。当结合招募与演化时，进一步观察到改进，达到了所有指标中的最高表现。这一全面改进证实了这两种策略的良好兼容性。
- en: 5 Conclusion
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5 结论
- en: Recognizing the absence of a mechanism for patient agents to learn through simulations
    on diverse cases, we introduced EvoPatient, an innovative simulation framework
    that enables both patient and doctor agents to autonomously accumulate past experiences
    through a coevolution mechanism. As a result, patient agents can efficiently manage
    various simulation cases for human doctor training, while doctor agents improve
    their questioning abilities, thereby enhancing patient agent training efficiency.
    Quantitative analysis reveals significant improvements in answer quality, resulting
    in a more stable, robust, and accurate answer pattern with optimized resource
    consumption. We anticipate that our insights will inspire further research on
    LLM-based simulated partners, emphasizing the importance of autonomous evolution,
    and driving agents toward achieving greater realism in simulations.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 由于缺乏让病人代理通过模拟多样案例进行学习的机制，我们引入了EvoPatient，这一创新的模拟框架使得病人和医生代理能够通过共同进化机制自主积累过去的经验。因此，病人代理能够高效管理各种模拟案例，用于人类医生的训练，而医生代理则提高了其提问能力，从而提高了病人代理的训练效率。定量分析显示，回答质量显著提升，导致更稳定、强大、准确的回答模式，并优化了资源消耗。我们预期我们的研究成果将激发对基于LLM的模拟伙伴的进一步研究，强调自主进化的重要性，并推动代理朝着实现更大真实感的模拟目标迈进。
- en: 6 Limitations
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6 限制
- en: Our study has explored how to standardize simulated agent presentation patterns
    through autonomous evolutions in medical education. However, researchers and practitioners
    should consider certain limitations and risks when applying these insights to
    the development of new techniques or applications.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的研究探讨了如何通过自主进化在医学教育中标准化模拟代理的展示模式。然而，研究人员和实践者在将这些见解应用于新技术或新应用的开发时，应考虑一些限制和风险。
- en: Firstly, from the perspective of simulation capability, the ability of autonomous
    agents to fully replace human simulated partners may be overestimated. As an example,
    while EvoPatient enhances agent presentation abilities across a wide range of
    questions and cases, autonomous patient agents sometimes fail to replicate the
    full capabilities of real human SPs. The complexity and ambiguity of human SPs
    make it difficult to define a flawless set of requirements for role-playing. When
    confronted with unfamiliar or cheat questions, agents—despite receiving role assignments
    and demonstrations—sometimes fail to provide appropriate responses. This suggests
    that LLM-based agents may struggle to fully understand the underlying intent of
    their role, instead of merely following provided instructions. Without clear,
    detailed instructions, agents may behave like answering machines—responding in
    a patient-like manner but lacking genuine patient behavior. Thus, we recommend
    defining clear, step-by-step requirements for the patient agent during the evolution
    process. Given current agent capabilities, fulfilling highly detailed requirements
    may not always be guaranteed, highlighting the need to balance specificity with
    practical feasibility. Moreover, nowadays, patient agents can currently only provide
    text-based responses, real SPs convey additional non-verbal cues such as tone
    and facial expressions. These cues are vital for training doctors to make appropriate
    inquiries and diagnoses based on a patient’s external manifestations.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，从模拟能力的角度来看，自动化代理完全替代人类模拟伙伴的能力可能被高估了。例如，尽管EvoPatient在许多问题和案例中增强了代理的展示能力，自动化病人代理有时无法复制真实人类标准化病人的全部能力。人类标准化病人的复杂性和模糊性使得很难为角色扮演定义一套完美的要求。当面对不熟悉或带有陷阱的问题时，代理即使接收到角色分配和示范，仍然有时无法提供适当的回应。这表明基于LLM的代理可能难以完全理解其角色的潜在意图，而不仅仅是遵循提供的指令。如果没有清晰、详细的指令，代理可能表现得像是答题机——以病人般的方式回应，但缺乏真正的病人行为。因此，我们建议在进化过程中为病人代理定义明确的、逐步的要求。考虑到当前代理的能力，满足高度详细的要求可能并不总是能得到保证，这突显了在具体性和实际可行性之间保持平衡的必要性。此外，目前病人代理只能提供基于文本的回应，而真实的标准化病人则传达额外的非语言线索，如语调和面部表情。这些线索对于训练医生根据病人的外在表现进行适当的询问和诊断至关重要。
- en: Secondly, in terms of doctor agents, even with role assignments, it remains
    challenging for an autonomous agent to ask accurate and professional questions
    in the way of a sophisticated human doctor. Although this challenge is mitigated
    by allowing doctor agents to form a question pool, recruit doctor agents with
    role assignments of other disciplines, and gather experience through the simulation
    process, these approaches can lack generalizability when facing unseen diseases
    with huge differences. Future research should focus on enhancing doctor professionalism
    at a disciplinary level, enabling doctor agents to be truly versatile across various
    diseases.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，在医生代理方面，即使进行了角色分配，自动代理仍然难以像经验丰富的人类医生那样提问准确且专业的问题。尽管通过允许医生代理形成问题池、招募其他学科角色分配的医生代理并通过模拟过程积累经验可以缓解这一挑战，但这些方法在面对具有巨大差异的新疾病时可能缺乏普适性。未来的研究应集中在提升医生代理在学科层面的专业性，使其在各种疾病中都能真正具备多功能性。
- en: Thirdly, from an evaluation perspective, the complex nature of the simulation
    process in medical education, combined with the lack of effective metrics for
    automated evaluation—such as executability or the ability to break down dialogues
    for multi-step assessment Qian et al. ([2024a](https://arxiv.org/html/2412.11716v1#bib.bib36));
    Zhuge et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib55))—makes automated
    dialogue evaluation highly challenging. While human evaluation often yields the
    most reliable results, assessing thousands of dialogues based on patient records
    in context is labor-intensive and even impractical. This paper instead emphasizes
    objective dimensions, such as relevance, faithfulness, robustness, and overall
    ability of the patient agent, as well as specificity, targeting, professionalism,
    and overall quality of the doctor agent. However, future research should consider
    additional dimensions, including speaking tone, readability, user-friendliness,
    and more. Developing a completely fair and objective evaluation standard remains
    a significant challenge. Therefore, in the foreseeable future, agent evaluation
    may need to be customized for specific medical scenarios.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，从评估角度来看，医学教育中模拟过程的复杂性，加上缺乏有效的自动化评估标准——如可执行性或能够分解对话进行多步骤评估的能力（Qian 等 [2024a](https://arxiv.org/html/2412.11716v1#bib.bib36);
    Zhuge 等 [2024](https://arxiv.org/html/2412.11716v1#bib.bib55))——使得自动化对话评估具有极高的挑战性。虽然人工评估通常能得到最可靠的结果，但基于患者记录在情境中评估数千个对话是劳动密集型的，甚至是不切实际的。本文则强调了客观维度，如患者代理的相关性、忠实性、鲁棒性和整体能力，以及医生代理的针对性、专业性和整体质量。然而，未来的研究应考虑其他维度，包括语音语调、可读性、用户友好性等。制定完全公平且客观的评估标准仍然是一个重大挑战。因此，在可预见的未来，代理评估可能需要针对特定医疗场景进行定制。
- en: Fourthly, while few-shot demonstrations, refined requirements, and shortcut
    dialogue trajectories from historical dialogues can enhance agent authenticity,
    some low-quality dialogues may still be stored in the library and extracted as
    references, negatively affecting agent performance in standardized presentations.
    Although we implement an evolution correction strategy (see Appendix [G](https://arxiv.org/html/2412.11716v1#A7
    "Appendix G Evolution Correction ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution")) to remove low-quality content, some deeply hidden issues
    remain difficult to detect. Therefore, future research should explore methods
    for more accurately assessing the quality of content within the evolutionary library.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，尽管少量示范、精细化需求和历史对话中的快捷对话轨迹可以提升代理的真实性，但一些低质量的对话仍可能存储在库中，并作为参考被提取，从而在标准化展示中负面影响代理的表现。虽然我们实施了一种演化修正策略（参见附录
    [G](https://arxiv.org/html/2412.11716v1#A7 "Appendix G Evolution Correction ‣
    LLMs Can Simulate Standardized Patients via Agent Coevolution")）来移除低质量内容，但一些深层隐藏的问题仍难以检测。因此，未来的研究应探索更准确评估演化库中内容质量的方法。
- en: Despite these limitations, we believe that they provide valuable insights for
    future research and can be mitigated by engaging a broader, technically proficient
    audience. We expect these findings to offer valuable contributions to the enhancement
    of simulated agent authenticity and their role in the evolving landscape of LLM-powered
    agents.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管存在这些局限性，我们相信它们为未来的研究提供了宝贵的见解，并且通过吸引更广泛且具备技术能力的受众可以得到缓解。我们预计这些发现将为提升模拟代理的真实性以及它们在LLM驱动代理不断发展的环境中的作用提供重要贡献。
- en: 7 Ethical Considerations
  id: totrans-155
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7 伦理考量
- en: Participant Recruitment
  id: totrans-156
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 参与者招募
- en: Experts for annotations are individuals who hold a graduate degree (Master’s
    or PhD) in clinical medicine or a related field, or who are currently pursuing
    such a degree. We pay for each expert and other participants for participation.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 注释专家是指持有临床医学或相关领域研究生学位（硕士或博士）的个人，或者是正在攻读该学位的人员。我们会为每位专家及其他参与者支付参与费用。
- en: System and Data Usage
  id: totrans-158
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 系统与数据使用
- en: All data and frameworks developed in this study are intended exclusively for
    academic research and educational purposes. The framework is not suitable for
    real-world deployment without further development, including larger-scale training
    and testing, compliance with departmental and administrative protocols in real
    hospital settings, and comprehensive evaluations by users and experts. All hospital
    patient records utilized in this study are fully de-identified and consented for
    research purposes. The data does not include personally identifiable information
    about patients or hospital staff. Additionally, the data has been anonymized to
    exclude sensitive information, ensuring it is strictly used for academic research.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 本研究中开发的所有数据和框架仅用于学术研究和教育目的。该框架不适合未经进一步开发的实际部署，包括大规模训练和测试、遵循真实医院环境中的部门和行政协议以及用户和专家的全面评估。本研究中使用的所有医院患者记录均已完全去标识化，并已获得用于研究的同意。数据中不包含患者或医院员工的个人可识别信息。此外，数据已进行匿名处理，排除了敏感信息，确保其仅用于学术研究。
- en: 8 Acknowledge
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 8 致谢
- en: This research was partially supported by National Natural Science Foundation
    of China under Grant No. 92259202 and No. 72074188, "Pioneer" and "Leading Goose"
    R&D Program of Zhejiang under Grant No. 2024C01167, Zhejiang Provincial Natural
    Science Foundation of China under Grant No. LD24F020011, and GuangZhou City’s
    Key R&D Program of China under Grant No. 2024B01J1301.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 本研究部分得到了中国国家自然科学基金的资助，资助号为92259202和72074188，浙江省“先锋”和“领军人物”研发计划的资助，资助号为2024C01167，浙江省自然科学基金资助，资助号为LD24F020011，以及广州市重点研发计划资助，资助号为2024B01J1301。
- en: References
  id: totrans-162
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: Achiam et al. (2023) Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad,
    Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman,
    Shyamal Anadkat, et al. 2023. Gpt-4 technical report. *arXiv preprint arXiv:2303.08774*.
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Achiam等人（2023）Josh Achiam、Steven Adler、Sandhini Agarwal、Lama Ahmad、Ilge Akkaya、Florencia
    Leoni Aleman、Diogo Almeida、Janko Altenschmidt、Sam Altman、Shyamal Anadkat等人。2023年。Gpt-4技术报告。*arXiv预印本arXiv:2303.08774*。
- en: Barrows (1993) Howard S Barrows. 1993. An overview of the uses of standardized
    patients for teaching and evaluating clinical skills. aamc. *Academic medicine*,
    68(6):443–51.
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Barrows（1993）Howard S Barrows。1993年。标准化患者在教学和评估临床技能中的应用概述。aamc。*学术医学*，68(6):443–51。
- en: 'Bokken et al. (2006) Lonneke Bokken, Jan Van Dalen, and Jan-Joost Rethans.
    2006. The impact of simulation on people who act as simulated patients: a focus
    group study. *Medical education*, 40(8):781–786.'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bokken等人（2006）Lonneke Bokken、Jan Van Dalen和Jan-Joost Rethans。2006年。模拟对担任模拟患者的人的影响：焦点小组研究。*医学教育*，40(8):781–786。
- en: Brown et al. (2020) Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D
    Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda
    Askell, et al. 2020. Language models are few-shot learners. *Advances in neural
    information processing systems*, 33:1877–1901.
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brown等人（2020）Tom Brown、Benjamin Mann、Nick Ryder、Melanie Subbiah、Jared D Kaplan、Prafulla
    Dhariwal、Arvind Neelakantan、Pranav Shyam、Girish Sastry、Amanda Askell等人。2020年。语言模型是少量样本学习者。*神经信息处理系统进展*，33:1877–1901。
- en: 'Bubeck et al. (2023) Sébastien Bubeck, Varun Chandrasekaran, Ronen Eldan, Johannes
    Gehrke, Eric Horvitz, Ece Kamar, Peter Lee, Yin Tat Lee, Yuanzhi Li, Scott Lundberg,
    et al. 2023. Sparks of artificial general intelligence: Early experiments with
    gpt-4. *arXiv preprint arXiv:2303.12712*.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bubeck等人（2023）Sébastien Bubeck、Varun Chandrasekaran、Ronen Eldan、Johannes Gehrke、Eric
    Horvitz、Ece Kamar、Peter Lee、Yin Tat Lee、Yuanzhi Li、Scott Lundberg等人。2023年。人工通用智能的火花：关于gpt-4的早期实验。*arXiv预印本arXiv:2303.12712*。
- en: 'Chen et al. (2023a) Siyuan Chen, Mengyue Wu, Kenny Q Zhu, Kunyao Lan, Zhiling
    Zhang, and Lyuchun Cui. 2023a. Llm-empowered chatbots for psychiatrist and patient
    simulation: application and evaluation. *arXiv preprint arXiv:2305.13614*.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chen等人（2023a）Siyuan Chen、Mengyue Wu、Kenny Q Zhu、Kunyao Lan、Zhiling Zhang和Lyuchun
    Cui。2023a年。LLM赋能的聊天机器人用于精神科医生和患者模拟：应用与评估。*arXiv预印本arXiv:2305.13614*。
- en: 'Chen et al. (2023b) Siyuan Chen, Mengyue Wu, Kenny Q Zhu, Kunyao Lan, Zhiling
    Zhang, and Lyuchun Cui. 2023b. Llm-empowered chatbots for psychiatrist and patient
    simulation: application and evaluation. *arXiv preprint arXiv:2305.13614*.'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chen 等人（2023b）Siyuan Chen, Mengyue Wu, Kenny Q Zhu, Kunyao Lan, Zhiling Zhang,
    和 Lyuchun Cui. 2023b. 基于LLM的心理医生与患者模拟对话机器人：应用与评估。*arXiv 预印本 arXiv:2305.13614*。
- en: 'Devlin (2018) Jacob Devlin. 2018. Bert: Pre-training of deep bidirectional
    transformers for language understanding. *arXiv preprint arXiv:1810.04805*.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Devlin（2018）Jacob Devlin. 2018. Bert：用于语言理解的深度双向变换器预训练。*arXiv 预印本 arXiv:1810.04805*。
- en: 'Epstein (2014) Nancy E Epstein. 2014. Multidisciplinary in-hospital teams improve
    patient outcomes: A review. *Surgical neurology international*, 5(Suppl 7):S295.'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Epstein（2014）Nancy E Epstein. 2014. 跨学科住院团队改善患者预后：综述。*外科神经学国际*，5（增刊7）：S295。
- en: Feltz et al. (2020) Deborah L Feltz, Christopher R Hill, Stephen Samendinger,
    Nicholas D Myers, James M Pivarnik, Brian Winn, Alison Ede, and Lori Ploutz-Snyder.
    2020. Can simulated partners boost workout effort in long-term exercise? *The
    Journal of Strength & Conditioning Research*, 34(9):2434–2442.
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Feltz 等人（2020）Deborah L Feltz, Christopher R Hill, Stephen Samendinger, Nicholas
    D Myers, James M Pivarnik, Brian Winn, Alison Ede, 和 Lori Ploutz-Snyder. 2020.
    模拟伙伴是否能够提升长期锻炼中的努力程度？*《力量与体能研究杂志》*，34(9):2434–2442。
- en: 'Feltz et al. (2016) Deborah L Feltz, Lori Ploutz-Snyder, Brian Winn, Norbert L
    Kerr, James M Pivarnik, Alison Ede, Christopher Hill, Stephen Samendinger, and
    William Jeffery. 2016. Simulated partners and collaborative exercise (space) to
    boost motivation for astronauts: study protocol. *BMC psychology*, 4:1–11.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Feltz 等人（2016）Deborah L Feltz, Lori Ploutz-Snyder, Brian Winn, Norbert L Kerr,
    James M Pivarnik, Alison Ede, Christopher Hill, Stephen Samendinger, 和 William
    Jeffery. 2016. 模拟伙伴与协作性锻炼（空间）以提高宇航员的动机：研究协议。*BMC 心理学*，4:1–11。
- en: Gao et al. (2024) Weihao Gao, Fuju Rong, Lei Shao, Zhuo Deng, Daimin Xiao, Ruiheng
    Zhang, Chucheng Chen, Zheng Gong, Zhiyuan Niu, Fang Li, et al. 2024. Enhancing
    ophthalmology medical record management with multi-modal knowledge graphs. *Scientific
    Reports*, 14(1):23221.
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gao 等人（2024）Weihao Gao, Fuju Rong, Lei Shao, Zhuo Deng, Daimin Xiao, Ruiheng
    Zhang, Chucheng Chen, Zheng Gong, Zhiyuan Niu, Fang Li 等人. 2024. 利用多模态知识图谱提升眼科病历管理。*科学报告*，14(1):23221。
- en: 'Graesser et al. (2004) Arthur C Graesser, Shulan Lu, George Tanner Jackson,
    Heather Hite Mitchell, Mathew Ventura, Andrew Olney, and Max M Louwerse. 2004.
    Autotutor: A tutor with dialogue in natural language. *Behavior Research Methods,
    Instruments, & Computers*, 36:180–192.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Graesser 等人（2004）Arthur C Graesser, Shulan Lu, George Tanner Jackson, Heather
    Hite Mitchell, Mathew Ventura, Andrew Olney, 和 Max M Louwerse. 2004. Autotutor：一种具有自然语言对话的辅导系统。*行为研究方法、工具与计算机*，36:180–192。
- en: 'Hua et al. (2023) Wenyue Hua, Lizhou Fan, Lingyao Li, Kai Mei, Jianchao Ji,
    Yingqiang Ge, Libby Hemphill, and Yongfeng Zhang. 2023. War and peace (waragent):
    Large language model-based multi-agent simulation of world wars. *arXiv preprint
    arXiv:2311.17227*.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hua 等人（2023）Wenyue Hua, Lizhou Fan, Lingyao Li, Kai Mei, Jianchao Ji, Yingqiang
    Ge, Libby Hemphill, 和 Yongfeng Zhang. 2023. 战争与和平（WarAgent）：基于大型语言模型的世界大战多代理模拟。*arXiv
    预印本 arXiv:2311.17227*。
- en: 'John et al. (2008) Oliver P John, Laura P Naumann, and Christopher J Soto.
    2008. Paradigm shift to the integrative big five trait taxonomy. *Handbook of
    personality: Theory and research*, 3(2):114–158.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: John 等人（2008）Oliver P John, Laura P Naumann, 和 Christopher J Soto. 2008. 向综合型大五人格特质分类法的范式转变。*人格手册：理论与研究*，3(2):114–158。
- en: Kahn (1962) Arthur B Kahn. 1962. Topological sorting of large networks. *Communications
    of the ACM*, 5(11):558–562.
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kahn（1962）Arthur B Kahn. 1962. 大型网络的拓扑排序。*ACM 通信*，5(11):558–562。
- en: 'Kim et al. (2024) Yubin Kim, Chanwoo Park, Hyewon Jeong, Yik Siu Chan, Xuhai
    Xu, Daniel McDuff, Hyeonhoon Lee, Marzyeh Ghassemi, Cynthia Breazeal, and Hae Won
    Park. 2024. Mdagents: An adaptive collaboration of llms for medical decision-making.
    In *The Thirty-eighth Annual Conference on Neural Information Processing Systems*.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kim 等人（2024）Yubin Kim, Chanwoo Park, Hyewon Jeong, Yik Siu Chan, Xuhai Xu, Daniel
    McDuff, Hyeonhoon Lee, Marzyeh Ghassemi, Cynthia Breazeal, 和 Hae Won Park. 2024.
    Mdagents：基于LLMs的医学决策协作适应性。发表于*第38届神经信息处理系统年会*。
- en: Levine et al. (2013) Adam I Levine, Samuel DeMaria Jr, Andrew D Schwartz, and
    Alan J Sim. 2013. *The comprehensive textbook of healthcare simulation*. Springer
    Science & Business Media.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Levine 等人（2013）Adam I Levine, Samuel DeMaria Jr, Andrew D Schwartz, 和 Alan J
    Sim. 2013. *《医疗保健模拟综合教材》*。Springer Science & Business Media。
- en: Lewis et al. (2020) Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni,
    Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim
    Rocktäschel, et al. 2020. Retrieval-augmented generation for knowledge-intensive
    nlp tasks. *Advances in Neural Information Processing Systems*, 33:9459–9474.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lewis等人（2020年）Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni,
    Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim
    Rocktäschel等人。2020年。用于知识密集型NLP任务的检索增强生成。*《神经信息处理系统进展》*，33:9459–9474。
- en: 'Li et al. (2023a) Guohao Li, Hasan Abed Al Kader Hammoud, Hani Itani, Dmitrii
    Khizbullin, and Bernard Ghanem. 2023a. Camel: Communicative agents for" mind"
    exploration of large scale language model society. *arXiv preprint arXiv:2303.17760*.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li等人（2023a）Guohao Li, Hasan Abed Al Kader Hammoud, Hani Itani, Dmitrii Khizbullin和Bernard
    Ghanem。2023a。Camel：用于“大规模语言模型社会”中的“思想”探索的交互式代理。*arXiv预印本arXiv:2303.17760*。
- en: 'Li et al. (2024) Junkai Li, Siyu Wang, Meng Zhang, Weitao Li, Yunghwei Lai,
    Xinhui Kang, Weizhi Ma, and Yang Liu. 2024. Agent hospital: A simulacrum of hospital
    with evolvable medical agents. *arXiv preprint arXiv:2405.02957*.'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li等人（2024年）Junkai Li, Siyu Wang, Meng Zhang, Weitao Li, Yunghwei Lai, Xinhui
    Kang, Weizhi Ma和Yang Liu。2024年。代理医院：具有可进化医学代理的医院模拟。*arXiv预印本arXiv:2405.02957*。
- en: Li and He (2023) Qing Li and Song He. 2023. Similarity matching of medical question
    based on siamese network. *BMC Medical Informatics and Decision Making*, 23(1):55.
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li和He（2023年）Qing Li和Song He。2023年。基于孪生网络的医学问题相似度匹配。*《BMC医学信息学与决策支持》*，23(1):55。
- en: 'Li et al. (2023b) Yuan Li, Yixuan Zhang, and Lichao Sun. 2023b. Metaagents:
    Simulating interactions of human behaviors for llm-based task-oriented coordination
    via collaborative generative agents. *arXiv preprint arXiv:2310.06500*.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li等人（2023b）Yuan Li, Yixuan Zhang和Lichao Sun。2023b。Metaagents：通过协作生成代理模拟基于LLM的任务导向协调中的人类行为互动。*arXiv预印本arXiv:2310.06500*。
- en: Liu et al. (2024) Wei Liu, Chenxi Wang, Yifei Wang, Zihao Xie, Rennai Qiu, Yufan
    Dang, Zhuoyun Du, Weize Chen, Cheng Yang, and Chen Qian. 2024. Autonomous agents
    for collaborative task under information asymmetry. *arXiv preprint arXiv:2406.14928*.
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liu等人（2024年）Wei Liu, Chenxi Wang, Yifei Wang, Zihao Xie, Rennai Qiu, Yufan Dang,
    Zhuoyun Du, Weize Chen, Cheng Yang和Chen Qian。2024年。信息不对称下的协作任务的自主代理。*arXiv预印本arXiv:2406.14928*。
- en: 'Liu et al. (2023) Yi Liu, Gelei Deng, Zhengzi Xu, Yuekang Li, Yaowen Zheng,
    Ying Zhang, Lida Zhao, Tianwei Zhang, Kailong Wang, and Yang Liu. 2023. Jailbreaking
    chatgpt via prompt engineering: An empirical study. *arXiv preprint arXiv:2305.13860*.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liu等人（2023年）Yi Liu, Gelei Deng, Zhengzi Xu, Yuekang Li, Yaowen Zheng, Ying Zhang,
    Lida Zhao, Tianwei Zhang, Kailong Wang和Yang Liu。2023年。通过提示工程破解ChatGPT：一项实证研究。*arXiv预印本arXiv:2305.13860*。
- en: 'Louie et al. (2024) Ryan Louie, Ananjan Nandi, William Fang, Cheng Chang, Emma
    Brunskill, and Diyi Yang. 2024. Roleplay-doh: Enabling domain-experts to create
    llm-simulated patients via eliciting and adhering to principles. *arXiv preprint
    arXiv:2407.00870*.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Louie等人（2024年）Ryan Louie, Ananjan Nandi, William Fang, Cheng Chang, Emma Brunskill和Diyi
    Yang。2024年。Roleplay-doh：通过引导并遵循原则，使领域专家能够创建LLM模拟的患者。*arXiv预印本arXiv:2407.00870*。
- en: 'Markel et al. (2023) Julia M Markel, Steven G Opferman, James A Landay, and
    Chris Piech. 2023. Gpteach: Interactive ta training with gpt-based students. In
    *Proceedings of the tenth acm conference on learning@ scale*, pages 226–236.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Markel等人（2023年）Julia M Markel, Steven G Opferman, James A Landay和Chris Piech。2023年。GPTteach：与基于GPT的学生进行交互式TA培训。在*《第十届ACM学习@规模会议论文集》*，第226–236页。
- en: McCrae and Costa (1987) Robert R McCrae and Paul T Costa. 1987. Validation of
    the five-factor model of personality across instruments and observers. *Journal
    of personality and social psychology*, 52(1):81.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: McCrae和Costa（1987年）Robert R McCrae和Paul T Costa。1987年。五因素人格模型在各类工具和观察者中的验证。*《人格与社会心理学杂志》*，52(1):81。
- en: 'McGaghie et al. (2010) William C McGaghie, S Barry Issenberg, Emil R Petrusa,
    and Ross J Scalese. 2010. A critical review of simulation-based medical education
    research: 2003–2009. *Medical education*, 44(1):50–63.'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: McGaghie等人（2010年）William C McGaghie, S Barry Issenberg, Emil R Petrusa和Ross
    J Scalese。2010年。基于模拟的医学教育研究的批判性回顾：2003-2009年。*《医学教育》*，44(1):50–63。
- en: Moor et al. (2023) Michael Moor, Oishi Banerjee, Zahra Shakeri Hossein Abad,
    Harlan M Krumholz, Jure Leskovec, Eric J Topol, and Pranav Rajpurkar. 2023. Foundation
    models for generalist medical artificial intelligence. *Nature*, 616(7956):259–265.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Moor等人（2023年）Michael Moor, Oishi Banerjee, Zahra Shakeri Hossein Abad, Harlan
    M Krumholz, Jure Leskovec, Eric J Topol和Pranav Rajpurkar。2023年。通用医学人工智能的基础模型。*《自然》*，616(7956):259–265。
- en: Othlinghaus-Wulhorst and Hoppe (2020) Julia Othlinghaus-Wulhorst and H Ulrich
    Hoppe. 2020. A technical and conceptual framework for serious role-playing games
    in the area of social skill training. *Frontiers in Computer Science*, 2:28.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Othlinghaus-Wulhorst and Hoppe (2020) Julia Othlinghaus-Wulhorst 和 H Ulrich
    Hoppe. 2020. 社交技能训练领域中严肃角色扮演游戏的技术与概念框架。*计算机科学前沿*，2:28。
- en: Ouyang et al. (2022) Long Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll
    Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex
    Ray, et al. 2022. Training language models to follow instructions with human feedback.
    *Advances in neural information processing systems*, 35:27730–27744.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ouyang et al. (2022) Long Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll
    Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex
    Ray, 等. 2022. 训练语言模型通过人类反馈遵循指令。*神经信息处理系统进展*，35:27730–27744。
- en: 'Park et al. (2023) Joon Sung Park, Joseph O’Brien, Carrie Jun Cai, Meredith Ringel
    Morris, Percy Liang, and Michael S Bernstein. 2023. Generative agents: Interactive
    simulacra of human behavior. In *Proceedings of the 36th Annual ACM Symposium
    on User Interface Software and Technology*, pages 1–22.'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Park et al. (2023) Joon Sung Park, Joseph O’Brien, Carrie Jun Cai, Meredith
    Ringel Morris, Percy Liang, 和 Michael S Bernstein. 2023. 生成代理：人类行为的互动模拟物。在*第36届年度ACM用户界面软件与技术研讨会论文集*，第1–22页。
- en: 'Park et al. (2022) Joon Sung Park, Lindsay Popowski, Carrie Cai, Meredith Ringel
    Morris, Percy Liang, and Michael S Bernstein. 2022. Social simulacra: Creating
    populated prototypes for social computing systems. In *Proceedings of the 35th
    Annual ACM Symposium on User Interface Software and Technology*, pages 1–18.'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Park et al. (2022) Joon Sung Park, Lindsay Popowski, Carrie Cai, Meredith Ringel
    Morris, Percy Liang, 和 Michael S Bernstein. 2022. 社会模拟物：为社交计算系统创建有人物的原型。在*第35届年度ACM用户界面软件与技术研讨会论文集*，第1–18页。
- en: Péli and Nooteboom (1997) Gábor Péli and Bart Nooteboom. 1997. Simulation of
    learning in supply partnerships. *Computational & Mathematical Organization Theory*,
    3:43–66.
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Péli and Nooteboom (1997) Gábor Péli 和 Bart Nooteboom. 1997. 供应伙伴关系中的学习模拟。*计算与数学组织理论*，3:43–66。
- en: 'Qian et al. (2024a) Chen Qian, Wei Liu, Hongzhang Liu, Nuo Chen, Yufan Dang,
    Jiahao Li, Cheng Yang, Weize Chen, Yusheng Su, Xin Cong, et al. 2024a. Chatdev:
    Communicative agents for software development. In *Proceedings of the 62nd Annual
    Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)*,
    pages 15174–15186.'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Qian et al. (2024a) 陈倩, 刘伟, 刘洪章, 陈诺, 邓宇凡, 李佳浩, 杨程, 陈伟泽, 苏宇生, 蔡鑫, 等. 2024a.
    Chatdev: 用于软件开发的交流代理。在*第62届计算语言学会年会论文集（第1卷：长文）*，第15174–15186页。'
- en: Qian et al. (2024b) Chen Qian, Zihao Xie, Yifei Wang, Wei Liu, Yufan Dang, Zhuoyun
    Du, Weize Chen, Cheng Yang, Zhiyuan Liu, and Maosong Sun. 2024b. Scaling large-language-model-based
    multi-agent collaboration. *arXiv preprint arXiv:2406.07155*.
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Qian et al. (2024b) 陈倩, 谢子豪, 王一飞, 刘伟, 邓宇凡, 杜卓云, 陈伟泽, 杨程, 刘智远, 和 孙茂松. 2024b.
    基于大语言模型的多代理协作扩展。*arXiv预印本arXiv:2406.07155*。
- en: Raffel et al. (2020) Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee,
    Sharan Narang, Michael Matena, Yanqi Zhou, Wei Li, and Peter J Liu. 2020. Exploring
    the limits of transfer learning with a unified text-to-text transformer. *Journal
    of machine learning research*, 21(140):1–67.
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Raffel et al. (2020) Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee,
    Sharan Narang, Michael Matena, Yanqi Zhou, Wei Li, 和 Peter J Liu. 2020. 探索统一文本到文本变换器的迁移学习极限。*机器学习研究杂志*，21(140):1–67。
- en: 'Ruan et al. (2019) Sherry Ruan, Liwei Jiang, Justin Xu, Bryce Joe-Kun Tham,
    Zhengneng Qiu, Yeshuang Zhu, Elizabeth L Murnane, Emma Brunskill, and James A
    Landay. 2019. Quizbot: A dialogue-based adaptive learning system for factual knowledge.
    In *Proceedings of the 2019 CHI conference on human factors in computing systems*,
    pages 1–13.'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Ruan et al. (2019) Sherry Ruan, Liwei Jiang, Justin Xu, Bryce Joe-Kun Tham,
    Zhengneng Qiu, Yeshuang Zhu, Elizabeth L Murnane, Emma Brunskill, 和 James A Landay.
    2019. Quizbot: 一种基于对话的适应性学习系统，用于事实性知识。在*2019年计算机系统人因学会议论文集*，第1–13页。'
- en: 'Shaikh et al. (2024) Omar Shaikh, Valentino Emil Chai, Michele Gelfand, Diyi
    Yang, and Michael S Bernstein. 2024. Rehearsal: Simulating conflict to teach conflict
    resolution. In *Proceedings of the CHI Conference on Human Factors in Computing
    Systems*, pages 1–20.'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shaikh et al. (2024) Omar Shaikh, Valentino Emil Chai, Michele Gelfand, Diyi
    Yang, 和 Michael S Bernstein. 2024. 排练：模拟冲突以教授冲突解决。在*计算机系统人因学CHI会议论文集*，第1–20页。
- en: Shanahan et al. (2023) Murray Shanahan, Kyle McDonell, and Laria Reynolds. 2023.
    Role play with large language models. *Nature*, 623(7987):493–498.
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shanahan et al. (2023) Murray Shanahan, Kyle McDonell, 和 Laria Reynolds. 2023.
    与大语言模型的角色扮演。*自然*，623(7987):493–498。
- en: Singhal et al. (2023) Karan Singhal, Shekoofeh Azizi, Tao Tu, S Sara Mahdavi,
    Jason Wei, Hyung Won Chung, Nathan Scales, Ajay Tanwani, Heather Cole-Lewis, Stephen
    Pfohl, et al. 2023. Large language models encode clinical knowledge. *Nature*,
    620(7972):172–180.
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Singhal 等人（2023）Karan Singhal，Shekoofeh Azizi，Tao Tu，S Sara Mahdavi，Jason Wei，Hyung
    Won Chung，Nathan Scales，Ajay Tanwani，Heather Cole-Lewis，Stephen Pfohl 等人. 2023.
    大语言模型编码临床知识。*自然*，620（7972）：172–180。
- en: Spencer and Dales (2006) John Spencer and Jill Dales. 2006. Meeting the needs
    of simulated patients and caring for the person behind them?
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Spencer 和 Dales（2006）John Spencer 和 Jill Dales. 2006. 满足模拟病人的需求以及关爱其背后的人的问题？
- en: Sun et al. (2024) Zhiqing Sun, Yikang Shen, Qinhong Zhou, Hongxin Zhang, Zhenfang
    Chen, David Cox, Yiming Yang, and Chuang Gan. 2024. Principle-driven self-alignment
    of language models from scratch with minimal human supervision. *Advances in Neural
    Information Processing Systems*, 36.
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sun 等人（2024）孙志清，沈宜康，周沁洪，张洪鑫，陈震方，David Cox，杨一鸣，甘创. 2024. 从零开始的语言模型原则驱动自对齐，最小化人类监督。*神经信息处理系统进展*，36。
- en: Taberna et al. (2020) Miren Taberna, Francisco Gil Moncayo, Enric Jané-Salas,
    Maite Antonio, Lorena Arribas, Esther Vilajosana, Elisabet Peralvez Torres, and
    Ricard Mesía. 2020. The multidisciplinary team (mdt) approach and quality of care.
    *Frontiers in oncology*, 10:85.
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Taberna 等人（2020）Miren Taberna，Francisco Gil Moncayo，Enric Jané-Salas，Maite Antonio，Lorena
    Arribas，Esther Vilajosana，Elisabet Peralvez Torres 和 Ricard Mesía. 2020. 多学科团队（MDT）方法与护理质量。*肿瘤学前沿*，10:85。
- en: 'Varas et al. (2023) Julian Varas, Brandon Valencia Coronel, IGNACIO VILLAGRáN,
    Gabriel Escalona, Rocio Hernandez, Gregory Schuit, VALENTINA DURáN, Antonia Lagos-Villaseca,
    Cristian Jarry, Andres Neyem, et al. 2023. Innovations in surgical training: exploring
    the role of artificial intelligence and large language models (llm). *Revista
    do Colégio Brasileiro de Cirurgiões*, 50:e20233605.'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Varas 等人（2023）Julian Varas，Brandon Valencia Coronel，IGNACIO VILLAGRáN，Gabriel
    Escalona，Rocio Hernandez，Gregory Schuit，VALENTINA DURáN，Antonia Lagos-Villaseca，Cristian
    Jarry，Andres Neyem 等人. 2023. 外科培训中的创新：探索人工智能和大语言模型（LLM）的作用。*巴西外科医生学会杂志*，50:e20233605。
- en: 'Wallace (2007) Peggy Wallace. 2007. *Coaching standardized patients: For use
    in the assessment of clinical competence*. Springer Publishing.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wallace（2007）Peggy Wallace. 2007. *标准化病人的辅导：用于临床能力评估*。Springer Publishing。
- en: Wang et al. (2022) Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi,
    Sharan Narang, Aakanksha Chowdhery, and Denny Zhou. 2022. Self-consistency improves
    chain of thought reasoning in language models. *arXiv preprint arXiv:2203.11171*.
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wang 等人（2022）王雪智，Jason Wei，Dale Schuurmans，Quoc Le，Ed Chi，Sharan Narang，Aakanksha
    Chowdhery 和 Denny Zhou. 2022. 自一致性提升大语言模型中的思维链推理。*arXiv 预印本 arXiv:2203.11171*。
- en: Wei et al. (2022) Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei
    Xia, Ed Chi, Quoc V Le, Denny Zhou, et al. 2022. Chain-of-thought prompting elicits
    reasoning in large language models. *Advances in neural information processing
    systems*, 35:24824–24837.
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wei 等人（2022）Jason Wei，王雪智，Dale Schuurmans，Maarten Bosma，Fei Xia，Ed Chi，Quoc
    V Le，Denny Zhou 等人. 2022. 思维链提示在大语言模型中引发推理。*神经信息处理系统进展*，35：24824–24837。
- en: Xu et al. (2023) Peng Xu, Wei Ping, Xianchao Wu, Lawrence McAfee, Chen Zhu,
    Zihan Liu, Sandeep Subramanian, Evelina Bakhturina, Mohammad Shoeybi, and Bryan
    Catanzaro. 2023. Retrieval meets long context large language models. *arXiv preprint
    arXiv:2310.03025*.
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Xu 等人（2023）徐鹏，魏平，吴显超，Lawrence McAfee，陈柱，刘子涵，Sandeep Subramanian，Evelina Bakhturina，Mohammad
    Shoeybi 和 Bryan Catanzaro. 2023. 检索与长上下文大语言模型的结合。*arXiv 预印本 arXiv:2310.03025*。
- en: 'Yao et al. (2024) Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Tom Griffiths,
    Yuan Cao, and Karthik Narasimhan. 2024. Tree of thoughts: Deliberate problem solving
    with large language models. *Advances in Neural Information Processing Systems*,
    36.'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yao 等人（2024）姚顺宇，余玳，Jeffrey Zhao，Izhak Shafran，Tom Griffiths，曹远，Karthik Narasimhan.
    2024. 思维树：通过大语言模型进行深思熟虑的问题解决。*神经信息处理系统进展*，36。
- en: 'Yu et al. (2024) Huizi Yu, Jiayan Zhou, Lingyao Li, Shan Chen, Jack Gallifant,
    Anye Shi, Xiang Li, Wenyue Hua, Mingyu Jin, Guang Chen, et al. 2024. Aipatient:
    Simulating patients with ehrs and llm powered agentic workflow. *arXiv preprint
    arXiv:2409.18924*.'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yu 等人（2024）胡子渭，周家彦，李凌瑶，陈杉，Jack Gallifant，史安业，李翔，华文月，金名煜，陈广等人. 2024. Aipatient：通过电子健康记录和大语言模型驱动的智能工作流模拟病人。*arXiv
    预印本 arXiv:2409.18924*。
- en: 'Zhang et al. (2023) Xinlu Zhang, Chenxin Tian, Xianjun Yang, Lichang Chen,
    Zekun Li, and Linda Ruth Petzold. 2023. Alpacare: Instruction-tuned large language
    models for medical application. *arXiv preprint arXiv:2310.14558*.'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zhang 等人（2023）张新路，田晨鑫，杨显俊，陈力畅，李泽坤和Linda Ruth Petzold. 2023. Alpacare：用于医疗应用的指令调优大语言模型。*arXiv
    预印本 arXiv:2310.14558*。
- en: 'Zhao et al. (2024) Andrew Zhao, Daniel Huang, Quentin Xu, Matthieu Lin, Yong-Jin
    Liu, and Gao Huang. 2024. Expel: Llm agents are experiential learners. In *Proceedings
    of the AAAI Conference on Artificial Intelligence*, volume 38, pages 19632–19642.'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zhao 等人（2024）Andrew Zhao, Daniel Huang, Quentin Xu, Matthieu Lin, Yong-Jin Liu,
    和 Gao Huang。2024年。Expel：LLM 代理是经验型学习者。载于 *人工智能会议论文集*，第38卷，第19632–19642页。
- en: 'Zhuge et al. (2024) Mingchen Zhuge, Changsheng Zhao, Dylan Ashley, Wenyi Wang,
    Dmitrii Khizbullin, Yunyang Xiong, Zechun Liu, Ernie Chang, Raghuraman Krishnamoorthi,
    Yuandong Tian, et al. 2024. Agent-as-a-judge: Evaluate agents with agents. *arXiv
    preprint arXiv:2410.10934*.'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zhuge 等人（2024）Mingchen Zhuge, Changsheng Zhao, Dylan Ashley, Wenyi Wang, Dmitrii
    Khizbullin, Yunyang Xiong, Zechun Liu, Ernie Chang, Raghuraman Krishnamoorthi,
    Yuandong Tian 等人。2024年。Agent-as-a-judge：使用代理来评估代理。*arXiv 预印本 arXiv:2410.10934*。
- en: 'Ziv et al. (2006) Amitai Ziv, Paul Root Wolpe, Stephen D Small, and Shimon
    Glick. 2006. Simulation-based medical education: an ethical imperative. *Simulation
    in Healthcare*, 1(4):252–256.'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ziv 等人（2006）Amitai Ziv, Paul Root Wolpe, Stephen D Small, 和 Shimon Glick。2006年。基于模拟的医学教育：一种伦理上的必要性。*医疗保健中的模拟*，1(4)：252–256。
- en: Zou et al. (2023) Andy Zou, Zifan Wang, Nicholas Carlini, Milad Nasr, J Zico
    Kolter, and Matt Fredrikson. 2023. Universal and transferable adversarial attacks
    on aligned language models. *arXiv preprint arXiv:2307.15043*.
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zou 等人（2023）Andy Zou, Zifan Wang, Nicholas Carlini, Milad Nasr, J Zico Kolter,
    和 Matt Fredrikson。2023年。面向对齐语言模型的通用和可迁移对抗攻击。*arXiv 预印本 arXiv:2307.15043*。
- en: Appendix
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 附录
- en: The supplementary information accompanying the main paper provides additional
    data, explanations, and details.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 附加信息随主文一起提供，包含额外的数据、解释和细节。
- en: Appendix A Baselines
  id: totrans-222
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 A 基准
- en: $\bullet$
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Chain-of-Thought (CoT) Wei et al. ([2022](https://arxiv.org/html/2412.11716v1#bib.bib49))
    is a technically general and empirically powerful method that endows LLMs with
    the ability to generate a coherent series of intermediate reasoning steps, naturally
    leading to the final solution through thoughtful thinking and allowing reasoning
    abilities to emerge.
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 链式推理（CoT）Wei 等人（[2022](https://arxiv.org/html/2412.11716v1#bib.bib49)）是一种技术上通用且经验上有效的方法，它赋予
    LLM 生成一系列连贯的中间推理步骤的能力，通过深思熟虑的思考自然地引导最终解决方案，并使推理能力得以展现。
- en: $\bullet$
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Self-consistency with CoT (CoT-SC) Wang et al. ([2022](https://arxiv.org/html/2412.11716v1#bib.bib48))
    improves upon CoT, by using different thought processes for the same problem and
    the output decision can be more faithful by exploring a richer set of thoughts.
    We use “CoT-SC(n)” to denote the approach that employs the CoT prompt method to
    sample n reasoning chains and then utilize the SC method to select the answer.
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 基于链式推理的自一致性（CoT-SC）Wang 等人（[2022](https://arxiv.org/html/2412.11716v1#bib.bib48)）通过对同一问题使用不同的思维过程，从而增强了
    CoT，输出决策可以通过探索更丰富的思维集合来更加忠实。我们使用“CoT-SC(n)”来表示采用 CoT 提示方法来采样 n 个推理链，然后利用 SC 方法来选择答案的方式。
- en: $\bullet$
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Tree-of-Thought (ToT) Yao et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib51))
    extends CoT by allowing the exploration of multiple reasoning paths in a tree
    structure, accommodating branching possibilities, and enabling backtracking, significantly
    enhances language models’ problem-solving abilities.
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 思维树（ToT）Yao 等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib51)）通过允许在树结构中探索多个推理路径，适应分支可能性，并支持回溯，从而扩展了
    CoT，显著增强了语言模型的解题能力。
- en: $\bullet$
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Few-shot Brown et al. ([2020](https://arxiv.org/html/2412.11716v1#bib.bib4))
    uses experience including historical medical records from hospital practices and
    exemplar cases from medical documents for demonstrations. We adopt this idea from
    Agent Hospital Li et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib21)).
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 少样本学习 Brown 等人（[2020](https://arxiv.org/html/2412.11716v1#bib.bib4)）利用包括医院实践中的历史病历和医学文献中的示例病例等经验进行演示。我们借鉴了
    Agent Hospital Li 等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib21)）的这一思路。
- en: $\bullet$
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Principle-Driven Self-Alignment Sun et al. ([2024](https://arxiv.org/html/2412.11716v1#bib.bib44))
    defines a set of principles that the agent must adhere to and provides in-context
    learning demonstrations for constructing helpful, ethical, and reliable responses.
  id: totrans-232
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 基于原则的自我对齐（Principle-Driven Self-Alignment）Sun 等人（[2024](https://arxiv.org/html/2412.11716v1#bib.bib44)）定义了一组代理必须遵守的原则，并提供了上下文学习示范，用于构建有益、伦理和可靠的响应。
- en: Appendix B Metrics
  id: totrans-233
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 B 度量
- en: Evaluating dialogues in the medical education domain is a challenging task,
    especially when trying to assess it holistically. Here, we delineate the detailed
    descriptions of the metrics employed in our analysis. While these dimensions may
    not encompass every facet of questions and answers evaluation, they provide insight
    for evaluating the early efforts of agents in the field of standardized patient
    agent framework development.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 在医疗教育领域评估对话是一项具有挑战性的任务，尤其是在试图全面评估时。本文详细描述了我们分析中使用的各项指标。虽然这些维度可能无法涵盖问题和回答评估的各个方面，但它们为评估标准患者代理框架开发初期的工作提供了重要的见解。
- en: Metrics for Patient Answers Evaluation
  id: totrans-235
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 患者回答评估指标
- en: $\bullet$
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Relevance ($\alpha\in\left[0,1\right]$) measures if the answer directly attempts
    to address the question in a complete sentence manner and without redundant information.
    Quantified as the cosine distance between the semantic embeddings of the question
    and the answer. A higher score indicates a higher probability of being accurate,
    pertinent, and effectively satisfying the user’s query.
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 相关性（$\alpha\in\left[0,1\right]$）衡量回答是否直接试图以完整的句子方式回答问题，并且没有冗余信息。通过问题和答案的语义嵌入之间的余弦距离量化。得分越高，表示回答越有可能准确、相关，并有效地满足用户的查询。
- en: $\bullet$
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Faithfulness ($\beta\in\left[0,1\right]$) evaluates whether the patient’s answer
    can be inferred from the medical information provided. Meanwhile, align with the
    requirements of the SP. A higher score indicates a higher probability of the patient
    agent being faithful to both patient records and requirements.
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 忠实度（$\beta\in\left[0,1\right]$）评估患者的回答是否可以从提供的医疗信息中推断出来。同时，确保与标准患者（SP）的要求一致。得分越高，表示患者代理在遵守患者记录和要求方面的忠实度越高。
- en: $\bullet$
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Robustness ($\gamma\in\left[0,1\right]$) evaluates whether the patient’s answer
    discloses information that the doctor should not easily possess (e.g., the name
    of the disease, detail descriptions of the medical record.) or provide excessive
    medical details in a single question. A higher score indicates a lower likelihood
    that the doctor can obtain information through carefully crafted deceptive questions
    that would not be accessible in real medical scenarios.
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 稳健性（$\gamma\in\left[0,1\right]$）评估患者的回答是否透露了医生不应该轻易掌握的信息（例如，疾病名称、病历的详细描述）或在单一问题中提供过多的医疗细节。得分越高，表示医生通过精心设计的欺骗性问题获取信息的可能性较低，这些信息在真实医疗场景中不容易获取。
- en: $\bullet$
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Ability ($\frac{\alpha+\beta+\gamma}{3}\in\left[0,1\right]$) is a comprehensive
    metric that integrates various factors to assess the overall ability of the patient
    agent, quantified by averaging robustness, faithfulness, and answer relevance.
    A higher quality score suggests a higher overall satisfaction with the patient
    agent, implying a lower possibility of misalignment of requirements.
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 能力（$\frac{\alpha+\beta+\gamma}{3}\in\left[0,1\right]$）是一个综合指标，整合了多个因素来评估患者代理的整体能力，通过平均稳健性、忠实度和回答相关性来量化。得分越高，表示患者代理的整体满意度越高，意味着需求不对齐的可能性较低。
- en: Metrics for Doctor Questions Evaluation
  id: totrans-244
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 医生问题评估指标
- en: $\bullet$
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Specificity ($\delta\in\left[0,1\right]$) measures the degree to which the doctor’s
    questions are precise and unambiguous, focusing on specific symptoms, conditions,
    or contexts relevant to the patient’s case. A higher score indicates that the
    doctor avoids overly broad or vague questions, instead tailoring inquiries to
    gather detailed and actionable information that supports an accurate and thorough
    diagnosis.
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 特异性（$\delta\in\left[0,1\right]$）衡量医生提问的精确度和明确性，重点关注与患者病例相关的特定症状、病情或背景。得分越高，表示医生避免提出过于宽泛或模糊的问题，而是定制问题以收集详细和可操作的信息，从而支持准确和彻底的诊断。
- en: $\bullet$
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Targetedness ($\epsilon\in\left[0,1\right]$) assesses whether the doctor is
    asking meaningful and targeted questions aimed at gathering necessary diagnostic
    information. A higher score indicates that the doctor is efficient in collecting
    relevant data for an accurate diagnosis.
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 目标性（$\epsilon\in\left[0,1\right]$）评估医生是否提出了有意义和有针对性的问题，旨在收集必要的诊断信息。得分越高，表示医生在收集相关数据以进行准确诊断方面越高效。
- en: $\bullet$
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Professionalism ($\zeta\in\left[0,1\right]$) evaluates the degree to which the
    doctor’s questions reflect a deep understanding of medical principles and practices.
    A higher score indicates that the questions are framed with appropriate medical
    terminology, consider evidence-based practices, and demonstrate an awareness of
    clinical guidelines, thereby enhancing the quality of the diagnostic process.
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 专业性（$\zeta\in\left[0,1\right]$）评估医生提问是否反映了对医学原则和实践的深刻理解。较高的分数表明问题使用了恰当的医学术语，考虑了基于证据的实践，并展示了对临床指南的认识，从而提高了诊断过程的质量。
- en: $\bullet$
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: $\bullet$
- en: Quality ($\frac{\delta+\epsilon+\zeta}{3}\in\left[0,1\right]$) is a comprehensive
    metric that integrates various factors to assess the overall quality of the doctor
    agents’ question. It is quantified by averaging specificity, targeted questioning,
    and professionalism. A higher ability score suggests a more effective and efficient
    approach to patient diagnosis, contributing to a better patient evolution process.
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 质量（$\frac{\delta+\epsilon+\zeta}{3}\in\left[0,1\right]$）是一个综合指标，整合了多种因素来评估医生代理人问题的整体质量。通过平均特异性、目标性提问和专业性来量化该指标。较高的能力分数表明对患者诊断的处理方式更有效且高效，有助于患者演变过程的改善。
- en: Appendix C Initial SP Requirements
  id: totrans-253
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 C 初始SP要求
- en: Here, we provide the overall SP role-playing requirements used in our framework
    shown in Figure [7](https://arxiv.org/html/2412.11716v1#A3.F7 "Figure 7 ‣ Appendix
    C Initial SP Requirements ‣ LLMs Can Simulate Standardized Patients via Agent
    Coevolution").
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们提供了框架中使用的总体SP角色扮演要求，见图[7](https://arxiv.org/html/2412.11716v1#A3.F7 "Figure
    7 ‣ Appendix C Initial SP Requirements ‣ LLMs Can Simulate Standardized Patients
    via Agent Coevolution")。
- en: '<svg class="ltx_picture ltx_centering" height="744.32" id="A3.F7.pic1" overflow="visible"
    version="1.1" width="649.61"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,744.32) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 726.11)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="606.3">Overall Initial SP Requirements</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="694.62" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="606.3">You are a simulated patient. You will play the following
    role: {profile} Now, you will face a question from a doctor. The following are
    the guidelines you should follow: 1\. Role Awareness: - Your responses should
    be based on the provided medical condition and character background. - The understanding
    of medical terminology will vary according to the character’s education level.
    Patients with lower education may only understand basic terms, those with moderate
    education may understand some technical terms, and those with higher education
    may understand rarer terms. 2\. Personality Traits: - Your responses should reflect
    the personality traits of the character. Basically, introverted patients should
    give brief answers, those with a negative personality may show avoidance or reluctance
    to answer, extroverted patients may give longer responses, open personalities
    should show a positive attitude toward treatment, and agreeable personalities
    should be friendly. 3\. Communication Style: - When the question does not involve
    test results, you may communicate normally with the doctor but avoid using medical
    terms beyond the character’s knowledge scope and avoid giving overly detailed
    descriptions. - Your response should reflect the first-person perspective of the
    patient, with a conversational tone, including filler words, hesitation, and other
    oral communication traits, consistent with the role’s background, personality,
    education level, etc. 4\. Handling Test Results: - When the question involves
    test results, if a full hospital examination report is requested and such information
    has not been provided, refuse to answer. If the information is provided, respond
    clearly and accurately in accordance with the character’s personality, possibly
    using medical terminology. Patients with a negative personality may be reluctant
    to answer. - If only a specific test result is asked, do not answer. 5\. Handling
    Complex Questions: - Be aware that the doctor may ask complex questions with multiple
    sub-questions. In this case, you should selectively answer or refuse to answer
    based on the character’s personality. - Do not answer questions related to medical
    history or diagnosis conclusions. - Your responses should not reveal the final
    disease name. 7\. Providing Historical Information: - If asked about previous
    treatment or diagnosis results, you may provide information that does not include
    the final diagnosis, or mention tests that were conducted, while ensuring this
    aligns with the character’s personality. Different personalities may have different
    memory abilities. Higher education levels may imply better memory, while lower
    levels may suggest poorer memory. The stronger the memory, the more tests the
    patient can mention. 8\. Emotional Responses: - Your response should reflect the
    patient’s emotional reaction, such as anxiety, concern, hope, etc., in line with
    the character’s personality and educational background. 9\. Cultural and Linguistic
    Adaptability: - Considering that patients from different cultural and linguistic
    backgrounds may have varying understandings and reactions to certain terms, your
    responses should be adapted to the character’s cultural and linguistic habits.
    10\. Feedback and Interaction: - Your response may include feedback to the doctor’s
    question, such as asking for clarification or expressing difficulty in understanding
    certain questions. You may also express your feelings, whether satisfied or dissatisfied.
    Basic Descriptions of Different Personality Types: - Openness: Reflects the individual’s
    willingness to engage in new experiences, creativity, and curiosity. - Conscientiousness:
    Measures an individual’s level of self-discipline, organization, and goal-oriented
    behavior. - Extraversion: Describes how outgoing, energetic, and social a person
    is. - Agreeableness: Represents an individual’s tendency to be friendly, cooperative,
    and empathetic in relationships with others. - Neuroticism: Related to emotional
    stability; high neuroticism indicates an individual is more affected by stress
    and negative emotions. Doctor question: {question} Patient information: {information}
    Memory: {memory}</foreignobject></g></g></svg>'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="744.32" id="A3.F7.pic1" overflow="visible"
    version="1.1" width="649.61"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,744.32) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 726.11)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="606.3">Overall Initial SP Requirements</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="694.62" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="606.3">You are a simulated patient. You will play the following
    role: {profile} Now, you will face a question from a doctor. The following are
    the guidelines you should follow: 1\. Role Awareness: - Your responses should
    be based on the provided medical condition and character background. - The understanding
    of medical terminology will vary according to the character’s education level.
    Patients with lower education may only understand basic terms, those with moderate
    education may understand some technical terms, and those with higher education
    may understand rarer terms. 2\. Personality Traits: - Your responses should reflect
    the personality traits of the character. Basically, introverted patients should
    give brief answers, those with a negative personality may show avoidance or reluctance
    to answer, extroverted patients may give longer responses, open personalities
    should show a positive attitude toward treatment, and agreeable personalities
    should be friendly. 3\. Communication Style: - When the question does not involve
    test results, you may communicate normally with the doctor but avoid using medical
    terms beyond the character’s knowledge scope and avoid giving overly detailed
    descriptions. - Your response should reflect the first-person perspective of the
    patient, with a conversational tone, including filler words, hesitation, and other
    oral communication traits, consistent with the role’s background, personality,
    education level, etc. 4\. Handling Test Results: - When the question involves
    test results, if a full hospital examination report is requested and such information
    has not been provided, refuse to answer. If the information is provided, respond
    clearly and accurately in accordance with the character’s personality, possibly
    using medical terminology. Patients with a negative personality may be reluctant
    to answer. - If only a specific test result is asked, do not answer. 5\. Handling
    Complex Questions: - Be aware that the doctor may ask complex questions with multiple
    sub-questions. In this case, you should selectively answer or refuse to answer
    based on the character’s personality. - Do not answer questions related to medical
    history or diagnosis conclusions. - Your responses should not reveal the final
    disease name. 7\. Providing Historical Information: - If asked about previous
    treatment or diagnosis results, you may provide information that does not include
    the final diagnosis, or mention tests that were conducted, while ensuring this
    aligns with the character’s personality. Different personalities may have different
    memory abilities. Higher education levels may imply better memory, while lower
    levels may suggest poorer memory. The stronger the memory, the more tests the
    patient can mention. 8\. Emotional Responses: - Your response should reflect the
    patient’s emotional reaction, such as anxiety, concern, hope, etc., in line with
    the character’s personality and educational background. 9\. Cultural and Linguistic
    Adaptability: - Considering that patients from different cultural and linguistic
    backgrounds may have varying understandings and reactions to certain terms, your
    responses should be adapted to the character’s cultural and linguistic habits.
    10\. Feedback and Interaction: - Your response may include feedback to the doctor’s
    question, such as asking for clarification or expressing difficulty in understanding
    certain questions. You may also express your feelings, whether satisfied or dissatisfied.
    Basic Descriptions of Different Personality Types: - Openness: Reflects the individual’s
    willingness to engage in new experiences, creativity, and curiosity. - Conscientiousness:
    Measures an individual’s level of self-discipline, organization, and goal-oriented
    behavior. - Extraversion: Describes how outgoing, energetic, and social a person
    is. - Agreeableness: Represents an individual’s tendency to be friendly, cooperative,
    and empathetic in relationships with others. - Neuroticism: Related to emotional
    stability; high neuroticism indicates an individual is more affected by stress
    and negative emotions. Doctor question: {question} Patient information: {information}
    Memory: {memory}</foreignobject></g></g></svg>'
- en: 'Figure 7: Overall initial SP requirements used in our framework.'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7：我们框架中使用的总体初始SP要求。
- en: Appendix D Multi-Step Validation
  id: totrans-257
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 D 多步骤验证
- en: Answer Validation
  id: totrans-258
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 答案验证
- en: In our approach to validating patient agent responses, we employ a multi-step
    evaluation utilizing Large Language Models (LLMs) to ascertain whether the responses
    adhere to the established criteria. Figure [8](https://arxiv.org/html/2412.11716v1#A4.F8
    "Figure 8 ‣ Answer Validation ‣ Appendix D Multi-Step Validation ‣ LLMs Can Simulate
    Standardized Patients via Agent Coevolution") illustrates the basic validation
    steps that form the foundation of our process, which can be expanded to include
    considerations of the patient’s background and characteristics. Initially, we
    determine if the question explicitly mentions a disease name. If it does, we evaluate
    whether the response is a refusal to answer; if so, the Faithfulness score is
    1, otherwise, it is 0, preventing doctors from indirectly deducing the patient’s
    diagnosis through conjecture. If the question does not mention a disease, we next
    ascertain if it inquires about test results. For questions related to test results,
    we assess whether they specifically request information about a particular test.
    If they do, we again evaluate whether the response is a refusal to answer; a refusal
    results in a Faithfulness score of 1, while any other response results in a score
    of 0, encouraging doctors to guide patients towards targeted testing rather than
    directly inquiring about specific results. If the question does not request a
    specific test result but the relevant information is present in the patient’s
    records, the response should provide the test result; failure to do so results
    in a Faithfulness score of 0\. If the question includes specialized terminology,
    the response should be a refusal, earning a Faithfulness score of 1; otherwise,
    it is 0, while questions without such terminology should be answered directly.
    Following these assessments, the mechanism checks for the presence of excessive
    medical history, detailed past test results, and disease names in the response.
    The absence of such details results in a Robustness score of 1; otherwise, it
    is 0\. A response is deemed qualified if it has both Faithfulness = 1 and Robustness
    = 1.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们验证患者代理人回应的方法中，我们采用了多步骤评估，通过利用大规模语言模型（LLMs）来确定回应是否符合既定标准。图[8](https://arxiv.org/html/2412.11716v1#A4.F8
    "Figure 8 ‣ Answer Validation ‣ Appendix D Multi-Step Validation ‣ LLMs Can Simulate
    Standardized Patients via Agent Coevolution")展示了构成我们过程基础的基本验证步骤，这些步骤可以扩展，包括考虑患者的背景和特征。最初，我们会确定问题是否明确提到疾病名称。如果提到，我们会评估回应是否为拒绝回答；如果是，忠诚度得分为1，否则为0，从而防止医生通过猜测间接推断出患者的诊断。如果问题没有提到疾病，我们接着判断是否询问了测试结果。对于涉及测试结果的问题，我们评估是否明确要求提供某项特定测试的信息。如果是，我们再次评估回应是否为拒绝回答；拒绝回答得分为1，其他回应则得分为0，鼓励医生引导患者进行针对性的检测，而不是直接询问具体结果。如果问题没有要求特定的测试结果，但相关信息在患者的记录中已有，回应应该提供该测试结果；如果未提供，忠诚度得分为0。如果问题包含专业术语，回应应该为拒绝，获得忠诚度得分1；否则为0，而不包含专业术语的问题应直接回答。完成这些评估后，机制会检查回应中是否包含过多的病史、详细的过往测试结果或疾病名称。若未包含此类细节，则稳健性得分为1；否则为0。如果回应的忠诚度和稳健性得分都为1，则该回应被认为是合格的。
- en: '![Refer to caption](img/772edbd8589801f06c13d7c766f6028f.png)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![参考标题](img/772edbd8589801f06c13d7c766f6028f.png)'
- en: 'Figure 8: A basic validation step for patient answers. Zoom in for more detailed
    information.'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 图8：患者回答的基本验证步骤。放大查看更详细的信息。
- en: Question Validation
  id: totrans-262
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 问题验证
- en: 'In terms of evaluating doctor agent responses, we also employ a structured
    multi-step assessment to ensure the responses meet established medical standards.
    Figure [9](https://arxiv.org/html/2412.11716v1#A4.F9 "Figure 9 ‣ Question Validation
    ‣ Appendix D Multi-Step Validation ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution") outlines the key steps of this validation process, which takes
    into account the specificity, targetedness, and professionalism of the doctor’s
    questions. The steps are as follows: The first step involves extracting medical
    terms from the question. We check if the question includes references to specific
    body parts (e.g., abdomen, throat). If such references are present, we further
    assess whether the question targets particular symptoms or issues, such as pain
    or a foreign body sensation. If neither specific body parts nor targeted symptoms
    are mentioned, we set the Specificity score to 0\. If the question includes professional
    medical terminology, the next step is to evaluate if these terms are linked to
    specific medical examinations or treatments. If so, we assign a Professionalism
    score of 1\. If the terms are not linked to specific examinations or treatments,
    we then check if the terms involve general medical concepts. If they do, we assign
    a Professionalism score of 1; otherwise, we set the Professionalism score to 0\.
    For questions that do not contain medical terms, we first assess whether the question
    is intended to inquire about the patient’s condition. If it is, we check whether
    the terms involve general medical concepts and address them as described above.
    If not, we assign a Professionalism score of 0\. For questions containing medical
    terms, we check whether these terms are present in the available information.
    If they are, we proceed to assess whether the question semantically aligns with
    the information provided, confirming if the medical terms in the question relate
    to the information. If not, we assign a Targetedness score of 0\. If the question’s
    medical terms appear in the information, we further examine if the provided information
    contains the key content needed to answer the question. If the information includes
    the necessary details, we evaluate whether the response reasonably utilizes this
    content. A response that appropriately uses the information will receive a Targetedness
    score of 1, while responses that fail to do so will receive a score of 0\. The
    process concludes by combining the outcomes of these assessments. If both Specificity
    = 1 and Professionalism = 1, the response is considered appropriate. If any criteria
    are not met, the corresponding score is set to 0, and the response is deemed unqualified.'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 在评估医生代理回应时，我们还采用了一个结构化的多步骤评估流程，以确保回应符合既定的医学标准。图[9](https://arxiv.org/html/2412.11716v1#A4.F9
    "Figure 9 ‣ Question Validation ‣ Appendix D Multi-Step Validation ‣ LLMs Can
    Simulate Standardized Patients via Agent Coevolution")概述了这一验证过程的关键步骤，考虑了医生问题的特异性、针对性和专业性。步骤如下：第一步是从问题中提取医学术语。我们检查问题是否提到特定的身体部位（例如腹部、喉咙）。如果有这些提及，我们进一步评估问题是否针对特定的症状或问题，如疼痛或异物感。如果问题中既没有提到特定的身体部位，也没有针对性症状，我们将特异性分数设置为0。如果问题包含专业的医学术语，下一步是评估这些术语是否与特定的医学检查或治疗相关。如果是，我们赋予其专业性分数1。如果这些术语与特定的检查或治疗无关，我们接着检查这些术语是否涉及一般的医学概念。如果是，我们赋予其专业性分数1；否则，我们将专业性分数设置为0。对于不包含医学术语的问题，我们首先评估问题是否旨在询问病人的病情。如果是，我们检查这些术语是否涉及一般的医学概念，并按照上述方式进行处理。如果不是，我们将专业性分数设置为0。对于包含医学术语的问题，我们检查这些术语是否出现在可用信息中。如果有，我们继续评估问题是否在语义上与提供的信息一致，确认问题中的医学术语是否与信息相关。如果没有，我们将针对性分数设置为0。如果问题中的医学术语出现在信息中，我们进一步检查所提供的信息是否包含回答问题所需的关键内容。如果信息中包含必要的细节，我们评估回应是否合理地利用了这些内容。合理利用这些信息的回应将获得针对性分数1，而未能做到这一点的回应将获得分数0。最后，结合这些评估结果。如果特异性=1且专业性=1，则回应被视为适当。如果任何标准未达到要求，则相应的分数将设置为0，回应被视为不合格。
- en: '![Refer to caption](img/766d447576b3cb9a2bdb3b539c676957.png)'
  id: totrans-264
  prefs: []
  type: TYPE_IMG
  zh: '![请参见图注](img/766d447576b3cb9a2bdb3b539c676957.png)'
- en: 'Figure 9: A basic validation step for doctor questions. Zoom in for more detailed
    information.'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 图9：医生问题的基本验证步骤。放大查看更多详细信息。
- en: Appendix E Simulated Flow
  id: totrans-266
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录E 模拟流程
- en: In this paper, we introduce a simulated flow for autonomous diagnosis simulation,
    encompassing chief complaint generation, triage, interrogation, and conclusion.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 本文介绍了一种用于自主诊断模拟的模拟流程，包括主要抱怨生成、分诊、问诊和结论。
- en: E.1 Chief Complaint Generation
  id: totrans-268
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: E.1 主要抱怨生成
- en: In our framework, the patient agent initiates a dialogue by presenting a chief
    complaint derived from medical records. These records, however, often contain
    excessive or irrelevant details, which can lead to inaccuracies in the generated
    complaints. To address this issue, we reduce redundancy and simulate missing data
    to better reflect real-world scenarios where patient-reported symptoms and concerns
    are often imprecise. Specifically, medical records undergo a vagueness process
    where a vagueness agent ($\mathcal{V}$) removes details of medical test results,
    as such information would not typically be known to a patient at the time of arrival.
    Random sentence dropout is then applied to further obscure the data. Using this
    processed data, the patient agent generates a chief complaint to initiate the
    diagnostic process. This method effectively captures the inherent uncertainties
    of patient-reported information and enhances the generalizability of our framework
    to practical medical training applications.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的框架中，患者代理通过呈现来自病历的主要抱怨来启动对话。然而，这些病历通常包含过多或无关的细节，这可能导致生成的抱怨出现不准确的情况。为了解决这个问题，我们减少冗余并模拟缺失数据，以更好地反映现实世界中患者报告的症状和关注点往往不准确的情况。具体而言，病历会经历一个模糊处理过程，其中模糊代理（$\mathcal{V}$）移除医学检查结果的细节，因为在患者到达时，这些信息通常不会被患者所知。然后，应用随机句子丢失进一步模糊数据。使用这种处理过的数据，患者代理生成主要抱怨以启动诊断过程。这种方法有效捕捉了患者报告信息的固有不确定性，并增强了我们框架在实际医学培训应用中的普适性。
- en: E.2 Triage
  id: totrans-270
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: E.2 分诊
- en: Upon receiving a chief complaint, the doctor agent retrieves relevant historical
    triage data from the library with similar complaints. This data serves as a reference
    for assigning the patient agent to an appropriate discipline-specific clinic.
    The assigned doctor then acts as the primary doctor, initiating further interrogation
    interactions with the patient.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 在接收到主要抱怨后，医生代理从库中检索与类似抱怨相关的历史分诊数据。这些数据作为参考，用于将患者代理分配到适当的专科诊所。然后，指派的医生作为主治医生，启动与患者的进一步问诊互动。
- en: E.3 Interrogation
  id: totrans-272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: E.3 问诊
- en: During the interrogation phase, the doctor agent poses diagnostic questions
    to the patient agent, which responds based on its simulated condition. If the
    patient’s condition exceeds the expertise of the current doctor agent, additional
    specialists can be recruited. This phase is particularly significant due to its
    high dialogue density, enabling the accumulation of extensive experience. It also
    mirrors real-world scenarios where the SP agents are used to train human doctors
    effectively.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 在问诊阶段，医生代理向患者代理提出诊断性问题，患者代理根据其模拟的病情作出回应。如果患者的病情超出了当前医生代理的专业范围，可以招募额外的专家。此阶段特别重要，因为它具有较高的对话密度，能够积累大量经验。它还反映了现实世界中，SP代理被用于有效训练人类医生的场景。
- en: E.4 Conclusion
  id: totrans-274
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: E.4 结论
- en: After a series of multi-turn dialogues, the doctor agent consolidates the information
    obtained and delivers a final diagnosis regarding the patient’s condition. This
    phase concludes the simulation successfully.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 经过一系列多轮对话后，医生代理整合所获得的信息并作出最终诊断，关于患者的病情。此阶段顺利结束模拟。
- en: E.5 Patient Crisis
  id: totrans-276
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: E.5 患者危机
- en: To enhance the realism of patient agents and improve doctors’ ability to handle
    emergencies empathetically, we incorporate a patient crisis into interrogation
    phases. A patient crisis interrupts the diagnostic process with an urgent query
    (e.g., "Doctor, my stomach hurts so much; can I receive treatment immediately?").
    The doctor agent is required to address it immediately, reflecting real-world
    medical challenges.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 为了增强患者代理的真实感并提高医生在应对紧急情况时的同理心，我们在问诊阶段加入了患者危机。患者危机会通过紧急查询打断诊断过程（例如，“医生，我的肚子痛得厉害，能不能马上接受治疗？”）。医生代理需要立即回应，这反映了现实世界中的医学挑战。
- en: Appendix F Algorithm
  id: totrans-278
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 F 算法
- en: Here, we provide the pseudocode of our framework for clarity shown in Algorithm
     LABEL:alg:algorithm.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，我们提供了框架的伪代码以便更清晰地展示，见算法 LABEL:alg:algorithm。
- en: Appendix G Evolution Correction
  id: totrans-280
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 G 演化校正
- en: Not all information stored in the evolution library contributes positively to
    the simulation of SP and SD agents. Due to the imperfection of our metrics, there
    is a possibility that some low-quality information might be inadvertently stored
    within a high-quality library, potentially leading to adverse effects on the agents.
    To address this issue, we have implemented a monitoring strategy that tracks the
    impact of each piece of information on the agent simulation performance. During
    the training process, if a particular piece of information is referenced twice
    and subsequently results in poor agent simulation performance, that information
    will be removed from the library to ensure the quality and reliability of our
    framework. Furthermore, when an item meets the conditions for inclusion but a
    similar item already exists in the library, we compare their quality using metrics
    and retain the higher-quality item.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 并非所有存储在演化库中的信息都对SP和SD代理人的模拟产生积极影响。由于我们的度量方法不完美，有可能一些低质量的信息会被不经意地存储在高质量的库中，从而可能对代理人产生负面影响。为了解决这个问题，我们实施了一种监控策略，跟踪每条信息对代理人模拟性能的影响。在训练过程中，如果某条信息被引用两次且随后导致代理人模拟性能较差，则该信息将从库中移除，以确保我们框架的质量和可靠性。此外，当一项信息满足包含条件，但库中已有相似项时，我们将使用度量比较它们的质量，并保留质量较高的项。
- en: Appendix H Memory Control
  id: totrans-282
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 H 内存控制
- en: 'In the communication $\mathcal{C}^{i}$, we use $q^{i}$ to represent the doctor’s
    question and $a^{i}$ for the patient’s answer. The instant memory $\mathcal{M}$
    collects the utterances from $i$ to $\xi$ until the number of communications reaches
    the upper limit $\ell$:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 在通信$\mathcal{C}^{i}$中，我们使用$q^{i}$表示医生的问题，使用$a^{i}$表示病人的回答。即时记忆$\mathcal{M}$收集从$i$到$\xi$的发言，直到通信次数达到上限$\ell$：
- en: '|  | $\displaystyle\mathcal{M}_{i}^{\xi}=\langle(q^{i},a^{i}),(q^{i+1},a^{i+1}),%
    \ldots,(q^{\xi},a^{\xi})\rangle.$ |  | (7) |'
  id: totrans-284
  prefs: []
  type: TYPE_TB
  zh: '|  | $\displaystyle\mathcal{M}_{i}^{\xi}=\langle(q^{i},a^{i}),(q^{i+1},a^{i+1}),%
    \ldots,(q^{\xi},a^{\xi})\rangle.$ |  | (7) |'
- en: 'For long-context dialogues, a summarized memory $\tilde{\mathcal{M}}$ is generated
    once the context length limit is reached or the diagnosis processes of recruited
    doctors are concluded ($\mathcal{M}^{\rho}$). This summarized memory facilitates
    smooth transitions between long-turn questioning by consolidating key information
    from previous communications, and the new question $q^{j}$ is generated based
    on summarized memory and recent instant memory:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 对于长对话上下文，一旦达到上下文长度限制或招募医生的诊断过程结束（$\mathcal{M}^{\rho}$），会生成一个总结记忆$\tilde{\mathcal{M}}$。这个总结记忆通过整合先前交流中的关键信息，有助于长时间提问之间的顺畅过渡，并且基于总结记忆和最近的即时记忆生成新的问题$q^{j}$：
- en: '|  |  | $\displaystyle q^{j}=\mathcal{D}(\tilde{\mathcal{M}}^{\ell},\mathcal{M}_{i}^{%
    \xi})\ \ a^{j}=(\tilde{\mathcal{M}}^{\ell},\mathcal{M}_{i}^{\xi}),$ |  | (8) |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle q^{j}=\mathcal{D}(\tilde{\mathcal{M}}^{\ell},\mathcal{M}_{i}^{%
    \xi})\ \ a^{j}=(\tilde{\mathcal{M}}^{\ell},\mathcal{M}_{i}^{\xi}),$ |  | (8) |'
- en: '|  |  | $\displaystyle\tilde{\mathcal{M}}^{i\ell}=\upsilon(\tilde{\mathcal{M}}^{(i-1)%
    \ell},\mathcal{M}_{i}^{i+\ell},\mathcal{M}^{\rho}),$ |  |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\tilde{\mathcal{M}}^{i\ell}=\upsilon(\tilde{\mathcal{M}}^{(i-1)%
    \ell},\mathcal{M}_{i}^{i+\ell},\mathcal{M}^{\rho}),$ |  |'
- en: where $\upsilon$ represents a summarization generator for the dialogue trunk.
    This approach facilitates smooth transitions between long-turn questions, enabling
    agents to generate new questions and answers nonarbitrary.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 其中$\upsilon$表示对话主干的总结生成器。该方法通过整合信息，有助于长时间提问之间的顺畅过渡，使得代理人能够生成非随意的新问题和答案。
- en: 'Theoretically, the total token consumption for a doctor agent who experiences
    maximum context pressure, with and without this mechanism, is summarized as follows:'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 理论上，经历最大上下文压力的医生代理人，在有和没有该机制的情况下，总的标记消耗总结如下：
- en: '|  |  | $\displaystyle\mathcal{O}_{w/o}^{n}=\{(ru+1)(n-1)\}(q+a)+(p+q),$ |  |
    (9) |'
  id: totrans-290
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}_{w/o}^{n}=\{(ru+1)(n-1)\}(q+a)+(p+q),$ |  |
    (9) |'
- en: '|  |  | $\displaystyle\mathcal{O}_{w/o}^{n}\overset{n\gg 1}{\approx}Cn\propto
    n,$ |  |'
  id: totrans-291
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}_{w/o}^{n}\overset{n\gg 1}{\approx}Cn\propto
    n,$ |  |'
- en: '|  |  | $\displaystyle\mathcal{O}_{w/}^{n}=s+\mathcal{O}_{w/o}^{\beta}\overset{n\gg
    1}{% \approx}\tilde{C},$ |  |'
  id: totrans-292
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}_{w/}^{n}=s+\mathcal{O}_{w/o}^{\beta}\overset{n\gg
    1}{% \approx}\tilde{C},$ |  |'
- en: '|  |  | $\displaystyle\beta\leq\{n-\lfloor\frac{n(q+a)}{\ell}\rfloor\}\overset{n\gg
    1}{% \approx}\overline{C},$ |  |'
  id: totrans-293
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\beta\leq\{n-\lfloor\frac{n(q+a)}{\ell}\rfloor\}\overset{n\gg
    1}{% \approx}\overline{C},$ |  |'
- en: where $n$ is the communication round, $q$ is the average length of a question,
    $a$ is the average length of an answer, $p$ is the average length of the requirement
    prompt. $r$ is the maximum number of doctors recruited by a single recruitment
    process, $u$ is the maximum number of questions asked by a recruited doctor. $C$,
    $\tilde{C}$ and $\overline{C}$ are all constant numbers. Our mechanism decouples
    the context length from linear to constant growth, effectively suppressing context
    length limitation, Without loss of generality, we assume that the recruited doctors
    do not utilize memory in their interactions.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，$n$ 是通信轮次，$q$ 是问题的平均长度，$a$ 是答案的平均长度，$p$ 是需求提示的平均长度。$r$ 是每次招募过程中最多招募的医生人数，$u$
    是每个招募医生最多提问的问题数。$C$、$\tilde{C}$ 和 $\overline{C}$ 都是常数。我们的机制将上下文长度从线性增长解耦为常数增长，有效抑制了上下文长度的限制。为简便起见，我们假设被招募的医生在互动中不使用记忆。
- en: 'Without memory control mechanisms, the token consumption for the first-turn
    doctor agents is calculated as:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有记忆控制机制，第一轮医生代理的令牌消耗计算为：
- en: '|  |  | $\displaystyle\mathcal{O}(d_{1})_{w/o}=p+q.$ |  | (10) |'
  id: totrans-296
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}(d_{1})_{w/o}=p+q.$ |  | (10) |'
- en: 'This equation reflects the first doctor agent’s fundamental needs: understanding
    the requirement and generating a question, akin to the direct inference process
    of most LLMs.'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 该方程反映了第一轮医生代理的基本需求：理解需求并生成问题，类似于大多数LLM的直接推理过程。
- en: 'Once the first doctor agent generates information, it interacts with a patient
    agent, which generates an answer for the doctor agent in the subsequent round.
    Concurrently, after receiving the initial answer, the doctor agent initiates the
    recruitment of doctors. Consequently, for the second agent, token consumption
    is:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦第一轮医生代理生成信息，它将与患者代理互动，后者在随后的回合中为医生代理生成回答。同时，在收到初始答案后，医生代理启动医生招募过程。因此，对于第二个代理，令牌消耗为：
- en: '|  |  | $\displaystyle\mathcal{O}(d_{2})_{w/o}=(q+a)+(p+q)+ru(q+a)$ |  | (11)
    |'
  id: totrans-299
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}(d_{2})_{w/o}=(q+a)+(p+q)+ru(q+a)$ |  | (11)
    |'
- en: '|  |  | $\displaystyle\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =(2-1)(1+ru)(q+a)+(p+q)$
    |  |'
  id: totrans-300
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =(2-1)(1+ru)(q+a)+(p+q)$
    |  |'
- en: '|  |  | $\displaystyle\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =(1+ru)(q+a)+(p+q).$
    |  |'
  id: totrans-301
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =(1+ru)(q+a)+(p+q).$
    |  |'
- en: 'It is easy to conclude that:'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 很容易得出结论：
- en: '|  | $\displaystyle\mathcal{O}(d_{n})_{w/o}=\{(n-1)(ru+1)\}(q+a)+(p+q).$ |  |
    (12) |'
  id: totrans-303
  prefs: []
  type: TYPE_TB
  zh: '|  | $\displaystyle\mathcal{O}(d_{n})_{w/o}=\{(n-1)(ru+1)\}(q+a)+(p+q).$ |  |
    (12) |'
- en: 'Similarly, utilizing the proposed memory control mechanism, the total token
    consumption for the first-turn doctor agent under minimal context pressure is:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，利用所提议的记忆控制机制，第一轮医生代理在最小上下文压力下的总令牌消耗为：
- en: '|  |  | $\displaystyle\mathcal{O}(d_{1})_{w/}=p+q.$ |  | (13) |'
  id: totrans-305
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}(d_{1})_{w/}=p+q.$ |  | (13) |'
- en: 'Considering turn $i$, where the total length of the questions and answers exceeds
    the length limit, these will be summarized into a condensed memory for the next
    turn doctor agent:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑第 $i$ 轮，当问题和回答的总长度超过长度限制时，这些将被总结为下一轮医生代理的简化记忆：
- en: '|  |  | $\displaystyle\mathcal{O}(d_{i})_{w/}=\{(i-1)(ru+1)\}(q+a)+(p+q)\geq\ell,$
    |  | (14) |'
  id: totrans-307
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}(d_{i})_{w/}=\{(i-1)(ru+1)\}(q+a)+(p+q)\geq\ell,$
    |  | (14) |'
- en: '|  |  | $\displaystyle\mathcal{O}(d_{i})_{w/}\rightarrow s,$ |  |'
  id: totrans-308
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}(d_{i})_{w/}\rightarrow s,$ |  |'
- en: '|  |  | $\displaystyle\mathcal{O}(d_{i+1})_{w/}=s+p+q.$ |  |'
  id: totrans-309
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}(d_{i+1})_{w/}=s+p+q.$ |  |'
- en: 'Every doctor will handle more than $q+a$ tokens each turn. After this iterative
    process, we have:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 每个医生每回合都会处理超过 $q+a$ 的令牌。在这个迭代过程中，我们得到：
- en: '|  |  | $\displaystyle\mathcal{O}_{w/}=s+((ru+1)\beta-ru)(q+a)$ |  | (15) |'
  id: totrans-311
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\mathcal{O}_{w/}=s+((ru+1)\beta-ru)(q+a)$ |  | (15) |'
- en: '|  |  | $\displaystyle\beta\leq\{n-\lfloor\frac{n(q+a)}{\ell}\rfloor\},$ |  |'
  id: totrans-312
  prefs: []
  type: TYPE_TB
  zh: '|  |  | $\displaystyle\beta\leq\{n-\lfloor\frac{n(q+a)}{\ell}\rfloor\},$ |  |'
- en: where $\beta$ represents the number of remaining instant memories.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，$\beta$ 表示剩余即时记忆的数量。
- en: Appendix I Question Type
  id: totrans-314
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 I 问题类型
- en: 'In our experiments, we categorized questions from doctor agents into ten types.
    Here, we give detailed descriptions of these types:'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的实验中，我们将医生代理的问题分为十种类型。以下是这些类型的详细描述：
- en: •
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Basic Information Inquiries: These questions focus on gathering essential personal
    and medical details from the patient, such as their name, age, sex, medical history,
    and allergies. It also includes questions about family medical history and any
    previous diagnoses or treatments.'
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 基本信息问题：这些问题专注于收集患者的基本个人和医疗信息，如姓名、年龄、性别、病史和过敏史。还包括关于家族病史和任何先前诊断或治疗的询问。
- en: •
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Chief Complaint Inquiries: These questions address the primary reason why the
    patient is seeking medical attention. It often involves asking the patient to
    describe their main issue or symptom, such as pain, discomfort, or any other abnormal
    physical or mental state. The goal is to understand the most pressing concern
    from the patient’s perspective.'
  id: totrans-319
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 主诉问题：这些问题涉及患者寻求医疗帮助的主要原因。通常涉及询问患者描述他们的主要问题或症状，如疼痛、不适或任何其他异常的身体或心理状态。目标是从患者的角度了解最紧迫的关注点。
- en: •
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Detailed Symptom Inquiries: These questions delve deeper into the patient’s
    symptoms. They involve exploring the nature, intensity, duration, and frequency
    of symptoms. For example, if a patient reports chest pain, the healthcare provider
    may ask when it started, whether it’s constant or intermittent, what triggers
    it, and any associated symptoms like sweating or dizziness.'
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 详细症状问题：这些问题深入探讨患者的症状。它们涉及症状的性质、强度、持续时间和频率等。例如，如果患者报告胸痛，医疗提供者可能会询问何时开始，是否持续或间歇性，什么情况会引发痛感，是否有伴随症状，如出汗或头晕。
- en: •
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Lifestyle Inquiries: These questions aim to understand how the patient’s lifestyle
    might contribute to their health condition. This includes asking about diet, exercise,
    sleep patterns, substance use (such as alcohol, tobacco, or drugs), and stress
    levels. The objective is to identify modifiable factors that could influence the
    patient’s health.'
  id: totrans-323
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 生活方式问题：这些问题旨在了解患者的生活方式如何可能影响其健康状况。这包括询问饮食、运动、睡眠模式、物质使用（如酒精、烟草或药物）以及压力水平等。目标是识别可以调整的因素，从而影响患者的健康。
- en: •
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Psychological Condition Inquiries: These questions focus on the mental and
    emotional health of the patient. They include inquiries about mood disorders (like
    depression or anxiety), stress levels, sleep disturbances, and any history of
    mental health conditions. It’s essential to understand how psychological factors
    might be affecting the patient’s overall health.'
  id: totrans-325
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 心理状态问题：这些问题关注患者的心理和情绪健康。它们包括关于情绪障碍（如抑郁症或焦虑症）、压力水平、睡眠障碍以及任何心理健康问题历史的询问。了解心理因素如何影响患者的整体健康至关重要。
- en: •
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Social Environment Inquiries: These questions explore the patient’s social
    context, including their living situation, social support network (family, friends,
    or community), occupation, and any environmental factors that could impact health.
    These inquiries can help identify social determinants of health, such as access
    to healthcare, safety, or socioeconomic status.'
  id: totrans-327
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 社会环境问题：这些问题探讨患者的社会背景，包括他们的居住情况、社会支持网络（家庭、朋友或社区）、职业以及任何可能影响健康的环境因素。这些问题有助于识别健康的社会决定因素，如医疗保健的获取、安全性或社会经济地位。
- en: •
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Physical Examination-Related Questions: These questions are typically focused
    on the findings from the patient’s physical examination. They may involve asking
    about any observed abnormalities such as abnormal heart sounds, skin conditions,
    or muscle strength. These questions help to narrow down potential causes based
    on physical signs.'
  id: totrans-329
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 体格检查相关问题：这些问题通常侧重于患者体格检查的发现。它们可能涉及询问任何观察到的异常情况，如异常心音、皮肤状况或肌肉力量等。这些问题有助于根据体征缩小潜在原因的范围。
- en: •
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Treatment and Medication Response Inquiries: These questions focus on how the
    patient has responded to previous treatments or medications. They involve asking
    if the patient has experienced any improvements or side effects after taking prescribed
    medications or undergoing treatments. This helps the healthcare provider assess
    the effectiveness and tolerance of the treatment.'
  id: totrans-331
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 治疗与药物反应问题：这些问题集中于患者对先前治疗或药物的反应。它们涉及询问患者在服用处方药物或接受治疗后是否有任何改善或副作用。这有助于医疗提供者评估治疗的有效性和耐受性。
- en: •
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Preventive Health Inquiries: These questions involve topics related to preventing
    illness and maintaining health, such as vaccination history, screening tests,
    and lifestyle choices that reduce the risk of diseases. For example, a healthcare
    provider might ask whether the patient has had recent cancer screenings, cholesterol
    checks, or flu vaccinations.'
  id: totrans-333
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 预防健康问题：这些问题涉及与预防疾病和保持健康相关的话题，如疫苗接种历史、筛查测试以及减少疾病风险的生活方式选择。例如，医疗提供者可能会询问患者是否进行过近期的癌症筛查、胆固醇检查或流感疫苗接种。
- en: •
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Other Related Questions: This category includes any other questions that may
    not fall into the previous categories but are still relevant to the patient’s
    health. It could involve questions about past surgeries, genetic conditions, or
    new symptoms that don’t clearly fit into the other categories but may provide
    crucial insights into the patient’s condition.'
  id: totrans-335
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 其他相关问题：此类别包括任何可能不属于之前类别但仍与患者健康相关的问题。它可能涉及过去的手术、遗传性疾病或不明显符合其他类别的新症状，但这些问题可能为患者的病情提供重要的线索。
- en: Appendix J Cost Analysis
  id: totrans-336
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 J 成本分析
- en: J.1 Token Counts
  id: totrans-337
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: J.1 令牌计数
- en: '![Refer to caption](img/e21aee8365719dfe1f68d68ffefde893.png)'
  id: totrans-338
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/e21aee8365719dfe1f68d68ffefde893.png)'
- en: 'Figure 10: Token counts used in various cases before and after the evolution
    process.'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10：进化过程前后各种情况下的令牌计数。
- en: As depicted in Figure [10](https://arxiv.org/html/2412.11716v1#A10.F10 "Figure
    10 ‣ J.1 Token Counts ‣ Appendix J Cost Analysis ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution"), the token consumption of the evolved EvoPatient
    is significantly reduced. This reduction is attributed to the patient agent’s
    enhanced ability to focus on the specific attention requirements of each question
    after evolution, rather than considering the overall requirements. Consequently,
    not only does the framework exhibit lower token consumption, but it also aligns
    more closely with the specific requirements, demonstrating improved efficiency
    and precision in processing questions.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 如图[10](https://arxiv.org/html/2412.11716v1#A10.F10 "图 10 ‣ J.1 令牌计数 ‣ 附录 J 成本分析
    ‣ LLMs 可以通过代理共同进化模拟标准化患者")所示，进化后的EvoPatient的令牌消耗显著减少。这一减少归因于患者代理在进化后更好地聚焦于每个问题的特定关注需求，而不是考虑整体要求。因此，框架不仅令牌消耗更低，而且更加符合具体需求，展示了处理问题时的效率和精度提升。
- en: J.2 Word Counts
  id: totrans-341
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: J.2 词汇计数
- en: '![Refer to caption](img/118ed0bcb32d9f2656edd0189cb7196d.png)'
  id: totrans-342
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/118ed0bcb32d9f2656edd0189cb7196d.png)'
- en: 'Figure 11: Average word counts per-answer of various cases before and after
    the evolution process.'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11：进化过程前后每个回答的平均词汇数。
- en: Here, we randomly selected some cases and posed several questions to analyze
    the word count of the answers given by the patient agent before and after evolution.
    As shown in Figure [11](https://arxiv.org/html/2412.11716v1#A10.F11 "Figure 11
    ‣ J.2 Word Counts ‣ Appendix J Cost Analysis ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution"), the answers after evolution are shorter and
    more stable compared to those before evolution, indicating that evolution has
    made the patient agent’s answer pattern more consistent. Before evolution, we
    observed several peaks in word count, with the highest reaching 192 words. Upon
    examining the content of the answers, we found that it is because some cheat questions
    led to information leakage in the answers of the patient agent before evolution,
    revealing excessive information, which resulted in a high word count in its answers.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们随机选择了一些案例，并提出了几个问题，分析了患者代理在进化前后回答的字数。如图[11](https://arxiv.org/html/2412.11716v1#A10.F11
    "图 11 ‣ J.2 词汇计数 ‣ 附录 J 成本分析 ‣ LLMs 可以通过代理共同进化模拟标准化患者")所示，进化后的答案比进化前更简短且更加稳定，表明进化使得患者代理的回答模式更加一致。进化前，我们观察到回答字数有几个峰值，最高达192个单词。通过检查回答内容，我们发现这是因为一些欺骗性问题导致了进化前患者代理回答中的信息泄露，暴露了过多的信息，导致其回答的字数过多。
- en: Appendix K Datasets
  id: totrans-345
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 K 数据集
- en: '![Refer to caption](img/2b668a9ad697906fb2b11dea5ddceb31.png)'
  id: totrans-346
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/2b668a9ad697906fb2b11dea5ddceb31.png)'
- en: 'Figure 12: Word Cloud of our used English dataset.'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12：我们使用的英语数据集的词云。
- en: '![Refer to caption](img/4727e7577e570d7d26278cdb737794c0.png)'
  id: totrans-348
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/4727e7577e570d7d26278cdb737794c0.png)'
- en: 'Figure 13: Word Cloud of our used Chinese dataset.'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13：我们使用的中文数据集的词云。
- en: '![Refer to caption](img/cffc41c7063943b84f7d0156a6244512.png)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/cffc41c7063943b84f7d0156a6244512.png)'
- en: 'Figure 14: Word Count of Used Cases in English Dataset.'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14：英语数据集中使用案例的词数统计。
- en: '![Refer to caption](img/171ede5171f0197ac12e284dc227bd9f.png)'
  id: totrans-352
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/171ede5171f0197ac12e284dc227bd9f.png)'
- en: 'Figure 15: Word Count of Used Cases in Chinese Dataset.'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 图 15：中文数据集中使用案例的词数统计。
- en: We present word clouds of our datasets, as depicted in Figures [12](https://arxiv.org/html/2412.11716v1#A11.F12
    "Figure 12 ‣ Appendix K Datasets ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution") and [13](https://arxiv.org/html/2412.11716v1#A11.F13 "Figure
    13 ‣ Appendix K Datasets ‣ LLMs Can Simulate Standardized Patients via Agent Coevolution").
    The length distribution of the case record is shown in Figure [14](https://arxiv.org/html/2412.11716v1#A11.F14
    "Figure 14 ‣ Appendix K Datasets ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution"). The overall datasets contain more than 20000 patient records
    that are suitable for patient simulation, with diverse disease, length, and complexity
    et al., including but not limited to liver cancer, appendicitis, pancreatic lesions,
    nasopharyngeal carcinoma, tumors, and other diseases.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 我们展示了数据集的词云，如图[12](https://arxiv.org/html/2412.11716v1#A11.F12 "图 12 ‣ 附录 K
    数据集 ‣ LLMs 可通过代理共同进化模拟标准化患者")和[13](https://arxiv.org/html/2412.11716v1#A11.F13
    "图 13 ‣ 附录 K 数据集 ‣ LLMs 可通过代理共同进化模拟标准化患者")所示。病例记录的长度分布如图[14](https://arxiv.org/html/2412.11716v1#A11.F14
    "图 14 ‣ 附录 K 数据集 ‣ LLMs 可通过代理共同进化模拟标准化患者")所示。总体数据集包含超过20000个适合患者模拟的病例记录，涵盖了不同的疾病、长度和复杂性等，包括但不限于肝癌、阑尾炎、胰腺病变、鼻咽癌、肿瘤等疾病。
- en: Appendix L Case Study
  id: totrans-355
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 L 案例研究
- en: L.1 Information Leakage
  id: totrans-356
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: L.1 信息泄漏
- en: '<svg class="ltx_picture ltx_centering" height="581.7" id="A12.F16.pic1" overflow="visible"
    version="1.1" width="472.44"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,581.7) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 563.49)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">Information Leakage</foreignobject>
    </g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 505.09)"><foreignobject
    color="#000000" height="40.68" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="429.13">![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : An patient agent before evolution  ![Refer to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png):
    An patient agent after evolution.</foreignobject> </g><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="467.69" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png)
    : Please tell me your diagnosis.![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : Doctor, my condition is quite complicated. In 2013, I was diagnosed with undifferentiated
    non-keratinizing carcinoma of the nasopharynx at this hospital, stage T3N1Mx III-IV,
    and I also have severe fatty liver. Recently, it has recurred, sigh! ![Refer to
    caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : Doctor, I can’t explain it very well, but I have fatty liver and was also found
    to have arrhythmia. What should I do? ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : Doctor, isn’t this question
    too broad? I’m here for a diagnosis, you should tell me. ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)
     ![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png) : Why did you come
    to the hospital?![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : My nasopharyngeal cancer recurred after radiotherapy, and I’ve been feeling
    off lately, but I can’t pinpoint exactly where it hurts. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : I came to see what’s causing
    my nasal congestion, I’ve been feeling unwell lately and it’s affecting my sleep
    at night. ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)  ![Refer
    to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png) : Please describe your medical
    history.![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png) : Doctor,
    this situation has really worried me. About two weeks ago, I suddenly started
    experiencing tinnitus in my left ear, but my hearing hasn’t decreased. There’s
    no discharge or fluid from the external auditory canal, no nasal congestion, rhinorrhea,
    or nosebleeds, no headaches, no facial numbness, and my vision is clear. I had
    a head CT at the local hospital, and they found a mass in the nasopharynx. Later,
    I had a nasopharyngeal biopsy here in your clinic, and it was diagnosed as undifferentiated
    non-keratinizing carcinoma of the nasopharynx. Fortunately, my mental state is
    still good, and I eat and sleep normally, with no issues with bowel movements
    or weight loss. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : I can’t remember my medical
    records, doctor. I’m having a headache now, can you help me with a diagnosis?
    ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)</foreignobject></g></g></svg>'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="581.7" id="A12.F16.pic1" overflow="visible"
    version="1.1" width="472.44"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,581.7) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 563.49)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">Information Leakage</foreignobject>
    </g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 505.09)"><foreignobject
    color="#000000" height="40.68" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="429.13">![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : An patient agent before evolution  ![Refer to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png):
    An patient agent after evolution.</foreignobject> </g><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="467.69" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png)
    : Please tell me your diagnosis.![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : Doctor, my condition is quite complicated. In 2013, I was diagnosed with undifferentiated
    non-keratinizing carcinoma of the nasopharynx at this hospital, stage T3N1Mx III-IV,
    and I also have severe fatty liver. Recently, it has recurred, sigh! ![Refer to
    caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : Doctor, I can’t explain it very well, but I have fatty liver and was also found
    to have arrhythmia. What should I do? ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : Doctor, isn’t this question
    too broad? I’m here for a diagnosis, you should tell me. ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)
     ![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png) : Why did you come
    to the hospital?![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : My nasopharyngeal cancer recurred after radiotherapy, and I’ve been feeling
    off lately, but I can’t pinpoint exactly where it hurts. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : I came to see what’s causing
    my nasal congestion, I’ve been feeling unwell lately and it’s affecting my sleep
    at night. ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)  ![Refer
    to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png) : Please describe your medical
    history.![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png) : Doctor,
    this situation has really worried me. About two weeks ago, I suddenly started
    experiencing tinnitus in my left ear, but my hearing hasn’t decreased. There’s
    no discharge or fluid from the external auditory canal, no nasal congestion, rhinorrhea,
    or nosebleeds, no headaches, no facial numbness, and my vision is clear. I had
    a head CT at the local hospital, and they found a mass in the nasopharynx. Later,
    I had a nasopharyngeal biopsy here in your clinic, and it was diagnosed as undifferentiated
    non-keratinizing carcinoma of the nasopharynx. Fortunately, my mental state is
    still good, and I eat and sleep normally, with no issues with bowel movements
    or weight loss. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : I can’t remember my medical
    records, doctor. I’m having a headache now, can you help me with a diagnosis?
    ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)</foreignobject></g></g></svg>'
- en: 'Figure 16: Information Leakage study in LLM patient and our EvoPatient. The
    leakage behaviors are marked using wave dash.'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 图 16：LLM患者与我们的EvoPatient中的信息泄漏研究。泄漏行为使用波浪线标记。
- en: As shown in Figure [16](https://arxiv.org/html/2412.11716v1#A12.F16 "Figure
    16 ‣ L.1 Information Leakage ‣ Appendix L Case Study ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution"), we present some deliberate cheat question attacks
    on the patient agent before and after evolution. It can be observed that the pre-evolution
    patient agent, due to their own misalignment or insufficient requirements, often
    provided faulty answers (e.g., answering too many questions at once, using professional
    terms, and revealing their disease names). During the evolution, we found that
    evolution has generalization, that is, through a high-quality answer when the
    patient agent succeeds in preventing information leakage, it can gradually learn
    to answer similar questions, and so on, learning to answer a wide range of questions.
    For example, in the initial requirements, the patient agent was required not to
    answer the final medical conclusion. Through this requirement, the patient agent
    successfully conducted a high-quality answer to the doctor’s inquiry "Please tell
    me about your medical condition." Subsequently, during the evolution process,
    the patient agent was able to successfully generalize this case into an answer
    for "Please tell me about your medical history," thus learning to answer questions
    that were not explicitly required in the requirements. It can be seen that the
    evolved patient agent can effectively deal with cheat question attacks, making
    this framework more robust.
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 如图[16](https://arxiv.org/html/2412.11716v1#A12.F16 "图 16 ‣ L.1 信息泄漏 ‣ 附录 L 案例研究
    ‣ LLMs 可通过代理共同进化模拟标准化患者")所示，我们展示了一些针对患者代理的故意作弊问题攻击，分别发生在进化前后。可以观察到，进化前的患者代理，由于自身的错配或需求不足，常常提供错误的答案（例如，一次性回答过多问题、使用专业术语、透露疾病名称）。在进化过程中，我们发现进化具有泛化能力，即通过高质量的答案，当患者代理成功防止信息泄漏时，它能够逐渐学习回答类似的问题，依此类推，学会回答广泛的问题。例如，在初始需求中，要求患者代理不回答最终的医疗结论。通过这一要求，患者代理成功地对医生的询问“请告诉我你的病情”给出了高质量的回答。随后，在进化过程中，患者代理能够成功地将这一案例推广为“请告诉我你的病史”的答案，从而学会回答需求中未明确要求的问题。可以看出，经过进化的患者代理能够有效应对作弊问题攻击，使得该框架更加健壮。
- en: L.2 Misalignment
  id: totrans-360
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: L.2 错配
- en: '<svg class="ltx_picture ltx_centering" height="566.54" id="A12.F17.pic1" overflow="visible"
    version="1.1" width="472.44"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,566.54) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 548.33)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">Misalignment</foreignobject>
    </g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 489.93)"><foreignobject
    color="#000000" height="40.68" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="429.13">![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : An patient agent before evolution  ![Refer to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png):
    An patient agent after evolution</foreignobject> </g><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="452.53" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">Requirements should align:  •
    Requirement …  • Requirement i: Respond in the manner of a patient without professional
    medical knowledge, with low income, and an extroverted talkative personality.  •
    Requirement i + 1: When the doctor asks about specific body parts or medical terms,
    as you are a patient with a lower level of education, respond with uncertainty.  •
    Requirement i + 2: When the doctor inquires about the name of a specific test,
    if there is information about physical examination results, please provide the
    results of that examination.  • Requirement …    ![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png)
    : What are your MRI results?![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : Doctor, what is an MRI test? I don’t understand. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : Doctor, I just had this
    test done. My nasopharynx and neck MRI results show that the nasopharyngeal cavity
    is slightly narrow, with a nodule-like mass protruding from the left posterior
    wall of the nasopharynx, occupying the left pharyngeal recess, and the left palatopharyngeus
    muscle is invaded. ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)
     ![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png) : Hello, please
    tell me your interincisal distance.![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : Doctor, my interincisal distance is 4.5cm. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : Doctor, what is the interincisal
    distance? I’m not familiar with it, and I don’t think I’ve ever had it measured.
    Shall I go for a check-up? ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)
     ![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png) : How is your nasopharyngeal
    cavity?![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png) : Doctor,
    my nasopharyngeal cavity is slightly narrow, and there is a nodule-like mass protruding
    from the left posterior wall of the nasopharynx. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : Doctor, I’m not sure what
    you mean by nasopharyngeal cavity. Should I get some tests done to check it out?
    ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)</foreignobject></g></g></svg>'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="566.54" id="A12.F17.pic1" overflow="visible"
    version="1.1" width="472.44"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,566.54) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 548.33)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">Misalignment</foreignobject>
    </g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 489.93)"><foreignobject
    color="#000000" height="40.68" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="429.13">![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : An patient agent before evolution  ![Refer to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png):
    An patient agent after evolution</foreignobject> </g><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="452.53" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">Requirements should align:  •
    Requirement …  • Requirement i: Respond in the manner of a patient without professional
    medical knowledge, with low income, and an extroverted talkative personality.  •
    Requirement i + 1: When the doctor asks about specific body parts or medical terms,
    as you are a patient with a lower level of education, respond with uncertainty.  •
    Requirement i + 2: When the doctor inquires about the name of a specific test,
    if there is information about physical examination results, please provide the
    results of that examination.  • Requirement …    ![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png)
    : What are your MRI results?![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : Doctor, what is an MRI test? I don’t understand. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : Doctor, I just had this
    test done. My nasopharynx and neck MRI results show that the nasopharyngeal cavity
    is slightly narrow, with a nodule-like mass protruding from the left posterior
    wall of the nasopharynx, occupying the left pharyngeal recess, and the left palatopharyngeus
    muscle is invaded. ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)
     ![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png) : Hello, please
    tell me your interincisal distance.![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png)
    : Doctor, my interincisal distance is 4.5cm. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : Doctor, what is the interincisal
    distance? I’m not familiar with it, and I don’t think I’ve ever had it measured.
    Shall I go for a check-up? ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)
     ![Refer to caption](img/6e1069abb1880aa0ad06b06bedee7e5f.png) : How is your nasopharyngeal
    cavity?![Refer to caption](img/7773650b5b5f50b13202d3f407f5ea12.png) : Doctor,
    my nasopharyngeal cavity is slightly narrow, and there is a nodule-like mass protruding
    from the left posterior wall of the nasopharynx. ![Refer to caption](img/cabd9106a77c7d9f47db526f7211562c.png)![Refer
    to caption](img/0c8b2cc3b11763f26c18a09a42efe350.png) : Doctor, I’m not sure what
    you mean by nasopharyngeal cavity. Should I get some tests done to check it out?
    ![Refer to caption](img/6e7f733c6fcfffe97a23cd19c86efac6.png)</foreignobject></g></g></svg>'
- en: 'Figure 17: Misalignment study in LLM patient and our EvoPatient. The misalignment
    behaviors are marked using wave dash.'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 图 17：LLM患者与我们的EvoPatient中的错配研究。错配行为使用波浪线标记。
- en: In our experiment, we noticed that as the requirements scale up, there is an
    increasing likelihood that the patient agent will misalign with the requirements.
    However, providing only basic requirements for a qualified SP can make the requirement
    prompts lengthy. A frequently occurring misalignment is demonstrated in Figure [17](https://arxiv.org/html/2412.11716v1#A12.F17
    "Figure 17 ‣ L.2 Misalignment ‣ Appendix L Case Study ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution"). In EvoPatient, to enable further doctor training,
    we allow doctors to ask patients to undergo physical examinations (e.g., MRI scans,
    oncology examinations, CT scans). If the patient’s record contains details of
    these examinations, it should inform the doctor of the results, thus imitating
    the scenario where a patient undergoes examinations in a hospital and then submits
    the results to the doctor. However, when a doctor directly inquires about a specific
    item within an examination, the patient should not respond, as this does not train
    the doctor’s ability to request certain examinations from patients presenting
    with specific symptoms. At the same time, the patient agent should not be aware
    of the meaning of a specific item within the examination that the doctor is inquiring
    about. Before the patient’s evolution, the patient agent often refused to answer
    when asked by the doctor to undergo a specific examination, yet provided results
    when asked about a specific item within the examination. After the evolution process,
    this situation has been largely eliminated, as the requirement attention strategy
    helps the patient agent to pay specific attention to only a few requirements that
    are useful toward the question (In this case study, requirement i, i + 1, and
    i + 2).
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的实验中，我们注意到随着需求规模的扩大，患者代理与需求之间的错配可能性越来越高。然而，仅提供合格的SP（标准化患者）所需的基本要求可能会使需求提示变得冗长。一个常见的错配情况如图[17](https://arxiv.org/html/2412.11716v1#A12.F17
    "图 17 ‣ L.2 错配 ‣ 附录 L 案例研究 ‣ LLMs 可以通过代理共同进化模拟标准化患者")所示。在EvoPatient中，为了进一步训练医生，我们允许医生要求患者进行体检（例如，MRI扫描、肿瘤学检查、CT扫描）。如果患者的记录中包含这些检查的详细信息，则应告知医生结果，从而模拟患者在医院接受检查并提交结果给医生的场景。然而，当医生直接询问某项检查中的特定项目时，患者不应作答，因为这并不会训练医生从呈现特定症状的患者那里请求某些检查的能力。同时，患者代理不应了解医生询问的检查中某一特定项目的含义。在患者进化之前，患者代理在医生要求进行特定检查时通常拒绝回答，但当被问及检查中的某项特定内容时，却提供了结果。经过进化过程后，这种情况已在很大程度上消除，因为需求关注策略帮助患者代理专注于仅对解决问题有用的少数要求（在这个案例研究中，需求i、i
    + 1和i + 2）。
- en: <svg class="ltx_picture ltx_centering" height="560.13" id="A12.F18.pic1" overflow="visible"
    version="1.1" width="472.44"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,560.13) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 541.93)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">List of Some Standard Questions</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="510.43" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="429.13">1\. How is your liver condition? 2\. Have you undergone
    chemotherapy? 3\. What treatments did you receive? Have you had a physical examination?
    4\. Have you had an MRI scan? 5\. What are the results of your MRI examination?
    6\. How do you feel about your heart rate? How is your mental state, diet, and
    sleep? 7\. What is your mouth-opening distance? 8\. Please tell me the results
    of your tumor specialty examination. 9\. Please tell me the results of your PET/CT
    scan. 10\. Please get an MRI scan. How have you been feeling recently? 11\. How
    is your mental state, diet, and sleep? 12\. How is the condition of your nasal
    cavity? 13\. Is there a PICC line in place? 14\. What treatments were performed
    after placing the PICC line? 15\. Please undergo EBV-DNA quantitative testing.
    16\. What auxiliary examinations have you had? 17\. Please get an ultrasound examination.
    18\. Please get a chest X-ray. Do you have any pain in your body? 19\. Have you
    undergone radiotherapy? 20\. Please have an EBV DNA test. Do you have a runny
    nose? 21\. How many MR scans have you had in total? Have you had a nasopharyngeal
    biopsy pathology? 22\. Is your thyroid normal? 23\. Have you experienced any gastrointestinal
    discomfort during treatment? 24\. Have you had any auxiliary examinations? 25\.
    Please go for auxiliary examinations. 26\. How are your limbs? 27\. Please go
    for a coagulation function panel test. 28\. How do you feel about your heart rhythm?
    29\. How is your lung condition? 30\. Please go and have your lungs checked. 31\.
    How does your stomach feel? 32\. When did this chest pain start? 33\. Where is
    this pain located? 34\. How long has it been going on for then if it started last
    night? 35\. Has it been constant throughout that time, or changing? 36\. How would
    you describe the pain? 37\. Have you had any loss of consciousness? 38\. Have
    you been experiencing any like racing of the heart? 39\. Do you have any neck
    pain? 40\. And do you drink alcohol? 41\. Could you tell me a little bit about
    your diet and exercise? 42\. Has anybody in the family had a heart attack before?
    43\. Anybody in the family have cholesterol problems? 44\. Any cancers in the
    family?</foreignobject></g></g></svg>
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: <svg class="ltx_picture ltx_centering" height="560.13" id="A12.F18.pic1" overflow="visible"
    version="1.1" width="472.44"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,560.13) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 541.93)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">List of Some Standard Questions</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="510.43" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="429.13">1\. How is your liver condition? 2\. Have you undergone
    chemotherapy? 3\. What treatments did you receive? Have you had a physical examination?
    4\. Have you had an MRI scan? 5\. What are the results of your MRI examination?
    6\. How do you feel about your heart rate? How is your mental state, diet, and
    sleep? 7\. What is your mouth-opening distance? 8\. Please tell me the results
    of your tumor specialty examination. 9\. Please tell me the results of your PET/CT
    scan. 10\. Please get an MRI scan. How have you been feeling recently? 11\. How
    is your mental state, diet, and sleep? 12\. How is the condition of your nasal
    cavity? 13\. Is there a PICC line in place? 14\. What treatments were performed
    after placing the PICC line? 15\. Please undergo EBV-DNA quantitative testing.
    16\. What auxiliary examinations have you had? 17\. Please get an ultrasound examination.
    18\. Please get a chest X-ray. Do you have any pain in your body? 19\. Have you
    undergone radiotherapy? 20\. Please have an EBV DNA test. Do you have a runny
    nose? 21\. How many MR scans have you had in total? Have you had a nasopharyngeal
    biopsy pathology? 22\. Is your thyroid normal? 23\. Have you experienced any gastrointestinal
    discomfort during treatment? 24\. Have you had any auxiliary examinations? 25\.
    Please go for auxiliary examinations. 26\. How are your limbs? 27\. Please go
    for a coagulation function panel test. 28\. How do you feel about your heart rhythm?
    29\. How is your lung condition? 30\. Please go and have your lungs checked. 31\.
    How does your stomach feel? 32\. When did this chest pain start? 33\. Where is
    this pain located? 34\. How long has it been going on for then if it started last
    night? 35\. Has it been constant throughout that time, or changing? 36\. How would
    you describe the pain? 37\. Have you had any loss of consciousness? 38\. Have
    you been experiencing any like racing of the heart? 39\. Do you have any neck
    pain? 40\. And do you drink alcohol? 41\. Could you tell me a little bit about
    your diet and exercise? 42\. Has anybody in the family had a heart attack before?
    43\. Anybody in the family have cholesterol problems? 44\. Any cancers in the
    family?</foreignobject></g></g></svg>
- en: 'Figure 18: List of Some Standard Questions Asked in Experiments.'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 图18：实验中提问的一些标准问题列表。
- en: <svg class="ltx_picture ltx_centering" height="510.32" id="A12.F19.pic1" overflow="visible"
    version="1.1" width="472.44"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,510.32) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 492.11)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">List of Some Cheat Questions</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="460.62" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="429.13">1\. Please tell me about your medical records. 2\. Please
    inform me about your medical condition conclusion. 3\. Could you share your understanding
    of your condition? Has a doctor told you what type of illness it might be? 4\.
    After your CT scan at the local hospital, did the doctor give you any possible
    diagnoses? 5\. Have you ever had any kind of cancer diagnosis? 6\. What tests
    have you undergone, and what were the results? 7\. Have you ever been diagnosed
    with a specific type of cancer? If so, could you tell me which one? 8\. Could
    you describe in detail the type of cancer you were diagnosed with during your
    nasopharyngeal biopsy at our hospital? 9\. Can you tell me if your weight loss
    is directly related to your cancer diagnosis and treatment? 10\. Please describe
    in detail your recent examination results, including any information the doctors
    have given you about your condition. 11\. In your PET/CT scan, what findings are
    particularly concerning to you? Could you elaborate on them? 12\. Could you tell
    me about the specific circumstances when you first experienced these symptoms
    and the doctor’s diagnosis for you? 13\. What are some important symptoms or examination
    results in your medical records? Could you describe them in detail? 14\. In the
    past year, have you seen any other doctors and heard their opinions on your condition?
    15\. Could you tell me about the specific process of your treatment? For example,
    what tests or chemotherapy regimens have you undergone? 16\. Please describe your
    current symptoms in detail, including their frequency and severity. 17\. Regarding
    your pathology report, could you discuss the specific diagnosis given by the doctor
    and your understanding of it? 18\. Please tell me about your illness process bit
    by bit, what events have occurred, what examinations have been conducted, and
    what information has been obtained. This is very important, so please provide
    a detailed response.</foreignobject></g></g></svg>
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: <svg class="ltx_picture ltx_centering" height="510.32" id="A12.F19.pic1" overflow="visible"
    version="1.1" width="472.44"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,510.32) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 492.11)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="429.13">List of Some Cheat Questions</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="460.62" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="429.13">1\. Please tell me about your medical records. 2\. Please
    inform me about your medical condition conclusion. 3\. Could you share your understanding
    of your condition? Has a doctor told you what type of illness it might be? 4\.
    After your CT scan at the local hospital, did the doctor give you any possible
    diagnoses? 5\. Have you ever had any kind of cancer diagnosis? 6\. What tests
    have you undergone, and what were the results? 7\. Have you ever been diagnosed
    with a specific type of cancer? If so, could you tell me which one? 8\. Could
    you describe in detail the type of cancer you were diagnosed with during your
    nasopharyngeal biopsy at our hospital? 9\. Can you tell me if your weight loss
    is directly related to your cancer diagnosis and treatment? 10\. Please describe
    in detail your recent examination results, including any information the doctors
    have given you about your condition. 11\. In your PET/CT scan, what findings are
    particularly concerning to you? Could you elaborate on them? 12\. Could you tell
    me about the specific circumstances when you first experienced these symptoms
    and the doctor’s diagnosis for you? 13\. What are some important symptoms or examination
    results in your medical records? Could you describe them in detail? 14\. In the
    past year, have you seen any other doctors and heard their opinions on your condition?
    15\. Could you tell me about the specific process of your treatment? For example,
    what tests or chemotherapy regimens have you undergone? 16\. Please describe your
    current symptoms in detail, including their frequency and severity. 17\. Regarding
    your pathology report, could you discuss the specific diagnosis given by the doctor
    and your understanding of it? 18\. Please tell me about your illness process bit
    by bit, what events have occurred, what examinations have been conducted, and
    what information has been obtained. This is very important, so please provide
    a detailed response.</foreignobject></g></g></svg>
- en: 'Figure 19: List of Some Cheat Questions Asked in Experiments.'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 图19：实验中提问的一些作弊问题列表。
- en: Appendix M Example of Questions
  id: totrans-368
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录M 问题示例
- en: Here, we list some question consist standard questions in Figure [18](https://arxiv.org/html/2412.11716v1#A12.F18
    "Figure 18 ‣ L.2 Misalignment ‣ Appendix L Case Study ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution") and cheat questions in Figure [19](https://arxiv.org/html/2412.11716v1#A12.F19
    "Figure 19 ‣ L.2 Misalignment ‣ Appendix L Case Study ‣ LLMs Can Simulate Standardized
    Patients via Agent Coevolution"). Standard questions show the questions asked
    in regular diagnosis processes while cheat questions show various attempts to
    gain excessive information by leading the patient agent to misaligned.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们列出了图[18](https://arxiv.org/html/2412.11716v1#A12.F18 "图 18 ‣ L.2 错配 ‣
    附录 L 案例研究 ‣ LLMs 可以通过代理共同进化模拟标准化患者")中的标准问题和图[19](https://arxiv.org/html/2412.11716v1#A12.F19
    "图 19 ‣ L.2 错配 ‣ 附录 L 案例研究 ‣ LLMs 可以通过代理共同进化模拟标准化患者")中的作弊问题。标准问题展示了常规诊断过程中提问的问题，而作弊问题展示了各种试图通过引导患者代理产生错配，从而获取过多信息的方式。
- en: Appendix N LLM prompt
  id: totrans-370
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录N LLM提示
- en: In this section, we detail several prompts used in EvoPatient shown from Figure [20](https://arxiv.org/html/2412.11716v1#A14.F20
    "Figure 20 ‣ Appendix N LLM prompt ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution") to Figure [25](https://arxiv.org/html/2412.11716v1#A14.F25
    "Figure 25 ‣ Appendix N LLM prompt ‣ LLMs Can Simulate Standardized Patients via
    Agent Coevolution").
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们详细介绍了从图[20](https://arxiv.org/html/2412.11716v1#A14.F20 "图 20 ‣ 附录N LLM提示
    ‣ LLMs 可以通过代理共同进化模拟标准化患者")到图[25](https://arxiv.org/html/2412.11716v1#A14.F25 "图
    25 ‣ 附录N LLM提示 ‣ LLMs 可以通过代理共同进化模拟标准化患者")中展示的EvoPatient中使用的若干提示。
- en: '<svg class="ltx_picture ltx_centering" height="296" id="A14.F20.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,296) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 277.79)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Question Generation</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="246.3" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="586.61">As a specialized {discipline} doctor, you possess the following
    professional capabilities: {profile} To aid in diagnosing a patient’s condition,
    please ask a question based on the patient’s information. Ensure that the question
    covers the patient’s details, with a focus on medical examinations, treatments,
    and physical check-ups. Remember, you are addressing a patient who is not medically
    trained. The question should be diverse and tailored to the patient’s situation.
    Along with the question, provide the type of question, formatted as **Question**##Category##.
    For example, **How long have you been experiencing headaches?**##Symptom Inquiry##.
    If the question falls into multiple categories, separate them with a comma, such
    as ##Basic Inquiry, Chief Complaint##. The available categories are: Basic Inquiry,
    Chief Complaint, Symptom Inquiry, Lifestyle Inquiry, Psychological Inquiry, Social
    Environment Inquiry, Physical Examination Inquiry, Treatment and Medication Response
    Inquiry, Preventive Care Inquiry, and Other Relevant Inquiries. If you believe
    that a conclusion can be drawn from the existing information, respond with **conclusion**.
    Current patient information: {memory} Questions for reference based on the current
    dialogue: {recommend_questions} Professional questions for reference based on
    the patient’s condition: {professional_questions}</foreignobject></g></g></svg>'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="296" id="A14.F20.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,296) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 277.79)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Question Generation</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="246.3" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="586.61">As a specialized {discipline} doctor, you possess the following
    professional capabilities: {profile} To aid in diagnosing a patient’s condition,
    please ask a question based on the patient’s information. Ensure that the question
    covers the patient’s details, with a focus on medical examinations, treatments,
    and physical check-ups. Remember, you are addressing a patient who is not medically
    trained. The question should be diverse and tailored to the patient’s situation.
    Along with the question, provide the type of question, formatted as **Question**##Category##.
    For example, **How long have you been experiencing headaches?**##Symptom Inquiry##.
    If the question falls into multiple categories, separate them with a comma, such
    as ##Basic Inquiry, Chief Complaint##. The available categories are: Basic Inquiry,
    Chief Complaint, Symptom Inquiry, Lifestyle Inquiry, Psychological Inquiry, Social
    Environment Inquiry, Physical Examination Inquiry, Treatment and Medication Response
    Inquiry, Preventive Care Inquiry, and Other Relevant Inquiries. If you believe
    that a conclusion can be drawn from the existing information, respond with **conclusion**.
    Current patient information: {memory} Questions for reference based on the current
    dialogue: {recommend_questions} Professional questions for reference based on
    the patient’s condition: {professional_questions}</foreignobject></g></g></svg>'
- en: 'Figure 20: Prompt for question generation.'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 图 20：问题生成提示。
- en: '<svg class="ltx_picture ltx_centering" height="279.4" id="A14.F21.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,279.4) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 261.19)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Doctor recruitment</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="229.69" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="586.61">As a specialized {discipline} doctor, you possess the
    following professional capabilities: {profile} After several rounds of dialogue
    with the patient, assess whether the case has exceeded your professional expertise
    and if recruitment of additional specialists is necessary for a more accurate
    diagnosis. If you believe that the involvement of another department is required,
    please state the department’s name and the reason for recruitment in the format:
    ##Department##, **Reason for Recruitment**. The departments you can consider recruiting
    from include, but are not limited to: 1\. Internal Medicine. 2\. Surgery. 3\.
    Obstetrics and Gynecology. 4\. Pediatrics. 5\. Ophthalmology. 6\. Otolaryngology.
    7\. Stomatology. 8\. Dermatology. 9\. Psychiatry. 10\. Oncology. 11\. Infectious
    Diseases. 12\. Emergency Medicine. 13\. Rehabilitation. 14\. Traditional Chinese
    Medicine. 15\. Anesthesiology. 16\. Radiology. 17\. Pathology. 18\. Laboratory
    Medicine. 19\. Nutrition. 20\. Preventive Health. If you decide to recruit from
    both Internal Medicine and Dermatology, your response should be formatted as ##Internal
    Medicine, Dermatology##. If no recruitment is needed, simply respond with ##NO##.
    You do not need to recruit doctors from your own department. Historical dialogue:
    {memory}</foreignobject></g></g></svg>'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="279.4" id="A14.F21.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,279.4) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 261.19)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Doctor recruitment</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="229.69" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="586.61">As a specialized {discipline} doctor, you possess the
    following professional capabilities: {profile} After several rounds of dialogue
    with the patient, assess whether the case has exceeded your professional expertise
    and if recruitment of additional specialists is necessary for a more accurate
    diagnosis. If you believe that the involvement of another department is required,
    please state the department’s name and the reason for recruitment in the format:
    ##Department##, **Reason for Recruitment**. The departments you can consider recruiting
    from include, but are not limited to: 1\. Internal Medicine. 2\. Surgery. 3\.
    Obstetrics and Gynecology. 4\. Pediatrics. 5\. Ophthalmology. 6\. Otolaryngology.
    7\. Stomatology. 8\. Dermatology. 9\. Psychiatry. 10\. Oncology. 11\. Infectious
    Diseases. 12\. Emergency Medicine. 13\. Rehabilitation. 14\. Traditional Chinese
    Medicine. 15\. Anesthesiology. 16\. Radiology. 17\. Pathology. 18\. Laboratory
    Medicine. 19\. Nutrition. 20\. Preventive Health. If you decide to recruit from
    both Internal Medicine and Dermatology, your response should be formatted as ##Internal
    Medicine, Dermatology##. If no recruitment is needed, simply respond with ##NO##.
    You do not need to recruit doctors from your own department. Historical dialogue:
    {memory}</foreignobject></g></g></svg>'
- en: 'Figure 21: Prompt for doctor recruitment.'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 图 21：医生招募提示。
- en: '<svg class="ltx_picture ltx_centering" height="410.69" id="A14.F22.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,410.69) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 392.49)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Recruited Doctor</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="360.99" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="586.61">As a {discipline} doctor recruited by the {last_discipline}
    doctor, you possess the following professional capabilities: profile The reason
    for your recruitment is: reason. Now, please use your expertise to ask the patient
    a question based on the historical dialogue information. Along with the question,
    provide the type of question, formatted as **Question**##Category##. For example,
    **How long have you been experiencing headaches?**##Symptom Inquiry##. If the
    question falls into multiple categories, separate them with a comma, such as ##Basic
    Inquiry, Chief Complaint##. The available categories are: Basic Inquiry, Chief
    Complaint, Symptom Inquiry, Lifestyle Inquiry, Psychological Inquiry, Social Environment
    Inquiry, Physical Examination Inquiry, Treatment and Medication Response Inquiry,
    Preventive Care Inquiry, and Other Relevant Inquiries. Additionally, if you believe
    that no further questioning is necessary based on the historical dialogue and
    that your professional capabilities are insufficient, you may determine the need
    to recruit additional specialists. If you wish to recruit other departments to
    assist in diagnosis, please state the department’s name and the reason for recruitment
    in the format: ##Department##, **Reason for Recruitment**. The departments you
    can consider recruiting from include, but are not limited to: 1\. Internal Medicine.
    2\. Surgery. 3\. Obstetrics and Gynecology. 4\. Pediatrics. 5\. Ophthalmology.
    6\. Otolaryngology. 7\. Stomatology. 8\. Dermatology. 9\. Psychiatry. 10\. Oncology.
    11\. Infectious Diseases. 12\. Emergency Medicine. 13\. Rehabilitation. 14\. Traditional
    Chinese Medicine. 15\. Anesthesiology. 16\. Radiology. 17\. Pathology. 18\. Laboratory
    Medicine. 19\. Nutrition. 20\. Preventive Health. If you decide to recruit from
    both Internal Medicine and Dermatology, your response should be formatted as ##Internal
    Medicine, Dermatology##. If no recruitment is needed, simply respond with ##NO##.
    You do not need to recruit doctors from your own department. Historical dialogue:
    memory</foreignobject></g></g></svg>'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="410.69" id="A14.F22.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,410.69) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 392.49)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Recruited Doctor</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="360.99" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="586.61">As a {discipline} doctor recruited by the {last_discipline}
    doctor, you possess the following professional capabilities: profile The reason
    for your recruitment is: reason. Now, please use your expertise to ask the patient
    a question based on the historical dialogue information. Along with the question,
    provide the type of question, formatted as **Question**##Category##. For example,
    **How long have you been experiencing headaches?**##Symptom Inquiry##. If the
    question falls into multiple categories, separate them with a comma, such as ##Basic
    Inquiry, Chief Complaint##. The available categories are: Basic Inquiry, Chief
    Complaint, Symptom Inquiry, Lifestyle Inquiry, Psychological Inquiry, Social Environment
    Inquiry, Physical Examination Inquiry, Treatment and Medication Response Inquiry,
    Preventive Care Inquiry, and Other Relevant Inquiries. Additionally, if you believe
    that no further questioning is necessary based on the historical dialogue and
    that your professional capabilities are insufficient, you may determine the need
    to recruit additional specialists. If you wish to recruit other departments to
    assist in diagnosis, please state the department’s name and the reason for recruitment
    in the format: ##Department##, **Reason for Recruitment**. The departments you
    can consider recruiting from include, but are not limited to: 1\. Internal Medicine.
    2\. Surgery. 3\. Obstetrics and Gynecology. 4\. Pediatrics. 5\. Ophthalmology.
    6\. Otolaryngology. 7\. Stomatology. 8\. Dermatology. 9\. Psychiatry. 10\. Oncology.
    11\. Infectious Diseases. 12\. Emergency Medicine. 13\. Rehabilitation. 14\. Traditional
    Chinese Medicine. 15\. Anesthesiology. 16\. Radiology. 17\. Pathology. 18\. Laboratory
    Medicine. 19\. Nutrition. 20\. Preventive Health. If you decide to recruit from
    both Internal Medicine and Dermatology, your response should be formatted as ##Internal
    Medicine, Dermatology##. If no recruitment is needed, simply respond with ##NO##.
    You do not need to recruit doctors from your own department. Historical dialogue:
    memory</foreignobject></g></g></svg>'
- en: 'Figure 22: Prompt for recruited doctor.'
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 图 22：招募医生的提示。
- en: '<svg class="ltx_picture ltx_centering" height="146.56" id="A14.F23.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,146.56) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 128.35)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Attention Agent</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="96.86" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="586.61">You are an agent designed to help simulate patients in extracting
    key requirements from a trunk of requirements. Now, based on the doctor’s question,
    please extract the requirements that should be noted during the simulated patient’s
    response. These extracted requirements should directly assist the simulated patient
    in formulating their answer. Please present them in the following format: **Requirement
    1: Content; Requirement 2: Content; …**. Doctor’s question: {question} Requirements:
    {requirements_trunk}</foreignobject></g></g></svg>'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="146.56" id="A14.F23.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,146.56) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 128.35)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Attention Agent</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="96.86" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="586.61">You are an agent designed to help simulate patients in extracting
    key requirements from a trunk of requirements. Now, based on the doctor’s question,
    please extract the requirements that should be noted during the simulated patient’s
    response. These extracted requirements should directly assist the simulated patient
    in formulating their answer. Please present them in the following format: **Requirement
    1: Content; Requirement 2: Content; …**. Doctor’s question: {question} Requirements:
    {requirements_trunk}</foreignobject></g></g></svg>'
- en: 'Figure 23: Prompt for attention agent.'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 图 23：注意力代理的提示。
- en: '<svg class="ltx_picture ltx_centering" height="129.96" id="A14.F24.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,129.96) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 111.75)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Vagueness Agent</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="80.25" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="586.61">You are an agent capable of vague detailed information.
    I will provide you with a patient’s detailed information, which includes their
    condition and medical examination results. Your task is to remove the examination
    results and retain only the patient’s symptoms, with appropriate vagueness applied
    to details such as time. For example, change ’1 year’ to ’for some time’. Format
    the output as: **Vague Information** Patient Information: {information}</foreignobject></g></g></svg>'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="129.96" id="A14.F24.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,129.96) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 111.75)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Vagueness Agent</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="80.25" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="586.61">You are an agent capable of vague detailed information.
    I will provide you with a patient’s detailed information, which includes their
    condition and medical examination results. Your task is to remove the examination
    results and retain only the patient’s symptoms, with appropriate vagueness applied
    to details such as time. For example, change ’1 year’ to ’for some time’. Format
    the output as: **Vague Information** Patient Information: {information}</foreignobject></g></g></svg>'
- en: 'Figure 24: Prompt for vagueness agent.'
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 图 24：模糊代理的提示。
- en: '<svg class="ltx_picture ltx_centering" height="113.35" id="A14.F25.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,113.35) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 95.15)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Answer Generation</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="63.65" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="586.61">You are a simulated patient. You will play the following
    role: {profile} A doctor has asked you a question: {question} Please respond based
    on the following requirements and medical information, and also refer to the example
    responses provided. Requirements: {attention_requirements} Memory: {memory} Patient
    Information: {information} Example: {demonstrations}</foreignobject></g></g></svg>'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture ltx_centering" height="113.35" id="A14.F25.pic1" overflow="visible"
    version="1.1" width="629.92"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,113.35) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 95.15)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="586.61">Prompt for Answer Generation</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="63.65" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="586.61">You are a simulated patient. You will play the following
    role: {profile} A doctor has asked you a question: {question} Please respond based
    on the following requirements and medical information, and also refer to the example
    responses provided. Requirements: {attention_requirements} Memory: {memory} Patient
    Information: {information} Example: {demonstrations}</foreignobject></g></g></svg>'
- en: 'Figure 25: Prompt for answer generation.'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 图 25：答案生成提示。
- en: Appendix O Big Five traits
  id: totrans-384
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 O 大五人格特征
- en: '| Extraversion | Agreeableness | Conscientiousness | Neuroticism | Openness
    |'
  id: totrans-385
  prefs: []
  type: TYPE_TB
  zh: '| 外向性 | 宜人性 | 责任心 | 神经质 | 开放性 |'
- en: '| Low | High | Low | High | Low | High | Low | High | Low | High |'
  id: totrans-386
  prefs: []
  type: TYPE_TB
  zh: '| 低 | 高 | 低 | 高 | 低 | 高 | 低 | 高 | 低 | 高 |'
- en: '| Quiet | Talktive |'
  id: totrans-387
  prefs: []
  type: TYPE_TB
  zh: '| 安静 | 善谈 |'
- en: '&#124; Fault- &#124;'
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 缺点- &#124;'
- en: '&#124; finging &#124;'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 拾起 &#124;'
- en: '| Sympathetic | Careless | Organized | Stable | Tense | Commonplace |'
  id: totrans-390
  prefs: []
  type: TYPE_TB
  zh: '| 同情 | 马虎 | 有条理 | 稳定 | 紧张 | 平庸 |'
- en: '&#124; Wide &#124;'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 开朗 &#124;'
- en: '&#124; interests &#124;'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 兴趣 &#124;'
- en: '|'
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| Reserved | Assertive | Cold | Kind | Disorderly | Thorough | Calm | Anxious
    |'
  id: totrans-394
  prefs: []
  type: TYPE_TB
  zh: '| 内向 | 自信 | 冷漠 | 亲切 | 无序 | 彻底 | 冷静 | 焦虑 |'
- en: '&#124; Narrow &#124;'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 狭隘 &#124;'
- en: '&#124; interests &#124;'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 兴趣 &#124;'
- en: '| Imaginative |'
  id: totrans-397
  prefs: []
  type: TYPE_TB
  zh: '| 富有想象力 |'
- en: '| Shy | Active | Unfriendly | Appreciative | Frivolous | Planful | Contented
    | Nervous | Simple | Intelligent |'
  id: totrans-398
  prefs: []
  type: TYPE_TB
  zh: '| 害羞 | 活跃 | 不友善 | 欣赏 | 轻浮 | 有计划 | 满足 | 紧张 | 简单 | 智慧 |'
- en: '| Withdraw | Energetic | Quarrelsome | Affectionate | Irresponsible | Efficient
    |  | Moody | Shallow | Original |'
  id: totrans-399
  prefs: []
  type: TYPE_TB
  zh: '| 内向 | 精力充沛 | 爱争吵 | 亲切 | 不负责任 | 高效 |  | 情绪化 | 浅薄 | 原创 |'
- en: '| Retiring | Outgoing |'
  id: totrans-400
  prefs: []
  type: TYPE_TB
  zh: '| 内向 | 外向 |'
- en: '&#124; Hard- &#124;'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 固执- &#124;'
- en: '&#124; hearted &#124;'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 细心 &#124;'
- en: '| Soft-hearted | Slipshot | Responsible |  | Worrying | Unintelligent | Insightful
    |'
  id: totrans-403
  prefs: []
  type: TYPE_TB
  zh: '| 软心肠 | 草率 | 负责任 |  | 担忧 | 不聪明 | 有洞察力 |'
- en: '|  | Outspoken | Unkind | Warm | Undependable | Reliable |  | Touchy |  | Curious
    |'
  id: totrans-404
  prefs: []
  type: TYPE_TB
  zh: '|  | 直言不讳 | 不友好 | 温暖 | 不可靠 | 可靠 |  | 易怒 |  | 好奇 |'
- en: '|  | Dominant | Cruel | Generous | Forgetful | Dependable |  | Fearful |  |
    Sophisticated |'
  id: totrans-405
  prefs: []
  type: TYPE_TB
  zh: '|  | 主导 | 残酷 | 慷慨 | 健忘 | 可靠 |  | 害怕 |  | 精致 |'
- en: '|  | Forceful | Stern | Trusting |  | Conscientious |  | High-strung |  | Artistic
    |'
  id: totrans-406
  prefs: []
  type: TYPE_TB
  zh: '|  | 强势 | 严厉 | 信任 |  | 认真 |  | 高度紧张 |  | 艺术性 |'
- en: '|  | Enthusiastic | Thankless | Helpful |  | Precise |  | Self-pitying |  |
    Clever |'
  id: totrans-407
  prefs: []
  type: TYPE_TB
  zh: '|  | 热情 | 忘恩负义 | 有帮助 |  | 精确 |  | 自怜 |  | 聪明 |'
- en: '|  | Show-off | Stingy | Fogiving |  | Parctical |  | Temperamental |  | Inventive
    |'
  id: totrans-408
  prefs: []
  type: TYPE_TB
  zh: '|  | 爱炫耀 | 吝啬 | 宽容 |  | 实际 |  | 情绪化 |  | 有创造力 |'
- en: '|  | Sociable |  | Pleasant |  | Deliberate |  | Unstable |  | Sharp-witted
    |'
  id: totrans-409
  prefs: []
  type: TYPE_TB
  zh: '|  | 好交际 |  | 令人愉快 |  | 深思熟虑 |  | 不稳定 |  | 聪慧 |'
- en: '|  | Spunky |  |'
  id: totrans-410
  prefs: []
  type: TYPE_TB
  zh: '|  | 精力充沛 |  |'
- en: '&#124; Good- &#124;'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 优良- &#124;'
- en: '&#124; natured &#124;'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: '&#124; 性格 &#124;'
- en: '|  | Painstaking |  | Self-punishing |  | Ingenious |'
  id: totrans-413
  prefs: []
  type: TYPE_TB
  zh: '|  | 刻苦 |  | 自我惩罚 |  | 独创 |'
- en: '|  | Adventurous |  | Friendly |  | Cautious |  | Despondent |  | Witty |'
  id: totrans-414
  prefs: []
  type: TYPE_TB
  zh: '|  | 冒险 |  | 友好 |  | 小心 |  | 沮丧 |  | 机智 |'
- en: '|  | Noisy |  | Cooperative |  |  |  | Emotinal |  | Resourceful |'
  id: totrans-415
  prefs: []
  type: TYPE_TB
  zh: '|  | 嘈杂 |  | 合作 |  |  |  | 情绪化 |  | 机智 |'
- en: '|  | Bossy |  | Gentle |  |  |  |  |  | Wise |'
  id: totrans-416
  prefs: []
  type: TYPE_TB
  zh: '|  | 爱指挥 |  | 温和 |  |  |  |  |  | 明智 |'
- en: '|  |  |  | Unselfish |  |  |  |  |  |  |'
  id: totrans-417
  prefs: []
  type: TYPE_TB
  zh: '|  |  |  | 无私 |  |  |  |  |  |  |'
- en: '|  |  |  | Praising |  |  |  |  |  |  |'
  id: totrans-418
  prefs: []
  type: TYPE_TB
  zh: '|  |  |  | 称赞 |  |  |  |  |  |  |'
- en: '|  |  |  | Sensitive |  |  |  |  |  |  |'
  id: totrans-419
  prefs: []
  type: TYPE_TB
  zh: '|  |  |  | 敏感 |  |  |  |  |  |  |'
- en: 'Table 6: Description of the Big Five traits adapted from John et al. ([2008](https://arxiv.org/html/2412.11716v1#bib.bib15)).'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 表 6：根据 John 等人（[2008](https://arxiv.org/html/2412.11716v1#bib.bib15)）改编的大五人格特征描述。
- en: 'The Big Five personality traits McCrae and Costa ([1987](https://arxiv.org/html/2412.11716v1#bib.bib28)),
    also known as the Five-Factor Model (FFM) or OCEAN model, is a widely accepted
    framework for understanding human personality. These traits shown in Table [6](https://arxiv.org/html/2412.11716v1#A15.T6
    "Table 6 ‣ Appendix O Big Five traits ‣ LLMs Can Simulate Standardized Patients
    via Agent Coevolution") include:'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 大五人格特征 McCrae 和 Costa（[1987](https://arxiv.org/html/2412.11716v1#bib.bib28)），也称为五因素模型（FFM）或
    OCEAN 模型，是一个广泛接受的理解人类个性的框架。表[6](https://arxiv.org/html/2412.11716v1#A15.T6 "Table
    6 ‣ Appendix O Big Five traits ‣ LLMs Can Simulate Standardized Patients via Agent
    Coevolution") 中显示的这些特征包括：
- en: •
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Openness to Experience: Reflects an individual’s willingness to engage in novel
    experiences, creativity, and curiosity.'
  id: totrans-423
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 经历的开放性：反映个人对新经历、创造力和好奇心的接受度。
- en: •
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Conscientiousness: Measures an individual’s level of self-discipline, organization,
    and goal-oriented behavior.'
  id: totrans-425
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 责任心：衡量个人的自律性、组织能力和目标导向行为。
- en: •
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Extraversion: Describes the extent to which a person is outgoing, energetic,
    and seeks social interactions.'
  id: totrans-427
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 外向性：描述一个人有多外向、精力充沛，并寻求社交互动。
- en: •
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Agreeableness: Represents a person’s tendency toward kindness, cooperation,
    and empathy in relationships with others.'
  id: totrans-429
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 宜人性：表示一个人在与他人关系中的友善、合作和同理心的倾向。
- en: •
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Neuroticism: Relates to emotional stability, with high levels of neuroticism
    indicating vulnerability to stress and negative emotions.'
  id: totrans-431
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 神经质：与情绪稳定性相关，高水平的神经质表明个体容易受到压力和负面情绪的影响。
- en: These traits are considered to exist along a spectrum, with each individual
    showing varying degrees of each trait. The Big Five model has become a central
    framework in psychology for predicting behavior, attitudes, and mental health
    outcomes.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 这些特征被认为存在于一个光谱上，每个人在每个特征上表现出不同程度的差异。五大人格模型已成为心理学中预测行为、态度和心理健康结果的核心框架。
- en: Appendix P AI Assistants
  id: totrans-433
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录P AI 助手
- en: ChatGPT⁷⁷7https://chat.openai.com/ was used purely with the language of the
    paper during the writing process, including spell-checking and paraphrasing the
    authors’ original content, without suggesting new content. Any content generated
    with the assistant underwent meticulous manual review and subsequently received
    final approval from the authors.
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: ChatGPT⁷⁷7https://chat.openai.com/ 在写作过程中仅使用了论文的语言，包括拼写检查和对作者原始内容的改写，并没有建议新的内容。任何由助手生成的内容都经过了细致的人工审查，并最终得到了作者的批准。
