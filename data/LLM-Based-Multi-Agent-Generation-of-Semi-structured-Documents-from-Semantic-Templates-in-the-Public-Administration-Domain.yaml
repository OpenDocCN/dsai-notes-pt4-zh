- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: 未分类'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 类别：未分类
- en: 'date: 2025-01-11 12:50:28'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 日期：2025-01-11 12:50:28
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: LLM Based Multi-Agent Generation of Semi-structured Documents from Semantic
    Templates in the Public Administration Domain
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基于LLM的公共管理领域语义模板生成半结构化文档的多代理方法
- en: 来源：[https://arxiv.org/html/2402.14871/](https://arxiv.org/html/2402.14871/)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 来源：[https://arxiv.org/html/2402.14871/](https://arxiv.org/html/2402.14871/)
- en: '¹¹institutetext: Dept. of Computer, Control, and Management Engineering'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: ¹¹机构地址：计算机、控制与管理工程系
- en: 'Sapienza University of Rome, Rome (Italy), ¹¹email: {lastname}@diag.uniroma1.it
    ²²institutetext: UNINT Univeristy, Via Cristoforo Colombo, 200 - 00147 Rome (Italy),
    ²²email: domenico.bloisi@unint.euEmanuele Musumeci [0009-0004-2359-5032](https://orcid.org/0009-0004-2359-5032
    "ORCID identifier") 11    Michele Brienza 11 [0009-0000-1549-9500](https://orcid.org/0009-0000-1549-9500
    "ORCID identifier")    Vincenzo Suriani 11 [0000−0003−1199−8358](https://orcid.org/0000%E2%88%920003%E2%88%921199%E2%88%928358
    "ORCID identifier")    Daniele Nardi 11 [0000-0001-6606-200X](https://orcid.org/0000-0001-6606-200X
    "ORCID identifier")    Domenico Daniele Bloisi 22 [0000−0003−0339−8651](https://orcid.org/0000%E2%88%920003%E2%88%920339%E2%88%928651
    "ORCID identifier")'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 罗马萨皮恩扎大学，罗马（意大利），¹¹电子邮件：{lastname}@diag.uniroma1.it ²²机构地址：UNINT大学，Via Cristoforo
    Colombo，200 - 00147 罗马（意大利），²²电子邮件：domenico.bloisi@unint.eu埃马努埃尔·穆苏梅奇 [0009-0004-2359-5032](https://orcid.org/0009-0004-2359-5032
    "ORCID identifier") 11    米凯莱·布里恩扎 11 [0009-0000-1549-9500](https://orcid.org/0009-0000-1549-9500
    "ORCID identifier")    文琴佐·苏里亚尼 11 [0000−0003−1199−8358](https://orcid.org/0000%E2%88%920003%E2%88%921199%E2%88%928358
    "ORCID identifier")    达尼埃莱·纳尔迪 11 [0000-0001-6606-200X](https://orcid.org/0000-0001-6606-200X
    "ORCID identifier")    多梅尼科·达尼埃莱·布洛伊西 22 [0000−0003−0339−8651](https://orcid.org/0000%E2%88%920003%E2%88%920339%E2%88%928651
    "ORCID identifier")
- en: Abstract
  id: totrans-8
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 摘要
- en: In the last years’ digitalization process, the creation and management of documents
    in various domains, particularly in Public Administration (PA), have become increasingly
    complex and diverse. This complexity arises from the need to handle a wide range
    of document types, often characterized by semi-structured forms. Semi-structured
    documents present a fixed set of data without a fixed format. As a consequence,
    a template-based solution cannot be used, as understanding a document requires
    the extraction of the data structure. The recent introduction of Large Language
    Models (LLMs) has enabled the creation of customized text output satisfying user
    requests. In this work, we propose a novel approach that combines the LLMs with
    prompt engineering and multi-agent systems for generating new documents compliant
    with a desired structure.The main contribution of this work concerns replacing
    the commonly used manual prompting with a task description generated by semantic
    retrieval from an LLM. The potential of this approach is demonstrated through
    a series of experiments and case studies, showcasing its effectiveness in real-world
    PA scenarios.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在近年来的数字化进程中，各个领域，特别是公共管理（PA）领域的文档创建与管理变得愈加复杂和多样化。这种复杂性来源于需要处理各种文档类型，这些文档通常呈现为半结构化形式。半结构化文档展示了一组固定的数据，但没有固定的格式。因此，无法使用基于模板的解决方案，因为理解文档需要提取数据结构。最近引入的大型语言模型（LLMs）使得能够根据用户需求创建定制化的文本输出。在这项工作中，我们提出了一种新的方法，结合了LLMs与提示工程以及多代理系统，用于生成符合所需结构的新文档。本工作的主要贡献在于用通过LLM语义检索生成的任务描述取代了常用的手动提示。通过一系列实验和案例研究，展示了该方法在实际公共管理场景中的有效性。
- en: 'Keywords:'
  id: totrans-10
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 关键词：
- en: Human-Centered AI Public Administration Task optimization
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 以人为本的人工智能公共管理任务优化
- en: 1 Introduction
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1 引言
- en: '![Refer to caption](img/00395214128917115219b6f65a05ae2c.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![参见标题](img/00395214128917115219b6f65a05ae2c.png)'
- en: 'Figure 1: The presented multi-agent architecture with the LLMs used in prompt
    engineering and multi-agent fashion for generating new documents.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 图1：展示的多代理架构，其中使用了在提示工程和多代理方式中生成新文档的LLM。
- en: Document creation is a typical task in the Public Administration (PA) setting,
    requiring repetitive sub-tasks that offer the potential for automation. For instance,
    when writing official certificates required in public offices, the required personal
    information from the requesting user is often very schematic and constitutes only
    a small percentage of the text present in the document.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 文档创建是公共管理（PA）领域中的典型任务，涉及需要重复执行的子任务，具有自动化的潜力。例如，在撰写公共办公室所需的官方证书时，通常只需要从请求者那里获取非常简明的个人信息，这些信息仅占文档中内容的一个小部分。
- en: The use of pre-made document templates manages only marginally to reduce the
    effort spent and applies only to rigidly structured documents, where the semantics
    of missing information can be perfectly defined in the templates themselves. Automation
    of the writing of this kind of document, which amounts to field-filling, is straightforward.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 使用预制文档模板只能在一定程度上减少所花费的努力，并且仅适用于结构严格的文档，在这些文档中，缺失信息的语义可以在模板本身中明确定义。此类文档的自动化写作，即字段填写，是简单直接的。
- en: Instead, semi-structured documents offer a flexible format, in which missing
    information cannot be clearly tagged and is usually determined by the semantics
    of the surrounding context. For instance, standard fields like the current date
    can appear in different positions in the document with no pre-defined criteria.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，半结构化文档提供了一种灵活的格式，其中缺失的信息无法明确标记，通常由周围上下文的语义来决定。例如，像当前日期这样的标准字段可以出现在文档中的不同位置，而没有预定义的标准。
- en: 'Producing this kind of document requires additional effort to adapt their flexible
    structure to the current use case and the available and required information,
    with additional effort to recover missing information. The semantics associated
    with the necessary information require some contextual knowledge, which can be
    gained by the surrounding context and sometimes the overall semantics of the whole
    document. For instance, different terms can be used for the qualification of the
    same field: e.g. "Invoice," "Invoice No." "Bill" and "Purchase Order" can all
    label the same information (the invoice number). For this reason, structure and
    semantics in a semi-structured document are usually intertwined, and developing
    an efficient document generation pipeline that can run for a wide variety of documents
    is a very challenging task.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 生成这种类型的文档需要额外的努力，将其灵活的结构适应当前的使用案例以及可用和所需的信息，并付出额外的努力来恢复缺失的信息。与必要信息相关的语义需要一些上下文知识，这些知识可以通过周围的上下文，甚至有时通过整个文档的总体语义来获得。例如，可以使用不同的术语来表示同一字段的资格：例如，“发票”、“发票号”、“账单”和“采购订单”都可以表示相同的信息（即发票号码）。因此，半结构化文档中的结构和语义通常是交织在一起的，开发一个能够适用于各种文档的高效文档生成流程是一个非常具有挑战性的任务。
- en: On these premises, the specific task of adapting semi-structured document templates
    can be supported by the use of Artificial Intelligence and in particular Language
    Models, to reduce the time spent automating the process and as a means to improve
    the generality of the automatic approach.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 基于这些前提，适配半结构化文档模板的具体任务可以通过使用人工智能，特别是语言模型来支持，以减少自动化过程所花费的时间，并作为改善自动化方法通用性的手段。
- en: A straightforward solution could be to generate and therefore refine a document
    in several incremental steps, with a separate prompt for each one, but this could
    hinder the quality of the result due to the potential dependencies between data
    in different parts of the same document, that might be located in structurally
    unrelated sections. A fully unsupervised approach would therefore run the risk
    of incurring in hallucination due to the limited effectiveness of long context
    windows for long document structures.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 一种简单的解决方案可能是通过几个增量步骤生成并精炼文档，每个步骤有一个单独的提示，但由于文档中不同部分之间可能存在数据依赖关系，而这些部分可能位于结构上无关的章节中，这可能会影响结果的质量。因此，完全无监督的方法可能会因为长上下文窗口对长文档结构的有限有效性而导致出现虚构内容。
- en: Prompt engineering guidelines usually require providing preliminary and accurate
    context to the role of the LLM agent in the required task. Therefore it is possible
    to alter and improve the result on the same user request by prepending an accurate
    description of the role of the LLM agent to the actual user prompt.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 提示工程指南通常要求为LLM代理在任务中的角色提供初步且准确的上下文。因此，通过在实际用户提示前添加对LLM代理角色的准确描述，有可能在相同的用户请求下更改并改善结果。
- en: Under these assumptions, it is possible to improve the incremental trial-and-error
    document generation by introducing several agents, each with a defined fine-grained
    role in the generation process. In this framework, the capabilities of each agent
    can be tuned by providing it with an accurate description of its role. Moreover,
    each agent can be augmented with a memory component local to the agent, sampled
    and applied specifically for its role, and with additional capabilities that compensate
    for the lacks of Language Models, such as interaction with the World Wide Web
    in real-time, access to private custom knowledge bases and information feeds to
    enhance agents with domain-specific knowledge, or the execution of specialized
    code as in a Function-as-a-Service framework. This kind of architecture is perfectly
    compatible with the emergent AI-as-a-Service (AIaaS) paradigm[[3](https://arxiv.org/html/2402.14871v1#bib.bib3)].
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些假设下，通过引入多个代理，每个代理在生成过程中的角色定义明确，可以改善增量试错式文档生成。在这一框架中，每个代理的能力可以通过提供其角色的准确描述来进行调整。此外，每个代理还可以增加一个本地的记忆组件，该组件根据代理的角色特定地进行采样和应用，且具备补偿语言模型不足的额外能力，例如实时与万维网互动、访问私有定制知识库和信息源，以增强代理的领域特定知识，或者执行如“函数即服务”框架中的专门代码。这种架构与新兴的AI即服务（AIaaS）范式[[3](https://arxiv.org/html/2402.14871v1#bib.bib3)]完全兼容。
- en: The multi-agent process assists the user by iteratively refining the prompt
    with the guidance of a pre-existing structure extracted from similar documents.
    Then, context-specific prompts are provided to the various agents during the process,
    depending on their specific role and the original document structure, with little
    to no human supervision. Interaction between the agents, which is conversational
    in nature, can include direct interaction with the user in cases in which intervention
    is needed.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 多代理过程通过借助从类似文档中提取的预先存在的结构，逐步优化提示，辅助用户。然后，根据各代理的具体角色和原始文档结构，在过程中为各个代理提供特定的上下文提示，几乎无需人工干预。代理之间的互动本质上是对话式的，在需要干预的情况下，还可以包括与用户的直接互动。
- en: We present a workflow and interaction framework for the LLM-assisted multi-agent
    generation of a semi-structured document in the PA domain, with limited human
    supervision. We then show the prompt refinement process necessary to obtain the
    required results for each specific agent role in the current workflow.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我们提出了一个工作流和互动框架，用于在有限的人类监督下，通过大语言模型辅助的多代理生成半结构化文档，应用于PA领域。随后，我们展示了为了在当前工作流中获得每个代理角色所需结果，必须进行的提示优化过程。
- en: The code and the additional results obtained from this work can be found at
    the following webpage [https://sites.google.com/uniroma1.it/multi-agent-documentgeneration/home-page](https://sites.google.com/uniroma1.it/multi-agent-documentgeneration/home-page).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 本工作的代码和额外的结果可以在以下网页找到：[https://sites.google.com/uniroma1.it/multi-agent-documentgeneration/home-page](https://sites.google.com/uniroma1.it/multi-agent-documentgeneration/home-page)。
- en: The remainder of the paper is organized as follows. Section [2](https://arxiv.org/html/2402.14871v1#S2
    "2 Related Work ‣ LLM Based Multi-Agent Generation of Semi-structured Documents
    from Semantic Templates in the Public Administration Domain") contains a description
    of the state of the art. Section [3](https://arxiv.org/html/2402.14871v1#S3 "3
    Proposed Approach ‣ LLM Based Multi-Agent Generation of Semi-structured Documents
    from Semantic Templates in the Public Administration Domain") presents the description
    of the workflow and interaction framework. The prompt refinement process is then
    shown in Section [4](https://arxiv.org/html/2402.14871v1#S4 "4 Experimental Evaluation
    ‣ LLM Based Multi-Agent Generation of Semi-structured Documents from Semantic
    Templates in the Public Administration Domain"). Finally, conclusions are drawn
    in Section [5](https://arxiv.org/html/2402.14871v1#S5 "5 Conclusions ‣ 4.4 Prompt-engineered
    results ‣ 4.3 Content Generation Agent ‣ 4.1 Semantics Identification Agent ‣
    4 Experimental Evaluation ‣ LLM Based Multi-Agent Generation of Semi-structured
    Documents from Semantic Templates in the Public Administration Domain").
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本文的其余部分组织如下。第[2](https://arxiv.org/html/2402.14871v1#S2 "2 Related Work ‣ LLM
    Based Multi-Agent Generation of Semi-structured Documents from Semantic Templates
    in the Public Administration Domain")节描述了当前的研究现状。第[3](https://arxiv.org/html/2402.14871v1#S3
    "3 Proposed Approach ‣ LLM Based Multi-Agent Generation of Semi-structured Documents
    from Semantic Templates in the Public Administration Domain")节介绍了工作流和交互框架的描述。接下来，第[4](https://arxiv.org/html/2402.14871v1#S4
    "4 Experimental Evaluation ‣ LLM Based Multi-Agent Generation of Semi-structured
    Documents from Semantic Templates in the Public Administration Domain")节展示了提示优化过程。最后，第[5](https://arxiv.org/html/2402.14871v1#S5
    "5 Conclusions ‣ 4.4 Prompt-engineered results ‣ 4.3 Content Generation Agent
    ‣ 4.1 Semantics Identification Agent ‣ 4 Experimental Evaluation ‣ LLM Based Multi-Agent
    Generation of Semi-structured Documents from Semantic Templates in the Public
    Administration Domain")节得出结论。
- en: 2 Related Work
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2 相关工作
- en: Since their release to the public, Large Language Models (LLMs) have shown great
    potential for a wide range of daily tasks [[10](https://arxiv.org/html/2402.14871v1#bib.bib10)].
    In particular, their capabilities in document editing and generation use-cases
    offer great potential for their successful application to the PA domain. Most
    LLMs have shown greater performance in zero-shot [[5](https://arxiv.org/html/2402.14871v1#bib.bib5)]
    and in particular few-shot[[4](https://arxiv.org/html/2402.14871v1#bib.bib4)]
    tasks, where examples of acceptable results are provided along with the instructions
    for the task to be executed.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 自从公开发布以来，大型语言模型（LLMs）在各种日常任务中展示了巨大的潜力[[10](https://arxiv.org/html/2402.14871v1#bib.bib10)]。特别是在文档编辑和生成的应用场景中，它们的能力为其在公共管理领域的成功应用提供了巨大的潜力。大多数LLMs在零-shot[[5](https://arxiv.org/html/2402.14871v1#bib.bib5)]，尤其是few-shot[[4](https://arxiv.org/html/2402.14871v1#bib.bib4)]任务中表现更好，在这些任务中，提供了可接受结果的示例，并附带执行任务的指令。
- en: It has been shown that better results can be obtained by applying guidelines
    for prompt engineering [[16](https://arxiv.org/html/2402.14871v1#bib.bib16)].
    Usually, when a human is involved, the prompt refinement becomes a trial-and-error
    process, by improving the final result by incremental changes to the initial prompt,
    based on the generated output.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 研究表明，通过应用提示工程的指导方针，可以获得更好的结果[[16](https://arxiv.org/html/2402.14871v1#bib.bib16)]。通常，当涉及到人为因素时，提示优化过程变成了一种试错过程，通过对初始提示进行逐步改进，根据生成的输出优化最终结果。
- en: Prompt engineering proved to be a crucial step both for the average and advanced
    users in applications of LLMs to the production of semi-structured documents,
    where the original structure requires subsequent adaptations through a trial-and-error
    process. Through prompt engineering, it is possible to improve the quality of
    the output obtained and especially its compliance with contextual specifications
    regarding the required content and style. For this reason, the main challenge
    of allowing PA entities to successfully integrate LLMs in their workflows is to
    enable the inexperienced user to create efficient prompts and to minimize the
    time spent improving the task description provided as a prompt to the Large Language
    Model.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 提示工程被证明是应用LLM生成半结构化文档中的关键步骤，无论是对普通用户还是高级用户而言。在这种应用中，原始结构需要通过试错过程进行后续的适应。通过提示工程，可以提高输出结果的质量，特别是在符合关于所需内容和风格的上下文规范方面。因此，公共管理实体成功将LLMs集成到其工作流程中的主要挑战之一是帮助缺乏经验的用户创建有效的提示，并尽量减少改进任务描述所花费的时间。
- en: As a trade-off for their versatility, LLMs incur in the problem of hallucination,
    causing results to be skewed and inaccurate or biased with respect to the original
    requests, especially with longer context windows. In the document generation task,
    especially for the generation of longer documents, prompts might tend to be long
    and rich in information, with the risk of causing hallucinations.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 作为其多功能性的权衡，LLMs会遇到幻觉问题，导致结果相对于原始请求产生偏差、不准确或带有偏见，尤其是在较长的上下文窗口中。在文档生成任务中，尤其是生成较长文档时，提示可能会变得很长且信息丰富，从而增加产生幻觉的风险。
- en: 2.1 LLMs in the PA Domain
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1 LLMs在公共行政领域的应用
- en: The integration of Large Language Models (LLMs) in automating document generation
    processes, particularly in the domain of PA, has seen significant interest due
    to the amount of document manipulation required in this domain. Some works are
    helping in information extraction from those documents, for example, when dealing
    with extracting and classifying relations from tenders of the PA [[12](https://arxiv.org/html/2402.14871v1#bib.bib12)].
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在自动化文档生成过程中，特别是在公共行政（PA）领域中，集成大型语言模型（LLMs）引起了广泛关注，因为该领域需要大量文档操作。一些研究正在帮助从这些文档中提取信息，例如，处理从公共行政招标文件中提取和分类关系的工作[[12](https://arxiv.org/html/2402.14871v1#bib.bib12)]。
- en: Prior studies are nowadays predominantly focused on leveraging LLMs for structured
    data extraction, text summarization, and content customization [[7](https://arxiv.org/html/2402.14871v1#bib.bib7)]
    to enhance administrative efficiency and user engagement. Prompt engineering has
    shown relevant results in improving the LLM’s generation capabilities[[16](https://arxiv.org/html/2402.14871v1#bib.bib16)],
    and, with guiding principles, LLMs can meet requirements and allow for enhanced
    quality in response [[1](https://arxiv.org/html/2402.14871v1#bib.bib1)].
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 目前的前期研究主要集中在利用LLMs进行结构化数据提取、文本摘要和内容定制[[7](https://arxiv.org/html/2402.14871v1#bib.bib7)]，以提高行政效率和用户参与度。提示工程在提高LLM生成能力方面取得了相关成果[[16](https://arxiv.org/html/2402.14871v1#bib.bib16)]，并且，通过指导原则，LLMs可以满足要求并提升响应质量[[1](https://arxiv.org/html/2402.14871v1#bib.bib1)]。
- en: An approach for information extraction for unstructured documents is presented
    in [[9](https://arxiv.org/html/2402.14871v1#bib.bib9)], where an embedding-based
    retrieval system with LLM is used for effective agriculture information extraction
    from unstructured data. The system features an embedding-based retrieval system
    along with LLM question-answering to automatically extract entities and attributes
    from the documents, and transform them into structured data.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 一种针对非结构化文档的信息提取方法在[[9](https://arxiv.org/html/2402.14871v1#bib.bib9)]中提出，该方法利用基于嵌入的检索系统与LLM结合，有效地从非结构化数据中提取农业信息。该系统特点是结合了基于嵌入的检索系统和LLM问答功能，能够自动从文档中提取实体和属性，并将其转化为结构化数据。
- en: When dealing with novel documents, also Retrieval-augmented generation (RAG)
    approaches allow large language models (LLM) to retrieve relevant knowledge, showing
    promising potential in mitigating LLM hallucinations and enhancing response quality,
    and, chance, facilitating the adoption of LLMs in practice [[2](https://arxiv.org/html/2402.14871v1#bib.bib2)].
    However, existing RAG systems are often inadequate in answering multi-hop queries,
    which require retrieving and reasoning over iteratively. An improvement of this
    technology has been proposed in [[14](https://arxiv.org/html/2402.14871v1#bib.bib14)]
    where multi-hop reasoning steps are introduced in the RAG system.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理新型文档时，检索增强生成（RAG）方法也允许大型语言模型（LLM）检索相关知识，显示出在缓解LLM幻觉并提升响应质量方面的良好潜力，同时，也有助于促进LLM在实践中的应用[[2](https://arxiv.org/html/2402.14871v1#bib.bib2)]。然而，现有的RAG系统在回答多跳查询时往往存在不足，因为这类查询需要反复检索和推理。在[[14](https://arxiv.org/html/2402.14871v1#bib.bib14)]中提出了这项技术的改进，通过引入多跳推理步骤，增强了RAG系统的能力。
- en: The difficulties are even more common when dealing with the application of LLMs
    in generating semi-structured documents from semantically similar examples. This
    remains relatively unsolved and they still struggle with tasks that require generating
    complex, structured outputs [[13](https://arxiv.org/html/2402.14871v1#bib.bib13)].
    This gap is primarily due to the inherent complexity of semi-structured documents,
    which defy conventional template-based approaches. Several approaches have been
    proposed to handle them. A notable example is represented by [[15](https://arxiv.org/html/2402.14871v1#bib.bib15)],
    where Chain-Of-Thought is presented as a series of intermediate reasoning steps
    that significantly improve the ability of large language models to perform complex
    reasoning. In particular, it is shown how such reasoning abilities emerge naturally
    in sufficiently large language models.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理从语义相似的示例生成半结构化文档时，困难尤为常见。这个问题仍然相对未得到解决，它们依然在需要生成复杂、结构化输出的任务上遇到困难[[13](https://arxiv.org/html/2402.14871v1#bib.bib13)]。这一差距主要源于半结构化文档本身的复杂性，这种复杂性使得传统的基于模板的方法无法应对。为了解决这个问题，已经提出了几种方法。其中一个值得注意的例子是[[15](https://arxiv.org/html/2402.14871v1#bib.bib15)]，在该方法中，链式思维（Chain-Of-Thought）被提出作为一系列中间推理步骤，显著提升了大规模语言模型进行复杂推理的能力。特别地，研究表明，足够大的语言模型可以自然地展现出这种推理能力。
- en: A closer step in the generation of semi-structured documents is represented
    by the Directional Stimulus Prompting Technology [[8](https://arxiv.org/html/2402.14871v1#bib.bib8)],
    where the LLM output is conditioned to generate desired outcomes, such as including
    specific keywords. The research on semantic understanding and context-aware generation
    provides foundational insights but stops short of addressing the specific challenges
    posed by semi-structured documents in PA.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在生成半结构化文档的过程中，一个更紧密的步骤是通过定向刺激提示技术（Directional Stimulus Prompting Technology）[[8](https://arxiv.org/html/2402.14871v1#bib.bib8)]，该技术使得LLM输出能够在特定条件下生成期望的结果，例如包含特定关键词。关于语义理解和上下文感知生成的研究提供了基础性的见解，但未能解决公共行政领域中半结构化文档所带来的特定挑战。
- en: Furthermore, the Artificial Intelligence as a Service (’AIaaS’) trend [[3](https://arxiv.org/html/2402.14871v1#bib.bib3)]
    is going to play a growing role in society’s technological infrastructure, enabling,
    facilitating, and underpinning functionality in many applications. AIaaS providers
    therefore hold significant power at this infrastructural level and with the upcoming
    legislations in Europe, their role can easily be diffused in the workflow of the
    public offices. The AIaaS approach aligns also with our proposed multi-agent approach
    in document generation tasks. The multi-agent approach has been demonstrated to
    improve problem-solving in overcoming the limitations of individual models [[11](https://arxiv.org/html/2402.14871v1#bib.bib11)].
    In the PA domain, this distributed approach offers modularity and scalability,
    potentially suitable for handling various document types and complexities within
    PA settings.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，人工智能即服务（AIaaS）趋势[[3](https://arxiv.org/html/2402.14871v1#bib.bib3)]将在社会技术基础设施中发挥越来越重要的作用，推动、促进并支撑许多应用的功能。因此，AIaaS提供商在这一基础设施层面拥有重要的影响力，并且随着即将出台的欧洲立法，他们的角色很容易渗透到公共部门的工作流程中。AIaaS方法也与我们提出的文档生成任务中的多代理方法相一致。多代理方法已被证明能够改善问题解决，克服单一模型的局限性[[11](https://arxiv.org/html/2402.14871v1#bib.bib11)]。在公共行政领域，这种分布式方法提供了模块化和可扩展性，可能适用于处理公共行政环境中的各种文档类型和复杂性。
- en: In summary, while the literature provides valuable perspectives on the capabilities
    and applications of LLMs in various contexts, our work contributes a novel methodology
    and interaction framework for the LLM-assisted semi-structured document generation
    in PA, including multi-agent assistance in document generation and paving the
    way for further innovation and exploration in this domain.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，尽管文献提供了关于LLMs在各种背景下的能力和应用的宝贵视角，但我们的工作为LLM辅助的半结构化文档生成提供了一种新的方法论和交互框架，包括在文档生成中引入多代理协助，并为该领域进一步创新和探索铺平了道路。
- en: 3 Proposed Approach
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3 提出的方法
- en: The usual interaction model between an LLM and an inexperienced user for document
    generation features a trial-and-error process, aimed at refining the prompt until
    a satisfying result is reached. Longer prompts are required for longer documents,
    making it even more difficult to obtain a satisfying result. Moreover, in detail-rich
    documents, the performance of LLM agents is bound to decrease when document generation
    requires many tasks to be completed.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，LLM与没有经验的用户之间的文档生成交互模型采用试错过程，目的是不断调整提示，直到获得满意的结果。较长的文档需要更长的提示，这使得获得满意结果更加困难。此外，在内容丰富的文档中，当文档生成需要完成许多任务时，LLM代理的表现必然会下降。
- en: Given the requirement for user supervision in a trial-and-error process, we
    propose a different workflow aimed at minimizing user intervention. The proposed
    process, iterative in nature, follows the overall structure of a document template,
    which can be extracted from a pre-existing template document provided by the user
    as input.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于在试错过程中需要用户监督，我们提出了一种不同的工作流，旨在尽量减少用户干预。该过程具有迭代性质，遵循文档模板的整体结构，模板可以从用户提供的现有模板文档中提取。
- en: The user is allowed to provide an initial prompt to describe the overall expected
    result. The initial prompt is then refined throughout iterations, to hold all
    the missing data required to generate the document, accumulating in the original
    prompt the outcomes of user interventions whenever requested by the agents. The
    *accumulated prompt* will serve as a data source throughout the document generation
    steps. Following the structure of the template document, the output document is
    then generated section-by-section, in reading order.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 用户可以提供一个初始提示，描述整体预期结果。然后，在迭代过程中，初始提示会不断被优化，以包含生成文档所需的所有缺失数据，积累用户干预的结果，并在代理要求时将这些结果添加到原始提示中。*累积提示*将作为整个文档生成过程中的数据来源。根据模板文档的结构，输出文档将按阅读顺序逐节生成。
- en: During the generic generation step, LLM agents are interrogated to solve fine-grained
    tasks depending on the availability of the information required to generate semantically
    suitable content for the current section, according to the semantics provided
    in the corresponding section in the template document. Each agent is instructed
    with a previously engineered prompt, describing its task, which is then completed
    by context-dependent information, depending on the semantics of the current section
    and the data extracted from the *accumulated prompt*.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在通用生成步骤中，LLM代理根据生成当前部分所需的语义合适内容所需的信息可用性，被询问解决精细任务。每个代理都被指示使用一个先前设计好的提示，描述其任务，然后根据当前部分的语义和从*累积提示*中提取的数据，补充上下文依赖的信息。
- en: The multi-agent framework allows specializing agents as much as necessary to
    prevent hallucinations, in sections where available contextual pieces of information
    are prone to provide undesired results (like what could happen in case the provided
    context is very short or the text is very schematic). Post-processing may be applied
    to improve the results, especially if a schematic output is expected, by explicitly
    asking the LLM agents to return specific tokens in case some conditions are met,
    as a way to force them to not hallucinate and comply with their role in the workflow.
    Detecting these tokens in the output may help in managing limit cases that would
    otherwise disrupt the workflow, improving the overall system robustness.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 多代理框架允许根据需要对代理进行专门化，以防止在某些段落中可用的上下文信息片段提供不期望的结果（例如，如果提供的上下文非常简短或文本非常简略时可能发生的情况）。可以应用后处理以改善结果，尤其是在期望简略输出的情况下，通过明确要求LLM代理在满足某些条件时返回特定的标记，以强迫它们不进行幻觉生成，并遵守它们在工作流中的角色。在输出中检测这些标记可能有助于管理可能会破坏工作流的极限情况，从而提高整个系统的鲁棒性。
- en: 'User intervention is required only in case the pieces of information retrievable
    from the *accumulated prompt* are not enough to comply with the semantics of the
    current document section, so the frequency of user intervention depends on the
    quality of the initial prompt. The advantage of this approach is that the *accumulated
    prompt* is used only as a data source: in this way, the agent tasked with extracting
    data from the prompt is less prone to hallucinate when the user prompt is not
    complete or clear. After user intervention, the new data provided by the user
    is added to the *accumulated prompt*, to be stored for future retrievals.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 只有当从*已积累的提示*中提取的信息不足以满足当前文档部分的语义要求时，才需要用户干预，因此，用户干预的频率取决于初始提示的质量。这种方法的优点是，*已积累的提示*仅作为数据源使用：这样，负责从提示中提取数据的代理在用户提示不完整或不明确时，更不容易产生幻觉。用户干预后，用户提供的新数据将添加到*已积累的提示*中，供未来提取使用。
- en: '![Refer to caption](img/3ba1879e60459137ef63c9129559ac93.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![参见标题说明](img/3ba1879e60459137ef63c9129559ac93.png)'
- en: 'Figure 2: Representation of our multi-agent architecture. The workflow for
    the generic generation step is highlighted by the bold black arrows.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图2：我们多代理架构的表示。通用生成步骤的工作流通过粗体黑色箭头突出显示。
- en: To ensure flexibility in the emulation of the original document template, the
    user is allowed to optionally skip the generation of a document section at any
    time, leaving the accumulated prompt unaltered. A representation of the workflow
    obtained according to this interaction model is shown in Fig. [2](https://arxiv.org/html/2402.14871v1#S3.F2
    "Figure 2 ‣ 3 Proposed Approach ‣ LLM Based Multi-Agent Generation of Semi-structured
    Documents from Semantic Templates in the Public Administration Domain").
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保在模拟原始文档模板时的灵活性，用户可以选择性地跳过文档某一部分的生成，保持已积累的提示不变。根据这种交互模型获得的工作流表示如图[2](https://arxiv.org/html/2402.14871v1#S3.F2
    "图 2 ‣ 3 提议方法 ‣ 基于大语言模型的多代理生成半结构化文档的公共行政领域语义模板")所示。
- en: Although our work focuses on the components atomically necessary to generate
    a document section-by-section, the presented interaction model allows the integration
    of additional agents to manage different aspects of document editing, depending
    on the level of structuring of the document and the level of expertise required
    by the specific task assigned to the agent.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们的工作专注于逐部分生成文档所必需的组件，但所提出的交互模型允许集成额外的代理，以管理文档编辑的不同方面，具体取决于文档的结构化程度和特定任务所需的专业技能。
- en: 3.1 Template Pre-processing
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.1 模板预处理
- en: The document structure can be extracted on a format-dependent basis, using pre-existing
    tools. In our case, we used a REST API interface for cloud-based processing using
    the Adobe Extraction API¹¹1[https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/](https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/),
    to extract bounding boxes and contents from figures, text blocks, and tables in
    the document. It is not important to deduce the field semantics at this stage
    as we only need structural cues for the next steps.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 可以根据格式依赖的方式，使用现有工具提取文档结构。在我们的案例中，我们使用了一个REST API接口，通过云端处理，利用Adobe Extraction
    API¹¹1[https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/](https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/)从文档中的图形、文本块和表格中提取边界框和内容。在此阶段推导字段语义并不重要，因为我们只需要结构线索来进行下一步操作。
- en: 3.2 Multi-agent Interaction
  id: totrans-54
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2 多代理交互
- en: The user is invited to provide an initial prompt giving an overall description
    and directives for the generated document, such as more general qualities like
    style or tone of the text or more specific information and data necessary for
    document generation. It is possible to leave the initial prompt empty, in which
    case the maximum level of user intervention will be required throughout the generation
    process.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 用户被邀请提供一个初始提示，概述生成文档的整体描述和指令，例如文本的风格或语气等更一般的特征，或生成文档所需的更具体的信息和数据。也可以将初始提示留空，在这种情况下，整个生成过程将需要用户的最大程度干预。
- en: 'The current workflow features a set of three LLM-based agents, each corresponding
    to a phase of the generic content generation step for a single document section,
    in order: *Section Semantics Identification*, *Information Retrieval*, *Content
    Generation*.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 当前的工作流程包括一组基于大型语言模型（LLM）的三个代理，每个代理对应单个文档章节通用内容生成步骤中的一个阶段，依次为：*章节语义识别*、*信息检索*、*内容生成*。
- en: The *Section Semantics Identification* step is aimed at identifying the semantics
    of the current section from the document template. In case the template section
    contains tokens that need to be replaced in the current document section, which
    can appear as placeholders, such as "Name", "Surname", "Birthday", "City" or explicitly
    already populated with data, such as "John", "Doe", "01/01/1970", "Washington",
    the usual Natural Language Processing pipeline to perform Entity recognition and
    Semantic parsing on a sentence would generally require performing several preliminary
    tasks such as Part-of-Speech tagging, Named Entity Recognition, Relationship Extraction,
    before the actual semantic tagging of tokens, to build a semantic representation
    of the sentence good enough to extract the tokens of interest correctly. Using
    LLMs for this task allows instead exploiting their Commonsense Knowledge [[6](https://arxiv.org/html/2402.14871v1#bib.bib6)].
    This step is therefore managed by the first LLM agent, the *Semantics Identification
    agent*, which autonomously identifies the semantics of the current section from
    the template document, identifying replaceable data in the provided template section.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '*章节语义识别*步骤旨在从文档模板中识别当前章节的语义。如果模板章节包含需要在当前文档章节中替换的标记，这些标记可能以占位符的形式出现，如“姓名”、“姓氏”、“生日”、“城市”，或已经明确填写了数据，如“约翰”、“杜”、“1970年1月1日”、“华盛顿”，通常的自然语言处理流程要执行几个预处理任务，如词性标注、命名实体识别、关系抽取，然后才进行实际的语义标记，以构建一个足够好的语义表示，从而正确提取感兴趣的标记。使用LLM进行此任务，则可以利用它们的常识知识[[6](https://arxiv.org/html/2402.14871v1#bib.bib6)]。因此，这个步骤由第一个LLM代理，*语义识别代理*管理，它会自主地从模板文档中识别当前章节的语义，并识别提供的模板章节中的可替换数据。'
- en: The agent output is a list of directives and instructions on how to reproduce
    the semantics of the corresponding template, whenever the text allows deducing
    it, serving as instructions for the *Content Generation* phase, along with a list
    of identified replaceable data. In case the semantics of any of such data are
    identified, the list of instructions will contain directives on how to add them
    to the text generated for the corresponding section in the output document. Using
    only a schematic representation of the semantics as an output causes a degradation
    in the quality of the generated content downstream, therefore the instructions
    provided by the agent are discursive and verbose. The output of this phase will
    be provided to the *Information Retrieval agent*, to identify data required in
    the current section, and the *Content Generation agent*, enabling it to reconstruct
    the semantics of this template section in the output document.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 代理的输出是一系列指令和说明，描述如何重现相应模板的语义，只要文本中可以推断出这些语义，这些指令作为*内容生成*阶段的指南，并附带一个已识别的可替换数据列表。如果识别出这些数据的语义，指令列表将包含如何将它们添加到输出文档中相应章节生成文本的指令。仅使用语义的示意图作为输出会导致下游生成内容质量下降，因此代理提供的指令是有讨论性和冗长的。该阶段的输出将提供给*信息检索代理*，以识别当前章节所需的数据，并提供给*内容生成代理*，使其能够在输出文档中重建该模板章节的语义。
- en: It should be noted that the list of replaceable data might contain data that
    is already available in the accumulated user prompt as well as missing data. For
    this reason, the second phase, destined to *Information Retrieval*, is aimed at
    using the available information to retrieve the data specifically required by
    the current document section, according to the semantic cues previously extracted.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，可替换数据列表可能包含在累计的用户提示中已有的数据以及缺失的数据。因此，第二阶段，旨在进行*信息检索*，目的是使用现有信息，根据先前提取的语义线索，检索当前文档章节中特定需要的数据。
- en: The second agent, the *Information Retrieval agent*, is specialized in extracting
    the required information from the accumulated prompt, which at the first step
    coincides with the initial prompt, and determining which data could not be retrieved.
    In case it is not possible to find all the required data (according to the instructions
    from the *Semantics Identification agent*), user intervention is required, to
    specify through a textual prompt the actual replacement values for the missing
    data. The result of this interaction is added to the *accumulated prompt*, to
    be used by the *Content Generation agent* as a data source, or to be stored for
    the *Information Retrieval* phase of later iterations. Therefore, if the user
    decides not to specify some information, they will not be integrated into the
    result and will be ignored in the output content.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个代理，*信息检索代理*，专门从累积提示中提取所需信息，在第一步时它与初始提示一致，并确定无法检索到的数据。如果无法找到所有所需的数据（根据*语义识别代理*的指示），则需要用户干预，通过文本提示指定缺失数据的实际替换值。这次交互的结果会添加到*累积提示*中，供*内容生成代理*作为数据源使用，或在后续迭代的*信息检索*阶段存储。因此，如果用户决定不指定某些信息，它们将不会被集成到结果中，并且在输出内容中会被忽略。
- en: As a last step, during the *Content Generation* phase, the *Content Generation
    agent* is therefore instructed to generate the textual content for the current
    document section, using the *accumulated prompt*, now enriched with the required
    information, and the instructions coming from the *Semantics Identification agent*.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步，在*内容生成*阶段，*内容生成代理*因此被指示生成当前文档部分的文本内容，使用*累积提示*，现在已通过所需的信息和来自*语义识别代理*的指示进行了丰富。
- en: '![Refer to caption](img/4d301e4c071ea427a539f2a981394341.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![参见标题说明](img/4d301e4c071ea427a539f2a981394341.png)'
- en: 'Figure 3: Representation of a generation step instance. Notice how the *accumulated
    prompt* is enriched with the missing data provided by the user.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 图3：一个生成步骤实例的表示。注意如何通过用户提供的缺失数据丰富*累积提示*。
- en: At the end, both an output document and a refined prompt are obtained. In particular,
    the refined prompt will contain all the missing data identified throughout the
    generation process. An example of a workflow instance is shown in Fig. [3](https://arxiv.org/html/2402.14871v1#S3.F3
    "Figure 3 ‣ 3.2 Multi-agent Interaction ‣ 3 Proposed Approach ‣ LLM Based Multi-Agent
    Generation of Semi-structured Documents from Semantic Templates in the Public
    Administration Domain").
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，将获得一个输出文档和一个改进的提示。特别是，改进的提示将包含在整个生成过程中识别的所有缺失数据。一个工作流实例的示例见图[3](https://arxiv.org/html/2402.14871v1#S3.F3
    "图3 ‣ 3.2 多代理交互 ‣ 3 提议方法 ‣ 基于LLM的多代理生成来自公共行政领域语义模板的半结构化文档")。
- en: 3.3 Document Post-processing
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.3 文档后处理
- en: During the document generation, only text content is processed, while the same
    structure of the original template document is used, including figures and other
    graphical elements, which can be skipped by the user during the generation process
    to avoid including them. Thanks to the modularity of this framework, additional
    agents can be added to improve the graphical appearance and improve its dependence
    on the context and the semantics of the user requirements, and additional processing
    steps can be added downstream to improve the graphical appearance of the result
    (for example by generating context-dependent images) but this is outside of the
    scope of the current work.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在文档生成过程中，仅处理文本内容，同时使用原始模板文档的相同结构，包括图形和其他图形元素，用户可以在生成过程中跳过这些元素，以避免将它们包含在内。得益于该框架的模块化，用户可以添加额外的代理来改善图形外观，并提高其对上下文和用户需求语义的依赖性，还可以在后续处理步骤中添加更多操作，以改善结果的图形外观（例如生成上下文依赖的图像），但这些超出了当前工作的范围。
- en: 4 Experimental Evaluation
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4 实验评估
- en: Agents were built using the latest OpenAI *GPT 3.5 Turbo* model (*gpt-3.5-turbo-1106*)
    with a context window of 16,385 tokens and a maximum of 4,096 output tokens.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 这些代理是使用最新的OpenAI *GPT 3.5 Turbo*模型（*gpt-3.5-turbo-1106*）构建的，具有16,385个令牌的上下文窗口和最多4,096个输出令牌。
- en: '| Prompt engineering for the Semantics Identification Agent |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| 语义识别代理的提示工程 |'
- en: '| --- |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| --- |'
- en: '| Template text: *Your Name* |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| 模板文本：*您的名字* |'
- en: '| Agent task | Agent answer |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| 代理任务 | 代理回答 |'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. | [Your
    Name] [Your Address]'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '| 你是一个助手，帮助理解模板文档的结构内容。请回应文档中可能写入的内容。| [你的名字] [你的地址] |'
- en: '[City, State, Zip Code]'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '[城市，州，邮政编码]'
- en: '[Email Address]'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '[电子邮件地址]'
- en: '[Phone Number] |'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '[电话号码] |'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. Give
    just the action to do. | Fill in your full legal name. |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| 你是一个助手，帮助理解模板文档的结构内容。请回应文档中可能写入的内容。仅提供需要执行的操作。| 填写你的全名。 |'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. Give
    just the action to do. For example, if you read "Location", the output will be
    "Add the location"; if you read "Dear Someone", the output will be "Add salutation".
    | Add your full name |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| 你是一个助手，帮助理解模板文档的结构内容。请回应文档中可能写入的内容。仅提供需要执行的操作。例如，如果你看到“Location”，输出将是“添加位置”；如果看到“Dear
    Someone”，输出将是“添加称呼”。| 添加你的全名 |'
- en: 'Table 1: Agent task prompt refinement for Semantics Identification Agent, with
    template text "*Your name*"'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 表1：语义识别代理的任务提示优化，模板文本为“*你的名字*”
- en: .
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 。
- en: Experiments are aimed at designing an effective prompt for each agent, by performing
    a trial-and-error process to obtain a correct and contextually appropriate response
    from the LLMs.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 实验旨在通过进行试错过程，为每个代理设计有效的提示，以从大型语言模型（LLMs）中获得正确且符合上下文的响应。
- en: The evaluation process tests the agents’ ability to understand the assigned
    tasks, fine-tuning each agent’s ability to conform to the expected outputs, given
    their specific role in the generation workflow.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 评估过程测试代理理解分配任务的能力，微调每个代理的能力，使其能够符合预期输出，基于其在生成工作流程中的具体角色。
- en: The process of crafting an effective prompt that maximizes conformity of the
    output of a Large Language Model to the original requirements has the potential
    to dramatically improve the quality of the generated output, especially when this
    output is used in an intermediate step of a processing pipeline. The baseline
    version of the prompt point is obtained by following general prompt engineering
    guidelines [[16](https://arxiv.org/html/2402.14871v1#bib.bib16)], the most important
    one consisting of writing in a clear and imperative tone the task assignment for
    the LLM. Starting from the baseline and analyzing the response, it is then possible
    to refine the prompt in incremental steps, by adding instructions to force the
    model toward a more desirable output.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 精心设计有效的提示，以最大限度地提高大型语言模型输出与原始要求的一致性，有可能显著提高生成输出的质量，尤其是当该输出用于处理流程中的中间步骤时。提示点的基线版本是通过遵循通用的提示工程准则[[16](https://arxiv.org/html/2402.14871v1#bib.bib16)]获得的，最重要的准则之一是用清晰、命令的语气写出任务分配给大型语言模型（LLM）。从基线开始并分析响应后，便可以通过逐步增加指令来改进提示，迫使模型生成更理想的输出。
- en: The most important undesirable behavior to keep under control is the chance
    for hallucination, which in this case can alter the data in the generated content
    and therefore provide false and unsatisfying textual content for the document
    section being generated.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 最重要的需要控制的不良行为是产生幻觉的可能性，在这种情况下可能会改变生成内容中的数据，从而为文档生成的部分提供虚假和不令人满意的文本内容。
- en: 'Each prompt consists of two components: a "*system prompt*" containing the
    pre-assigned instructions used to inform the agent of its specific task, instructing
    it with its role and the guidelines for the generation of its output, and a "*context-specific
    prompt*", which contains the actual context-specific text for the current instance
    of the agent’s task.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 每个提示包含两个部分：“*系统提示*”，它包含用于通知代理其具体任务的预设指令，指导其角色和生成输出的准则；以及“*特定上下文提示*”，它包含当前实例任务的实际上下文文本。
- en: Obtaining a robustly engineered prompt requires careful tuning, considering
    the variety of possible inputs in a semi-structured document. On one hand, very
    schematic text consisting of single entities (such as "First name", "Last name"
    and other specific data) poses a challenge and requires more carefully engineered
    prompts. On the other hand, output should still be desirable in the case of less
    schematic, more discursive sections. The generic input for the generation step,
    which will be forwarded to the *Semantics identification agent*, is the textual
    content of the currently processed template document section, which is necessary
    to obtain semantic cues about the desired output text.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 获取强健设计的提示需要精心调整，考虑到半结构化文档中可能出现的各种输入。一方面，由单一实体组成的非常图式化的文本（如“名字”，“姓氏”和其他特定数据）构成挑战，需要更精心设计的提示。另一方面，即使在较少图式化、更具讨论性的部分，输出仍应是期望的。生成步骤的通用输入，即将传递给*语义识别代理*的，是当前处理的模板文档部分的文本内容，必要的目的是获得关于所需输出文本的语义提示。
- en: The output of the generation step coincides with the output from the *Content
    generation agent*.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 生成步骤的输出与*内容生成代理*的输出相一致。
- en: 4.1 Semantics Identification Agent
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.1 语义识别代理
- en: The *Semantics Identification agent* is tasked with producing a discursive and
    fluent explanation of the semantics of the current document section and most importantly
    of the instructions and directives for the generation of the content to be included
    in the output document, based on the expected semantics. To avoid hallucinations
    it is extremely important to have a non-schematic and unspecific description of
    the semantics of the current document section.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '*语义识别代理*的任务是基于预期语义，生成对当前文档部分的语义以及生成内容的指令和要求的流畅解释。为了避免出现误导性信息，极其重要的是对当前文档部分的语义进行非图式化和不具体的描述。'
- en: We show the prompt engineering process based on the answers of the same agent
    to different *system prompts*, progressively refined in incremental steps, for
    different template texts, in order of increasing verbosity of the *context-specific
    prompt* (therefore in decreasing order of schematism).
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们展示了基于同一代理对不同*系统提示*的回答进行提示工程的过程，逐步通过递增步骤进行精炼，适用于不同的模板文本，按照*上下文特定提示*的冗长程度递增（因此按图式化程度递减的顺序）。
- en: The first more schematic template text is "*Your name*", as could be found in
    any template document for a generic letter, in a field where the name of the user
    is required. The relevant results for this refinement process are provided in
    Tables [1](https://arxiv.org/html/2402.14871v1#S4.T1 "Table 1 ‣ 4 Experimental
    Evaluation ‣ LLM Based Multi-Agent Generation of Semi-structured Documents from
    Semantic Templates in the Public Administration Domain").
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个更具图式化的模板文本是“*您的名字*”，这种文本在任何通用信件模板中都可以找到，属于需要填写用户姓名的字段。该精炼过程的相关结果见表格[1](https://arxiv.org/html/2402.14871v1#S4.T1
    "表格1 ‣ 4 实验评估 ‣ 基于LLM的多代理半结构化文档生成：公共管理领域中的语义模板")。
- en: '| Prompt engineering for the Semantics Identification Agent |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| 语义识别代理的提示工程 |'
- en: '| --- |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| --- |'
- en: '| Template text: *Dear Mr./Ms. (Lastname):* |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| 模板文本: *亲爱的（姓氏）先生/女士：* |'
- en: '| Agent task | Agent answer |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| 代理任务 | 代理回答 |'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. | I
    hope this message finds you well. I am writing to inform you about the upcoming
    meeting scheduled for (date) at (time) in (location). The purpose of this meeting
    is to discuss (agenda items). Your presence and input at this meeting are crucial,
    so please make every effort to attend. If you are unable to attend, please notify
    me as soon as possible. Thank you for your attention to this matter, and I look
    forward to seeing you at the meeting. |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| 您是一个助手，帮助理解模板文档的结构内容。请根据文档中可能写入的内容进行回复。 | 希望这条消息能找到您安好。我写信是为了通知您，定于（日期）在（时间）于（地点）举行的即将到来的会议。此次会议的目的是讨论（议程事项）。您的出席和参与对会议至关重要，请尽量参加。如您无法出席，请尽早通知我。感谢您对此事的关注，期待在会议中见到您。
    |'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. Give
    just the action to do. | Insert the recipient’s last name in the salutation. |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| 您是一个助手，帮助理解模板文档的结构内容。回应可能写入文档中的内容。仅给出要执行的动作。| 在称呼中插入收件人的姓氏。 |'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. Give
    just the action to do. For example, if you read "Location", the output will be
    "Add the location"; if you read "Dear Someone", the output will be "Add salutation".
    | Add salutation |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| 您是一个助手，帮助理解模板文档的结构内容。回应可能写入文档中的内容。仅给出要执行的动作。例如，如果您看到“Location”，输出将是“添加位置”；如果看到“Dear
    Someone”，输出将是“添加称呼”。| 添加称呼 |'
- en: 'Table 2: Agent task prompt refinement for Semantics Identification Agent, with
    template text "*Dear Mr./Ms. (Lastname):*".'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 表格 2：语义识别代理的任务提示优化，模板文本为“*亲爱的（姓氏）先生/女士：*”。
- en: The initial baseline version of the prompt describes the agent’s task without
    specifying that the output should contain instructions on how to reproduce the
    semantics of the provided template text. The agent response is heavily affected
    by hallucinations, answering with plausible text for a generic letter, without
    giving a generic description of its semantics, clearly missing its objective.
    From the analysis of the answer, it can be assumed that the agent misinterprets
    the request "*Respond with the content that could be written*" as a request to
    provide the actual content of the generated document.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 提示的初始基准版本描述了代理的任务，但并未说明输出应包含如何再现所提供模板文本语义的说明。代理的回应受到幻觉的强烈影响，给出的回答是针对一个通用信件的合理文本，而没有给出其语义的通用描述，显然没有达到其目标。从回答的分析来看，可以推测代理误解了请求“*回应可以写入的内容*”，将其理解为提供生成文档的实际内容。
- en: '| Prompt engineering for the Semantics Identification Agent |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| 语义识别代理的提示工程 |'
- en: '| --- |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| --- |'
- en: '| Template text: *First paragraphs : In your opening paragraph, concisely convey
    your enthusiasm for the role and the organization, while emphasizing your pertinent
    educational background. Aim to engage the reader’s interest, prompting them to
    delve deeper into your resume. This section serves as a preview, showcasing your
    qualifications and setting the stage for the detailed skills and experiences outlined
    in your resume. Highlight your top skills that align with the job requirements,
    and showcase your familiarity with the organization by mentioning specific aspects
    such as their mission, ongoing projects, or strategic objectives, linking them
    to how your abilities and interests can add value to their team.* |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| 模板文本：*第一段：在您的开头段落中，简明扼要地表达您对该职位和公司的热情，同时强调您相关的教育背景。旨在引起读者兴趣，促使他们深入阅读您的简历。此部分作为预览，展示您的资格，并为简历中列出的详细技能和经验奠定基础。突出您与职位要求相符的顶尖技能，并通过提及公司使命、正在进行的项目或战略目标等具体方面，展示您对公司的了解，将它们与您的能力和兴趣如何为他们的团队带来价值联系起来。*
    |'
- en: '| Agent task | Agent answer |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| 代理任务 | 代理回答 |'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. | Dear
    [Hiring Manager’s Name], I am writing to express my genuine enthusiasm for the
    [Job Title] position at [Organization Name]. With a strong educational background
    in [relevant field], I am confident in my ability to contribute to the success
    of your team. The innovative projects and strategic objectives of [Organization
    Name] resonate with my professional interests, and I am eager to bring my skills
    and expertise to support your mission. My top skills in [specific skills] and
    [specific skills] align closely |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| 您是一个助手，帮助理解模板文档的结构内容。回应可能写入文档中的内容。| 亲爱的[招聘经理姓名]，我写信是为了表达我对[职位名称]职位的真正热情。凭借在[相关领域]的扎实教育背景，我相信自己能够为您团队的成功做出贡献。[公司名称]的创新项目和战略目标与我的职业兴趣相契合，我渴望将我的技能和专业知识带到您的团队，支持贵组织的使命。我在[具体技能]和[具体技能]方面的顶尖技能与
    |'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. Give
    just the action to do. | Express enthusiasm for the role and the organization,
    emphasizing your educational background and top skills that align with the job
    requirements. Showcase your familiarity with the organization by mentioning specific
    aspects such as their mission, ongoing projects, or strategic objectives, and
    link them to how your abilities and interests can add value to their team. |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| 你是一个助手，帮助理解模板文档的结构内容。请回应文档中可能写入的内容，仅提供需要执行的操作。| 表达对角色和组织的热情，强调你的教育背景以及与你职位要求相符的顶级技能。展示你对组织的了解，提及其使命、正在进行的项目或战略目标，并将其与你的能力和兴趣如何为团队增值联系起来。|'
- en: '| You are an assistant helping to understand the structure content of a template
    document. Respond with the content that might be written in the document. Give
    just the action to do. For example, if you read "Location", the output will be
    "Add the location"; if you read "Dear Someone", the output will be "Add salutation".
    | Write an enthusiastic opening paragraph that emphasizes your relevant educational
    background and showcases your qualifications and skills that align with the job
    requirements. Mention specific aspects of the organization such as their mission,
    ongoing projects, or strategic objectives, and link them to how your abilities
    and interests can add value to their team. |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| 你是一个助手，帮助理解模板文档的结构内容。请回应文档中可能写入的内容，仅提供需要执行的操作。例如，如果你看到“Location”，输出将是“添加地点”；如果看到“Dear
    Someone”，输出将是“添加称呼”。| 写一段充满热情的开头段落，强调你相关的教育背景，并展示与你职位要求相符的资格和技能。提及组织的具体方面，如其使命、正在进行的项目或战略目标，并将其与你的能力和兴趣如何为团队增值联系起来。|'
- en: 'Table 3: Agent task prompt refinement for Semantics Identification Agent, with
    a long and very discursive template text.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 表 3：语义识别代理的任务提示优化，包含一个冗长且非常长篇的模板文本。
- en: '| Prompt Engineering for the Information retrieval Agent |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| 信息检索代理的提示工程 |'
- en: '| Accumulated prompt: "My name is John Doe, i want write a letter for Random
    University, i am a student in Computer Science" |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| 积累的提示：“我叫约翰·多伊，我想为随机大学写一封信，我是计算机科学专业的学生” |'
- en: The addition of a clear instruction "*Give just the action to do*" in the second
    version of the system prompt definition gives the agent a clear explanation on
    how to perform its task. This sentence is crucial to improve the conformity of
    the agent’s response to its original task, instructing it to provide a description
    of the action to perform to reproduce the semantics of the template section.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 第二版系统提示定义中增加的明确指令“*仅提供需要执行的操作*”为代理提供了清晰的任务执行说明。这句话对于提升代理响应与原始任务的一致性至关重要，指导其提供执行操作的描述，以重现模板部分的语义。
- en: The relevant results for template text "*Dear Mr./Ms.(Lastname)*" are provided
    in Table [2](https://arxiv.org/html/2402.14871v1#S4.T2 "Table 2 ‣ 4.1 Semantics
    Identification Agent ‣ 4 Experimental Evaluation ‣ LLM Based Multi-Agent Generation
    of Semi-structured Documents from Semantic Templates in the Public Administration
    Domain"). Here, the output to the second version of the prompt could be considered
    correct but it could be even more synthetic, considering that the optimal response
    would just be and instruction to "*Add a salutation*".
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 针对模板文本“*尊敬的先生/女士（姓氏）*”的相关结果见表 [2](https://arxiv.org/html/2402.14871v1#S4.T2
    "表 2 ‣ 4.1 语义识别代理 ‣ 4 实验评估 ‣ 基于LLM的多代理生成半结构化公共管理领域语义模板文档")。在此，第二版提示的输出可以视为正确，但它可以更为简洁，因为最优响应只需指令“*添加称呼*”。
- en: 'A particularly interesting study case consists of using the engineered prompt
    and providing a text without a semantic value, such as a placeholder text: Template
    text: *Lorem ipsum dolor sit amet, consectetur adipiscing elit…* The template
    text is the placeholder text ("*Lorem Ipsum …*") typically used to test graphical
    templates. The agent answer perfectly conforms to the prescribed task as this
    placeholder is usually found in the discursive sections of document templates:
    Agent Answer: *The missing information to satisfy the request is the content of
    the main body of the document.*'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 一个特别有趣的研究案例是使用经过设计的提示词，并提供没有语义意义的文本，例如占位符文本：模板文本：*Lorem ipsum dolor sit amet,
    consectetur adipiscing elit…* 该模板文本是通常用于测试图形模板的占位符文本（" *Lorem Ipsum …* "）。该代理的回答完美地符合规定的任务，因为这个占位符通常出现在文档模板的议论部分：代理回答：*满足请求所缺失的信息是文档正文的内容。*
