- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: 未分类'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 'category: 未分类'
- en: 'date: 2025-01-11 11:52:46'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 日期：2025-01-11 11:52:46
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: 'MedChain: Bridging the Gap Between LLM Agents and Clinical Practice through
    Interactive Sequential Benchmarking'
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MedChain：通过互动式顺序基准测试架起LLM代理与临床实践之间的桥梁
- en: 来源：[https://arxiv.org/html/2412.01605/](https://arxiv.org/html/2412.01605/)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 来源：[https://arxiv.org/html/2412.01605/](https://arxiv.org/html/2412.01605/)
- en: Jie Liu¹, Wenxuan Wang^(2∗), Zizhan Ma², Guolin Huang³, SU Yihang²,
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Jie Liu¹, Wenxuan Wang^(2∗), Zizhan Ma², Guolin Huang³, SU Yihang²,
- en: Kao-Jung Chang^(4,5), Wenting Chen¹, Haoliang Li¹, Linlin Shen³, Michael Lyu²
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: Kao-Jung Chang^(4,5), Wenting Chen¹, Haoliang Li¹, Linlin Shen³, Michael Lyu²
- en: ¹The City University of Hong Kong ²The Chinese University of Hong Kong
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ¹香港城市大学 ²香港中文大学
- en: ³Shenzhen University ⁴National Yang Ming Chiao Tung University
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ³深圳大学 ⁴国立阳明交通大学
- en: ⁵Taipei Veterans General Hospital
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ⁵台北荣民总医院
- en: 'Project: [https://github.com/ljwztc/MedChain](https://github.com/ljwztc/MedChain)
    J. Liu ($\spadesuit$$\clubsuit$$\diamondsuit$), W. Wang ($\heartsuit$$\clubsuit$)
    make equal contribution. $\spadesuit$: Conceptualization; $\heartsuit$: Implementation;
    $\clubsuit$: Writing; $\diamondsuit$: Visualization.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '项目：[https://github.com/ljwztc/MedChain](https://github.com/ljwztc/MedChain)
    J. Liu ($\spadesuit$$\clubsuit$$\diamondsuit$)，W. Wang ($\heartsuit$$\clubsuit$)
    作出同等贡献。$\spadesuit$: 概念化；$\heartsuit$: 实现；$\clubsuit$: 编写；$\diamondsuit$: 可视化。'
- en: Abstract
  id: totrans-12
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 摘要
- en: 'Clinical decision making (CDM) is a complex, dynamic process crucial to healthcare
    delivery, yet it remains a significant challenge for artificial intelligence systems.
    While Large Language Model (LLM)-based agents have been tested on general medical
    knowledge using licensing exams and knowledge question-answering tasks, their
    performance in the CDM in real-world scenarios is limited due to the lack of comprehensive
    testing datasets that mirror actual medical practice. To address this gap, we
    present MedChain, a dataset of 12,163 clinical cases that covers five key stages
    of clinical workflow. MedChain distinguishes itself from existing benchmarks with
    three key features of real-world clinical practice: personalization, interactivity,
    and sequentiality. Further, to tackle real-world CDM challenges, we also propose
    MedChain-Agent, an AI system that integrates a feedback mechanism and a MCase-RAG
    module to learn from previous cases and adapt its responses. MedChain-Agent demonstrates
    remarkable adaptability in gathering information dynamically and handling sequential
    clinical tasks, significantly outperforming existing approaches. The relevant
    dataset and code will be released upon acceptance of this paper.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 临床决策（CDM）是一个复杂且动态的过程，对于医疗服务至关重要，但它仍然是人工智能系统面临的重大挑战。虽然基于大规模语言模型（LLM）的代理已在使用执业考试和知识问答任务的通用医学知识上进行过测试，但由于缺乏能够反映实际医疗实践的全面测试数据集，它们在实际场景中的临床决策表现仍然有限。为了弥补这一空白，我们提出了MedChain，这是一个涵盖临床工作流五个关键阶段的12,163个临床病例数据集。MedChain通过三个反映现实临床实践的关键特性（个性化、互动性和顺序性）区别于现有基准。进一步地，为了应对现实世界中的临床决策挑战，我们还提出了MedChain-Agent，一个集成了反馈机制和MCase-RAG模块的人工智能系统，可以从先前的病例中学习并调整其应答。MedChain-Agent在动态收集信息和处理顺序临床任务方面表现出卓越的适应性，显著优于现有方法。相关数据集和代码将在本文接受后发布。
- en: 'MedChain: Bridging the Gap Between LLM Agents and Clinical Practice through
    Interactive Sequential Benchmarking'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: MedChain：通过互动式顺序基准测试架起LLM代理与临床实践之间的桥梁
- en: 'Jie Liu¹^†^†thanks: J. Liu ($\spadesuit$ $\clubsuit$ $\diamondsuit$), W. Wang
    ($\heartsuit$ $\clubsuit$) make equal contribution. $\spadesuit$: Conceptualization;
    $\heartsuit$: Implementation; $\clubsuit$: Writing; $\diamondsuit$: Visualization.,
    Wenxuan Wang^(2∗), Zizhan Ma², Guolin Huang³, SU Yihang², Kao-Jung Chang^(4,5),
    Wenting Chen¹, Haoliang Li¹, Linlin Shen³, Michael Lyu² ¹The City University of
    Hong Kong ²The Chinese University of Hong Kong ³Shenzhen University ⁴National
    Yang Ming Chiao Tung University ⁵Taipei Veterans General Hospital Project: [https://github.com/ljwztc/MedChain](https://github.com/ljwztc/MedChain)'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 'Jie Liu¹^†^†致谢：J. Liu ($\spadesuit$ $\clubsuit$ $\diamondsuit$)，W. Wang ($\heartsuit$
    $\clubsuit$) 作出同等贡献。$\spadesuit$: 概念化；$\heartsuit$: 实现；$\clubsuit$: 编写；$\diamondsuit$:
    可视化。, Wenxuan Wang^(2∗), Zizhan Ma², Guolin Huang³, SU Yihang², Kao-Jung Chang^(4,5),
    Wenting Chen¹, Haoliang Li¹, Linlin Shen³, Michael Lyu² ¹香港城市大学 ²香港中文大学 ³深圳大学
    ⁴国立阳明交通大学 ⁵台北荣民总医院 项目：[https://github.com/ljwztc/MedChain](https://github.com/ljwztc/MedChain)'
- en: 1 Introduction
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1 引言
- en: 'At the intersection of artificial intelligence and healthcare lies one of medicine’s
    most complex challenges: Clinical Decision Making (CDM). In healthcare delivery,
    CDM demands not only the synthesis of diverse data sources and continuous assessment
    of evolving clinical scenarios, but also evidence-based judgments for diagnosis
    and treatment Sutton et al. ([2020](https://arxiv.org/html/2412.01605v1#bib.bib32)).
    While crucial for optimal patient care, this intricate process imposes significant
    cognitive demands on healthcare professionals, making it an ideal candidate for
    AI assistance Sendak et al. ([2020](https://arxiv.org/html/2412.01605v1#bib.bib28)).'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 人工智能与医疗保健的交汇点是医学中最复杂的挑战之一：临床决策制定（CDM）。在医疗服务中，CDM不仅需要对多种数据来源进行综合，还需要不断评估变化的临床情境，同时进行基于证据的诊断和治疗判断Sutton
    等人（[2020](https://arxiv.org/html/2412.01605v1#bib.bib32)）。尽管对于优化患者护理至关重要，这一复杂过程对医疗专业人员的认知需求也很大，因而成为人工智能辅助的理想候选者Sendak
    等人（[2020](https://arxiv.org/html/2412.01605v1#bib.bib28)）。
- en: Recent advances in Large Language Model (LLM)-based agents OpenAI ([2023](https://arxiv.org/html/2412.01605v1#bib.bib22));
    Team et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib35)); Gu et al.
    ([2023](https://arxiv.org/html/2412.01605v1#bib.bib12)); Shinn et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib30));
    Guan et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib13)); [Zhuang et al.](https://arxiv.org/html/2412.01605v1#bib.bib49)
    have emerged as an effective solution for complex decision-making tasks, from
    software development Qian et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib25))
    to office automation Wang et al. ([2024c](https://arxiv.org/html/2412.01605v1#bib.bib41)).
    In the medical domain, these agents have demonstrated impressive performance on
    medical licensing exams Singhal et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib31));
    Pal et al. ([2022](https://arxiv.org/html/2412.01605v1#bib.bib23)) and knowledge-based
    assessments Gilson et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib10));
    Eriksen et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib7)). While LLMs
    have consistently scored well above passing thresholds in these assessments Singhal
    et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib31)), it is crucial
    to recognize that these assessments fall short of capturing the complexity of
    real-world CDM in three critical aspects.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 基于大语言模型（LLM）的代理在OpenAI的最新进展（[2023](https://arxiv.org/html/2412.01605v1#bib.bib22)）；Team
    等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib35)）；Gu 等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib12)）；Shinn
    等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib30)）；Guan 等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib13)）；[Zhuang
    等人](https://arxiv.org/html/2412.01605v1#bib.bib49)已经成为复杂决策任务的有效解决方案，从软件开发Qian
    等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib25)）到办公自动化Wang 等人（[2024c](https://arxiv.org/html/2412.01605v1#bib.bib41)）。在医学领域，这些代理在医学执照考试中展现了令人印象深刻的表现Singhal
    等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib31)）；Pal 等人（[2022](https://arxiv.org/html/2412.01605v1#bib.bib23)）和基于知识的评估Gilson
    等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib10)）；Eriksen 等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib7)）。尽管LLM在这些评估中的得分始终远超及格线Singhal
    等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib31)），但必须认识到，这些评估未能全面捕捉现实世界临床决策（CDM）的复杂性，主要体现在三个关键方面。
- en: Firstly, these benchmarks rarely account for patient-specific information such
    as past medical history and present illness Pal et al. ([2022](https://arxiv.org/html/2412.01605v1#bib.bib23)),
    which significantly influence clinical decisions in real clinical scenarios. This
    omission fails to capture the nuanced context that often shapes personalized diagnosis.
    Secondly, unlike real clinical scenarios where decisions build upon previous steps,
    existing benchmarks present clinical tasks as independent problems Schmidgall
    et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib27)), missing the critical
    interdependencies in the diagnostic process. In reality, clinical decision-making
    is a sequential process where each step is contingent upon the preceding ones,
    and an error in one stage can profoundly impact subsequent decisions. Thirdly,
    most benchmarks present all relevant information upfront, providing a static,
    comprehensive dataset Tu et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib37)).
    However, real clinical workflow demand multiple rounds of dynamic information
    gathering through ongoing patient interaction.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，这些基准很少考虑患者特定的信息，如既往病史和现病史（Pal等人，[2022](https://arxiv.org/html/2412.01605v1#bib.bib23)），而这些信息在真实临床场景中对临床决策有着重要影响。忽视这些信息未能捕捉到通常塑造个性化诊断的细微背景。其次，与真实临床场景中决策相互依赖的情况不同，现有基准将临床任务视为独立的问题（Schmidgall等人，[2024](https://arxiv.org/html/2412.01605v1#bib.bib27)），未能体现诊断过程中至关重要的相互依赖性。实际上，临床决策是一个顺序过程，每个步骤都依赖于前面的步骤，一个阶段的错误可能会深远影响后续决策。第三，大多数基准将所有相关信息一次性呈现，提供静态的、全面的数据集（Tu等人，[2024](https://arxiv.org/html/2412.01605v1#bib.bib37)）。然而，真实的临床工作流需要通过持续与患者的互动进行多轮动态信息收集。
- en: '![Refer to caption](img/0f1aa955da61e8056cc8a11688c87bfb.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明](img/0f1aa955da61e8056cc8a11688c87bfb.png)'
- en: 'Figure 1: Demonstration of error propagation of CDM in MedChain. Starting with
    2,362 initial cases, the diagram illustrates how diagnostic errors cascade through
    five clinical stages. Cases with incorrect diagnoses carry forward problematic
    information to subsequent stages, leading to a cumulative decrease in accuracy.
    After completing the treatment phase, we assess the correctness of decisions across
    all phases. Our MedChain-Agent achieves best performance in CDM comparing with
    other SOTA methods.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 图1：MedChain中CDM错误传播的演示。从2,362个初始病例开始，该图展示了诊断错误如何在五个临床阶段中级联。诊断错误的案例会将问题信息带入后续阶段，导致准确度的累积下降。在完成治疗阶段后，我们会评估各阶段决策的正确性。与其他最先进方法相比，我们的MedChain-Agent在CDM上取得了最佳表现。
- en: 'MedChain: To address these critical gaps, we introduce MedChain, a novel benchmark
    designed to evaluate LLM-based agents in real-world clinical scenarios. Specifically,
    MedChain comprises 12,163 diverse cases spanning 19 medical specialties and 156
    sub-categories, including 7,338 medical images with corresponding reports. Each
    case progresses through five crucial stages: specialty referral, history-taking,
    examination, diagnosis, and treatment. Unlike existing benchmarks, MedChain uniquely
    emphasizes three key features. 1) Personalization: Each case incorporates detailed
    patient-specific information. At first, agents are provided with only the patient’s
    chief complaint and basic information. 2) Interactivity: Information must be actively
    gathered through dynamic consultation from patient. 3) Sequentiality: Decisions
    at each stage influence subsequent steps. Only after agent independently completes
    all five stages, the overall diagnostic process is evaluated.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: MedChain：为了弥补这些关键空白，我们推出了MedChain，一个旨在评估基于LLM的智能体在真实临床场景中的表现的新基准。具体而言，MedChain包括12,163个多样化的案例，涵盖了19个医学专业和156个子类别，其中包括7,338张医学图像及其对应的报告。每个案例都经历五个关键阶段：专科转诊、病史采集、检查、诊断和治疗。与现有基准不同，MedChain独特地强调了三个关键特征。1）个性化：每个案例都包含了详细的患者特定信息。起初，智能体仅获得患者的主诉和基本信息。2）互动性：信息必须通过与患者的动态咨询积极收集。3）顺序性：每个阶段的决策会影响后续步骤。只有在智能体独立完成所有五个阶段后，整体诊断过程才会被评估。
- en: 'MedChain-Agent: Given the novel features and challenges presented by this benchmark,
    existing agent frameworks struggle to address these issues adequately. To overcome
    these limitations, we propose MedChain-Agent, a multi-agent collaborative framework
    that enables LLMs with feedback mechanism and MedCase-RAG to dynamically gather
    information and handle sequential clinical tasks. Specifically, MedChain-Agent
    facilitates a synergistic interplay among three specialized agent types: General
    Agents for task-specific expertise, a Summarizing Agent for insight synthesis,
    and a Feedback Agent for iterative refinement. This multi-layered, iterative approach
    ensures decisions are products of thorough analysis and diverse perspectives.
    Additionally, to address the multifaceted nature of CDM, which demands the integration
    of evidence-based research, and patient-specific factors, we incorporate a novel
    MedCase-RAG module into our MedChain-Agent framework. Unlike conventional medical
    RAG methods, MedCase-RAG dynamically expand its database and employs a structured
    approach to data representation, mapping each medical case into a 12-dimensional
    feature vector. This system enables efficient retrieval of relevant cases and
    helps the model make informed decisions.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: MedChain-Agent：考虑到该基准所带来的新特性和挑战，现有的智能体框架难以充分解决这些问题。为克服这些局限性，我们提出了MedChain-Agent，这是一个多智能体协作框架，能够使大语言模型（LLM）通过反馈机制和MedCase-RAG动态收集信息并处理顺序临床任务。具体而言，MedChain-Agent促进了三种专业智能体类型之间的协同作用：用于任务特定专业的通用智能体、用于洞察合成的总结智能体和用于迭代优化的反馈智能体。这个多层次、迭代的方法确保决策是经过全面分析和多角度考虑的结果。此外，为了应对临床决策制定（CDM）的多维性，需要整合基于证据的研究和患者特定因素，我们在MedChain-Agent框架中加入了一个新颖的MedCase-RAG模块。与传统的医学RAG方法不同，MedCase-RAG动态扩展其数据库，并采用结构化的数据表示方法，将每个医学案例映射为一个12维特征向量。该系统能够高效地检索相关案例，并帮助模型做出明智的决策。
- en: 'Our contributions are summarized as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的贡献总结如下：
- en: •
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: We represent the first effort to propose a CDM benchmark, MedChain, providing
    a holistic assessment of diagnostic capabilities of LLLM-based agents, closely
    reflecting real-world patient care.
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们首次提出了一个临床决策制定（CDM）基准MedChain，提供了对基于大语言模型（LLLM）智能体诊断能力的全面评估，紧密反映了真实世界的患者护理。
- en: •
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: We propose a multi-agent framework based on the characteristics of CDM. This
    system enables efficient retrieval of relevant cases and helps the model make
    informed decisions.
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们提出了一个基于CDM特征的多智能体框架。该系统能够高效地检索相关案例，并帮助模型做出明智的决策。
- en: •
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: Through extensive experiments, we demonstrate the effectiveness of MedChain
    and the MedChain-Agent framework in improving clinical decision-making accuracy
    and reliability.
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通过大量实验，我们展示了MedChain和MedChain-Agent框架在提高临床决策准确性和可靠性方面的有效性。
- en: 'Table 1: Comparison of Benchmarks for LLM-based Agent. The MedChaincomposed
    of 12, 163 case with five sequential stages of the clinical workflow. It provide
    interaction environment for LLM-based agent evaluation.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 表 1：基于大语言模型智能体的基准比较。MedChain由12,163个案例组成，涵盖了临床工作流程的五个顺序阶段。它为基于LLM的智能体评估提供了交互环境。
- en: '| Benchmark | #Num | Modality | Personal Information | Sequential Evaluation
    | Interaction |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| 基准 | 数量 | 模态 | 个人信息 | 顺序评估 | 交互 |'
- en: '| MedQA [2018](https://arxiv.org/html/2412.01605v1#bib.bib48) | 1,273 | Text
    | ✓ | ✗ | ✗ |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| MedQA [2018](https://arxiv.org/html/2412.01605v1#bib.bib48) | 1,273 | 文本
    | ✓ | ✗ | ✗ |'
- en: '| PubMedQA [2019](https://arxiv.org/html/2412.01605v1#bib.bib16) | 500 | Text
    | ✗ | ✗ | ✗ |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| PubMedQA [2019](https://arxiv.org/html/2412.01605v1#bib.bib16) | 500 | 文本
    | ✗ | ✗ | ✗ |'
- en: '| MedMCQA [2022](https://arxiv.org/html/2412.01605v1#bib.bib23) | 193,155 |
    Text | ✓ | ✗ | ✗ |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| MedMCQA [2022](https://arxiv.org/html/2412.01605v1#bib.bib23) | 193,155 |
    文本 | ✓ | ✗ | ✗ |'
- en: '| MMedBench [2024](https://arxiv.org/html/2412.01605v1#bib.bib26) | 53,566
    | Text | ✗ | ✗ | ✗ |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| MMedBench [2024](https://arxiv.org/html/2412.01605v1#bib.bib26) | 53,566
    | 文本 | ✗ | ✗ | ✗ |'
- en: '| MedBench [2024b](https://arxiv.org/html/2412.01605v1#bib.bib21) | 300,901
    | Text | ✓ | ✗ | ✗ |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '| MedBench [2024b](https://arxiv.org/html/2412.01605v1#bib.bib21) | 300,901
    | 文本 | ✓ | ✗ | ✗ |'
- en: '| Asclepius [2024b](https://arxiv.org/html/2412.01605v1#bib.bib39) | 3,232
    | Text, Imaging | ✗ | ✗ | ✗ |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| Asclepius [2024b](https://arxiv.org/html/2412.01605v1#bib.bib39) | 3,232
    | 文本, 图像 | ✗ | ✗ | ✗ |'
- en: '| GMAI-MMBench [2024b](https://arxiv.org/html/2412.01605v1#bib.bib4) | 26,000
    | Text, Imaging | ✗ | ✗ | ✗ |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '| GMAI-MMBench [2024b](https://arxiv.org/html/2412.01605v1#bib.bib4) | 26,000
    | 文本, 图像 | ✗ | ✗ | ✗ |'
- en: '| MedChain | 12,163 | Text, Imaging | ✓ | ✓ | ✓ |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| MedChain | 12,163 | 文本, 图像 | ✓ | ✓ | ✓ |'
- en: 2 Related Works
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2 相关工作
- en: 2.1 Evaluation of LLM in Medcine
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1 大语言模型在医学中的评估
- en: Benchmarking plays a vital role as a key performance indicator, directing model
    improvements, pinpointing weaknesses, and shaping the course of model evolution.
    The evaluation of LLMs in medicine has primarily focused on testing general medical
    knowledge through structured assessments. Leading benchmarks such as MultiMedQA
    Singhal et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib31)) integrate
    various medical QA datasets (e.g., MedQA Jin et al. ([2021](https://arxiv.org/html/2412.01605v1#bib.bib15)),
    MedMCQA Pal et al. ([2022](https://arxiv.org/html/2412.01605v1#bib.bib23))), emphasizing
    performance on medical licensing examination materials. Other benchmarks like
    PubMedQA Jin et al. ([2019](https://arxiv.org/html/2412.01605v1#bib.bib16)) focus
    on research-oriented queries, while several Chinese medical benchmarks Wang et al.
    ([2023](https://arxiv.org/html/2412.01605v1#bib.bib40)); Cai et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib2))
    evaluate models through multiple-choice questions from medical licensing exams.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 基准测试在作为关键绩效指标方面起着至关重要的作用，指导模型的改进，找出弱点，并塑造模型发展的方向。LLM在医学领域的评估主要集中在通过结构化评估测试通用医学知识。领先的基准测试如MultiMedQA
    Singhal等（[2023](https://arxiv.org/html/2412.01605v1#bib.bib31)）整合了多个医学QA数据集（例如，MedQA
    Jin等（[2021](https://arxiv.org/html/2412.01605v1#bib.bib15)），MedMCQA Pal等（[2022](https://arxiv.org/html/2412.01605v1#bib.bib23)）），重点关注医学执照考试材料的表现。其他基准测试如PubMedQA
    Jin等（[2019](https://arxiv.org/html/2412.01605v1#bib.bib16)）则专注于面向研究的查询，而一些中文医学基准测试如Wang等（[2023](https://arxiv.org/html/2412.01605v1#bib.bib40)）；Cai等（[2024](https://arxiv.org/html/2412.01605v1#bib.bib2)）则通过医学执照考试的多项选择题来评估模型。
- en: 'While these benchmarks effectively assess general medical knowledge, they fail
    to capture three critical aspects of real-world clinical decision-making (see
    [Table 1](https://arxiv.org/html/2412.01605v1#S1.T1 "Table 1 ‣ 1 Introduction
    ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical Practice through
    Interactive Sequential Benchmarking")), i.e., personalization in patient care,
    the interactive nature of clinical consultations, and the sequential dependency
    of medical decisions, where each step builds upon previous findings.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '虽然这些基准测试有效评估了通用医学知识，但它们未能捕捉到现实临床决策中三个关键方面（见[表 1](https://arxiv.org/html/2412.01605v1#S1.T1
    "Table 1 ‣ 1 Introduction ‣ MedChain: Bridging the Gap Between LLM Agents and
    Clinical Practice through Interactive Sequential Benchmarking)")），即患者护理的个性化、临床咨询的互动性质，以及医学决策的顺序依赖性，每一步都建立在先前的发现之上。'
- en: 2.2 LLM-based Agent in Medicine
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2 基于LLM的医学代理
- en: 'LLM-based agents have demonstrated significant potential across various medical
    applications, encompassing tasks such as medical examination questions, clinical
    diagnoses, and treatment plans. Recent research has explored different approaches:
    Agent Hospital Li et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib19))
    provides medical scenario simulation, while several frameworks Yue et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib45));
    Tang et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib33)); Kim et al.
    ([2024b](https://arxiv.org/html/2412.01605v1#bib.bib18)) focus on specific medical
    stages with multi-agent architectures. Some works target specialized aspects,
    such as CoD Chen et al. ([2024a](https://arxiv.org/html/2412.01605v1#bib.bib3))
    for interpretable diagnostics and Ehragent Shi et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib29))
    for electronic health records (EHRs) analysis. Others, like Almanac Copilot Zakka
    et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib46)), assist clinicians
    with EMR-specific tasks. AI Hospital Fan et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib8))
    explores interactive clinical scenarios, but it falls short in handling multi-modal
    medical imaging and lacks a comprehensive benchmark for evaluating multi-agent
    performance. To enhance these agents’ capabilities, researchers have integrated
    Retrieval-Augmented Generation (RAG), as demonstrated by MIRAGE Xiong et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib44))’s
    search-enhanced framework and Medical Graph RAG Wu et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib42))’s
    knowledge-based approach.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 基于LLM的代理在各种医学应用中展现出显著的潜力，涵盖了诸如医学考试问题、临床诊断和治疗计划等任务。近期的研究探讨了不同的方法：Agent Hospital
    Li等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib19)）提供了医学场景模拟，而多个框架如Yue等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib45)）；Tang等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib33)）；Kim等人（[2024b](https://arxiv.org/html/2412.01605v1#bib.bib18)）专注于特定的医学阶段，采用多代理架构。一些研究针对特定方面，如CoD
    Chen等人（[2024a](https://arxiv.org/html/2412.01605v1#bib.bib3)）用于可解释诊断，Ehragent
    Shi等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib29)）则用于电子健康记录（EHRs）分析。其他研究，如Almanac
    Copilot Zakka等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib46)），则协助临床医生处理EMR特定任务。AI
    Hospital Fan等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib8)）探讨了互动临床场景，但在处理多模态医学影像时存在不足，且缺乏评估多代理性能的全面基准。为了增强这些代理的能力，研究人员已经集成了检索增强生成（RAG），例如MIRAGE
    Xiong等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib44)）的搜索增强框架和Medical
    Graph RAG Wu等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib42)）的基于知识的方法。
- en: However, current approaches face two major limitations. First, existing frameworks
    focus on isolated medical tasks rather than providing seamless integration across
    different clinical stages, making them insufficient for complex scenarios requiring
    effective inter-stage communication Gronauer and Diepold ([2022](https://arxiv.org/html/2412.01605v1#bib.bib11)).
    Second, current medical RAG systems’ reliance on chunk-based indexing leads to
    context inconsistency and computational inefficiencies Huang and Huang ([2024](https://arxiv.org/html/2412.01605v1#bib.bib14));
    Gao et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib9)), highlighting
    the need for more sophisticated approaches to medical knowledge integration.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，现有方法面临两个主要限制。首先，现有框架关注孤立的医学任务，而不是提供跨不同临床阶段的无缝集成，因此对于需要有效阶段间沟通的复杂场景不够充分，Gronauer和Diepold（[2022](https://arxiv.org/html/2412.01605v1#bib.bib11)）指出了这一点。其次，当前医学RAG系统依赖基于块的索引，导致上下文不一致和计算低效，Huang和Huang（[2024](https://arxiv.org/html/2412.01605v1#bib.bib14)）；Gao等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib9)）强调了医学知识集成需要更复杂方法的问题。
- en: 3 MedChain Benchmark
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3 MedChain基准
- en: 'Overview. We introduce MedChain, a comprehensive clinical decision-making benchmark
    designed to simulate real-world scenarios. Built upon 12,163 Electronic Health
    Records (EHRs) spanning 19 medical specialties and 156 sub-categories, including
    7,338 medical images with reports, MedChain uniquely emphasizes three key characteristics:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 概述。我们介绍了MedChain，一个全面的临床决策基准，旨在模拟现实世界场景。MedChain建立在12,163个电子健康记录（EHRs）之上，涵盖了19个医学专业和156个子类别，其中包括7,338张带报告的医学影像。MedChain独特地强调了三个关键特点：
- en: •
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Personalization: Each case includes detailed patient profiles that influence
    decision-making'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 个性化：每个案例都包含详细的患者档案，影响决策制定
- en: •
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Sequentiality: Cases involve multiple interconnected decision-making stages'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 顺序性：案例涉及多个相互关联的决策制定阶段
- en: •
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Interactivity: Information must be actively gathered through dynamic consultation'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 互动性：信息必须通过动态咨询主动收集
- en: '![Refer to caption](img/95ca8ce4329fe808a4c664b1f21c4a64.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![参考说明](img/95ca8ce4329fe808a4c664b1f21c4a64.png)'
- en: 'Figure 2: MedChain Pipeline. The MedChain is composed of a sequential medical
    process, including specialty referral, history-taking , examination, diagnosis,
    and treatment.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 图2：MedChain流程。MedChain由一系列顺序的医疗流程组成，包括专科转诊、病史采集、检查、诊断和治疗。
- en: 3.1 Data Collection
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.1 数据收集
- en: Data Source and Processing. Our dataset is sourced from the Chinese medical
    website “iiYi” ¹¹1https://www.iiyi.com, which provides over 20,000 validated clinical
    cases spanning 28 disease categories. These cases are verified by professional
    doctors and have undergone de-identification to ensure patient privacy. We obtained
    formal permission from the website administrators to use the data for scientific
    research purposes. Each case typically contains the patient’s chief complaint,
    medical history, examination results, treatment process, and other relevant information,
    which insure the personalization of MedChain. Following the government standards
    ²²2National Standards for Medical Items and Medical Subject Headings ³³3https://www.ncbi.nlm.nih.gov/mesh/1000048,
    we extracted and organized key information including patient basics, chief complaints,
    specialty referrals, examinations, imaging reports, diagnoses, and treatments.
    Cases with incomplete information were removed, resulting in 12,163 high-quality
    cases.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 数据来源与处理。我们的数据集来源于中国医疗网站“iiYi”¹¹1https://www.iiyi.com，该网站提供超过20,000个经过验证的临床案例，涵盖28个疾病类别。这些案例由专业医生验证，并进行了去标识化处理，以确保患者隐私。我们已获得网站管理员的正式许可，允许将数据用于科学研究目的。每个案例通常包含患者的主要诉求、病史、检查结果、治疗过程以及其他相关信息，确保MedChain的个性化。根据政府标准²²2《医疗项目和医学主题词国家标准》³³3https://www.ncbi.nlm.nih.gov/mesh/1000048，我们提取并整理了关键数据，包括患者基本信息、主要诉求、专科转诊、检查、影像报告、诊断和治疗。信息不完整的案例被剔除，最终保留了12,163个高质量案例。
- en: Quality Control. To ensure the highest standards of data integrity and clinical
    relevance in our benchmark, we implemented a rigorous quality control process
    involving a panel of five senior physicians, each with over 10 years of clinical
    experience. Our evaluation process examined a random sample of 6,000 cases (49.3%
    of the dataset). Each case was assessed on multiple dimensions including disease
    prevalence, clinical relevance, accuracy of patient history, appropriateness of
    diagnostic procedures, correctness of diagnosis, and suitability of treatment
    recommendations. We employed a standardized scoring system to quantify case quality
    across these dimensions and calculated inter-rater reliability using Cohen’s kappa
    coefficient. The quality assessment yielded impressive results, with an overall
    quality rate of 94.7% of evaluated cases meeting or exceeding our stringent quality
    thresholds. Dimension-specific quality rates ranged from 92.9% to 97.2%, demonstrating
    consistently high standards across all evaluation criteria. Our inter-rater reliability
    analysis produced a Cohen’s kappa coefficient of 0.82, indicating strong agreement
    among our expert reviewers. Cases that did not meet the thresholds (5.3%) underwent
    revision or were excluded from the final dataset to maintain benchmark integrity.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 质量控制。为了确保我们基准数据的最高数据完整性和临床相关性，我们实施了严格的质量控制流程，邀请了五位具有超过10年临床经验的资深医生组成评审小组。我们的评估过程对随机抽取的6,000个案例（占数据集的49.3%）进行了审查。每个案例从多个维度进行评估，包括疾病流行率、临床相关性、患者病史的准确性、诊断程序的适当性、诊断的正确性以及治疗建议的合理性。我们采用标准化的评分系统对这些维度的案例质量进行量化，并使用Cohen's
    kappa系数计算评审者之间的一致性。质量评估结果令人印象深刻，经过评估的案例中，有94.7%的案例达到了或超过了我们严格的质量标准。各维度的质量评分范围从92.9%到97.2%，显示出所有评估标准的一致高质量。我们的评审一致性分析得到了Cohen's
    kappa系数为0.82，表明专家评审之间有很强的共识。未达到标准的案例（5.3%）进行了修订或被排除在最终数据集之外，以保持基准的完整性。
- en: 3.2 Clinical Workflow Simulation
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2 临床工作流程模拟
- en: 'Sequential Stages. MedChain simulates the complete clinical workflow, comprising
    five sequential tasks, each representing a different stage of the clinical decision-making
    process, as shown in [Figure 2](https://arxiv.org/html/2412.01605v1#S3.F2 "Figure
    2 ‣ 3 MedChain Benchmark ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical
    Practice through Interactive Sequential Benchmarking"). The results from each
    stage serve as inputs for the subsequent stage, creating a dependency where later
    decisions are influenced by the quality of earlier ones. This design guarantees
    the sequentiality of MedChain, mimicking the interconnected nature of real-world
    clinical decision-making processes. The pipeline consists of: 1) Specialty Referral:
    Assessment of case urgency and appropriate department selection; 2) History-taking:
    Dynamic information gathering through doctor-patient dialogue; 3) Examination:
    Medical image analysis and report generation; 4) Diagnosis: Comprehensive diagnosis
    based on accumulated information; 5) Treatment: Treatment plan formulation considering
    patient-specific factors.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 顺序阶段。MedChain模拟了完整的临床工作流程，包括五个顺序任务，每个任务代表临床决策过程中的一个不同阶段，如[图2](https://arxiv.org/html/2412.01605v1#S3.F2
    "图2 ‣ 3 MedChain基准 ‣ MedChain：通过互动顺序基准测试弥合大型语言模型（LLM）代理与临床实践之间的差距")所示。每个阶段的结果作为下一个阶段的输入，形成了一个依赖关系，其中后续决策受早期决策质量的影响。这一设计确保了MedChain的顺序性，模仿了现实世界临床决策过程的相互关联性。该流程包括：1）专科转诊：评估病例的紧急性并选择合适的科室；2）病史采集：通过医生与患者对话动态收集信息；3）检查：医学影像分析和报告生成；4）诊断：基于累积信息进行综合诊断；5）治疗：根据患者特定因素制定治疗方案。
- en: 'The constrcution pipeline of MedChain  is sketched out here. The details of
    benchmark can be refer to [Appendix A](https://arxiv.org/html/2412.01605v1#A1
    "Appendix A Benchmark Construction ‣ MedChain: Bridging the Gap Between LLM Agents
    and Clinical Practice through Interactive Sequential Benchmarking"). We demonstrate
    several examples in Appendix [Figure 4](https://arxiv.org/html/2412.01605v1#A1.F4
    "Figure 4 ‣ A.1 Dataset Standardization ‣ Appendix A Benchmark Construction ‣
    MedChain: Bridging the Gap Between LLM Agents and Clinical Practice through Interactive
    Sequential Benchmarking").'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这里简要概述了MedChain的构建流程。基准的详细内容可以参考[附录A](https://arxiv.org/html/2412.01605v1#A1
    "附录A基准构建 ‣ MedChain：通过互动顺序基准测试弥合大型语言模型（LLM）代理与临床实践之间的差距")。我们在附录中展示了几个例子，[图4](https://arxiv.org/html/2412.01605v1#A1.F4
    "图4 ‣ A.1 数据集标准化 ‣ 附录A基准构建 ‣ MedChain：通过互动顺序基准测试弥合大型语言模型（LLM）代理与临床实践之间的差距")也有展示。
- en: '![Refer to caption](img/1bf226c3a6156f50a633af2dee0a42dd.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![参考说明](img/1bf226c3a6156f50a633af2dee0a42dd.png)'
- en: 'Figure 3: MedChain-Agent framework. Depicts a cyclical feedback medical multi-task
    system, where decisions are supported by retrieving similar past cases from a
    medical database.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 图3：MedChain-Agent框架。展示了一个循环反馈的医学多任务系统，其中决策通过从医学数据库中检索类似的过往案例来支持。
- en: 3.3 Interaction Environment
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.3 互动环境
- en: To simulate the doctor-patient consultation process in real medical scenarios,
    we have developed an interactive environment where the LLM-based agent under evaluation
    must actively gather information through dynamic interactions. We employ a local
    large language model, i.e., gemma2 (9b) Team et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib36)),
    to serve as the patient agent. This patient agent is initialized with pre-defined
    case information but is unaware of the actual diagnosis, allowing it to provide
    symptom information and respond to inquiries in a manner that closely mimics real
    patient experiences. This setup ensures the interactivity for the MedChain benchmark,
    enabling it to evaluate the LLM’s ability to conduct effective medical consultations,
    ask pertinent questions, and gather crucial information for accurate diagnosis
    and treatment planning. The inspiration for this patient agent setup comes from
    standardized patients in medical education and clinical practice. Standardized
    patients are trained individuals who simulate real patients, allowing healthcare
    professionals to practice their clinical and communication skills in a controlled
    environment without the risks associated with real-patient interactions Barrows
    ([1993](https://arxiv.org/html/2412.01605v1#bib.bib1)).
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 为了模拟真实医疗场景中的医生-患者会诊过程，我们开发了一个交互式环境，在该环境中，正在评估的基于大语言模型（LLM）的智能体必须通过动态互动积极收集信息。我们采用本地的大型语言模型
    gemma2（9b）Team 等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib36)）作为患者智能体。该患者智能体初始化时拥有预定义的病例信息，但并不知道实际诊断，这使得它能够提供症状信息并以接近真实患者体验的方式回应询问。此设置确保了
    MedChain 基准测试的互动性，评估 LLM 进行有效医疗会诊、提出相关问题并收集准确诊断和治疗计划所需关键信息的能力。该患者智能体设置的灵感来自医学教育和临床实践中的标准化患者。标准化患者是经过培训的个体，模拟真实患者，允许医疗专业人员在受控环境中练习临床和沟通技能，而无需承担与真实患者互动相关的风险（Barrows，[1993](https://arxiv.org/html/2412.01605v1#bib.bib1)）。
- en: 3.4 Benchmark Evaluation
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.4 基准评估
- en: Given the complexity of medical decision-making, a simple binary evaluation
    of correct or incorrect is inadequate. To quantify the quality of CDM results,
    we’ve developed an evaluation system for each stage. The standard answer for each
    stage comprises multiple key points. The evaluated agent’s score increases with
    the number of standard points addressed, while irrelevant content leads to score
    reduction. To implement this approach, we employ the Intersection over Union (IoU)
    metric. For instance, in the treatment stage, the agent’s score improves as it
    proposes more reasonable treatment measures.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 由于医疗决策的复杂性，仅仅用正确或错误的二元评估是不够的。为了量化 CDM 结果的质量，我们为每个阶段开发了一个评估系统。每个阶段的标准答案包含多个关键点。被评估智能体的得分随着所涉及的标准点数增加而增加，而无关内容则导致得分下降。为实现这一方法，我们采用了交并比（IoU）度量。例如，在治疗阶段，智能体提出更多合理的治疗措施时，得分会提高。
- en: 4 MedChain-Agent Framework
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4 MedChain-Agent 框架
- en: 4.1 Multi-agent System with Feedback
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.1 带反馈的多智能体系统
- en: The MedChain-Agent framework introduces a novel multi-agent system designed
    to simulate the complex, interconnected nature of medical decision-making processes.
    This system leverages the collective intelligence of multiple specialized agents,
    each contributing unique expertise to the overall decision-making process.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: MedChain-Agent 框架引入了一种新型的多智能体系统，旨在模拟医学决策过程的复杂性和互联性。该系统利用多个专门化智能体的集体智慧，每个智能体为整体决策过程贡献独特的专业知识。
- en: 4.1.1 Agent Role
  id: totrans-73
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.1.1 智能体角色
- en: 'Our framework incorporates three distinct agent types, each fulfilling crucial
    roles in the medical decision-making pipeline:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的框架包含三种不同类型的智能体，每种智能体在医疗决策流程中发挥着至关重要的作用：
- en: 'General Agents: These specialized agents are recruited based on the specific
    requirements of each task. For instance, in Task 1 Specialty Referral, General
    Agents possess comprehensive knowledge of medical specialties and triage protocols,
    enabling them to effectively assess and route patients to appropriate departments.
    These agents engage in group discussions, simulating the collaborative nature
    of medical consultations.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 通用智能体：这些专门的智能体是根据每个任务的具体要求招募的。例如，在任务 1 专业转诊中，通用智能体具备广泛的医学专业知识和分诊协议，使其能够有效地评估并将患者引导到合适的科室。这些智能体参与小组讨论，模拟医学会诊的协作性质。
- en: 'Summarizing Agent: In each stage of the process, a summarizing agent consolidates
    the discussions and analyses of the general agents. This agent synthesizes the
    collective expertise into a coherent summary and delivers the final decision for
    each task, mimicking the role of a senior physician or department head within
    a medical context.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 汇总代理：在每个阶段，汇总代理整合一般代理的讨论和分析。该代理将集体的专业知识综合成一个连贯的总结，并为每个任务提供最终决策，模拟了医疗环境中高级医生或科室负责人的角色。
- en: 'Feedback Agent: The feedback agent plays a crucial role in maintaining the
    quality and accuracy of decisions throughout the process. This agent evaluates
    the output of each task, providing constructive feedback and suggesting iterative
    improvements when necessary. By doing so, it creates a dynamic, self-correcting
    system that continually refines its decision-making capabilities.'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 反馈代理：反馈代理在整个过程中的决策质量和准确性维持中起着至关重要的作用。该代理评估每个任务的输出，提供建设性反馈，并在必要时建议迭代改进。通过这样做，它创建了一个动态的自我纠正系统，不断完善其决策能力。
- en: 4.1.2 Decision Making
  id: totrans-78
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 4.1.2 决策制定
- en: With three types of agents, MedChain-Agent conducts a sophisticated decision-making
    process that mirrors real-world medical practice. General agents analyze patient
    information and engage in collaborative discussions, sharing assessments and recommendations.
    The summarizing agent then consolidates these insights, weighing different perspectives
    to formulate a preliminary decision. The feedback agent reviews this decision,
    evaluating its appropriateness and implications for subsequent tasks. If issues
    are identified, the feedback agent provides critiques and suggestions, initiating
    an iterative refinement process. General agents reconsider their assessments based
    on this feedback, while the summarizing agent refines the decision. This cycle
    continues until consensus is reached or a predefined number of iterations is completed,
    at which point the final decision is issued.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 通过三种类型的代理，MedChain-Agent 执行一种复杂的决策过程，模拟了现实世界的医学实践。一般代理分析病人信息并进行协作讨论，分享评估和建议。汇总代理随后整合这些见解，权衡不同的视角，以制定初步决策。反馈代理审查这一决策，评估其适当性及对后续任务的影响。如果发现问题，反馈代理提供批评和建议，启动迭代改进过程。一般代理根据这些反馈重新考虑他们的评估，而汇总代理则对决策进行改进。这个循环持续进行，直到达成共识或完成预定的迭代次数，届时最终决策将被发布。
- en: 'Table 2: Evaluation of various LLM-based agent in MedChain. The best performance
    for each task is highlighted in bold.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 表 2：在 MedChain 中评估各种基于 LLM 的代理。每项任务的最佳表现以粗体突出显示。
- en: '| Framework | Methods | Specialty Referral | History-taking | Examination |
    Diagnosis | Treatment | Average |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| 框架 | 方法 | 专业推荐 | 病史采集 | 检查 | 诊断 | 治疗 | 平均 |'
- en: '| Level 1 | Level 2 |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| 级别 1 | 级别 2 |'
- en: '| Single-agent | GPT-4o-mini [2023](https://arxiv.org/html/2412.01605v1#bib.bib22)
    | 0.5449 | 0.2871 | 0.3399 | 0.5112 | 0.4406 | 0.3930 | 0.4195 |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| 单一代理 | GPT-4o-mini [2023](https://arxiv.org/html/2412.01605v1#bib.bib22)
    | 0.5449 | 0.2871 | 0.3399 | 0.5112 | 0.4406 | 0.3930 | 0.4195 |'
- en: '| Claude-3.5-sonnet [2023](https://arxiv.org/html/2412.01605v1#bib.bib35) |
    0.5681 | 0.3050 | 0.3562 | 0.5018 | 0.4599 | 0.4053 | 0.4327 |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| Claude-3.5-sonnet [2023](https://arxiv.org/html/2412.01605v1#bib.bib35) |
    0.5681 | 0.3050 | 0.3562 | 0.5018 | 0.4599 | 0.4053 | 0.4327 |'
- en: '| LLaVA [2024a](https://arxiv.org/html/2412.01605v1#bib.bib20) | 0.3240 | 0.0730
    | 0.3182 | 0.5165 | 0.4024 | 0.1060 | 0.2901 |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| LLaVA [2024a](https://arxiv.org/html/2412.01605v1#bib.bib20) | 0.3240 | 0.0730
    | 0.3182 | 0.5165 | 0.4024 | 0.1060 | 0.2901 |'
- en: '| Qwen2 [2024a](https://arxiv.org/html/2412.01605v1#bib.bib38) | 0.4975 | 0.2215
    | 0.4226 | 0.4829 | 0.4818 | 0.2193 | 0.3876 |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| Qwen2 [2024a](https://arxiv.org/html/2412.01605v1#bib.bib38) | 0.4975 | 0.2215
    | 0.4226 | 0.4829 | 0.4818 | 0.2193 | 0.3876 |'
- en: '|  | InternVL2 [2024a](https://arxiv.org/html/2412.01605v1#bib.bib38) | 0.4811
    | 0.1935 | 0.4645 | 0.4490 | 0.4738 | 0.2903 | 0.3920 |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '|  | 实习生VL2 [2024a](https://arxiv.org/html/2412.01605v1#bib.bib38) | 0.4811
    | 0.1935 | 0.4645 | 0.4490 | 0.4738 | 0.2903 | 0.3920 |'
- en: '| Multi-agent | MedAgent [2023](https://arxiv.org/html/2412.01605v1#bib.bib34)
    | 0.3830 | 0.2039 | 0.4454 | 0.4456 | 0.4266 | 0.3673 | 0.3786 |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| 多代理 | MedAgent [2023](https://arxiv.org/html/2412.01605v1#bib.bib34) | 0.3830
    | 0.2039 | 0.4454 | 0.4456 | 0.4266 | 0.3673 | 0.3786 |'
- en: '| MDAgent [2024a](https://arxiv.org/html/2412.01605v1#bib.bib17) | 0.2398 |
    0.1343 | 0.4240 | 0.4983 | 0.4289 | 0.3620 | 0.3479 |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| MDAgent [2024a](https://arxiv.org/html/2412.01605v1#bib.bib17) | 0.2398 |
    0.1343 | 0.4240 | 0.4983 | 0.4289 | 0.3620 | 0.3479 |'
- en: '| MedChain-Agent | 0.5873 | 0.3505 | 0.5836 | 0.6566 | 0.5218 | 0.4613 | 0.5269
    |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| MedChain-代理 | 0.5873 | 0.3505 | 0.5836 | 0.6566 | 0.5218 | 0.4613 | 0.5269
    |'
- en: 4.2 MedCase-RAG
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.2 MedCase-RAG
- en: To enhance the decision-making capabilities of our multi-agent framework, we
    introduce MedCase-RAG, a novel Retrieval-Augmented Generation technique tailored
    for medical contexts.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 为了增强我们多智能体框架的决策能力，我们引入了MedCase-RAG，一种专为医疗环境量身定制的新型检索增强生成（RAG）技术。
- en: Unlike conventional medical RAG methods that rely on unstructured medical QA
    databases, MedCase-RAG employs a structured approach to data representation. We
    map each medical case into a 12-dimensional feature vector, encompassing crucial
    attributes such as Age, Sex, Patient Description, Symptom Description, Patient
    History, and Patient Image. This structured representation allows for more comprehensive
    and standardized case encoding, facilitating more accurate and nuanced retrieval.
    Within this feature set, we identify "Symptom Description" as the most representative
    feature of a patient’s condition. This feature undergoes quantification through
    a Text Embedding model, serving as the primary key for dense retrieval tasks.
    Moreover, MedCase-RAG incorporates a dynamic database expansion mechanism to continually
    enrich its knowledge base. As patients complete their medical processes and recover,
    their case information is reintroduced into the database as pseudo-data. This
    approach allows the system to learn from new cases and adapt to evolving medical
    knowledge and practices.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 与依赖非结构化医疗问答数据库的传统医疗RAG方法不同，MedCase-RAG采用了结构化的数据表示方法。我们将每个医疗案例映射为一个12维特征向量，涵盖了诸如年龄、性别、患者描述、症状描述、病史和患者图像等关键属性。这种结构化表示方法使得案例编码更加全面和标准化，从而促进了更准确和细致的检索。在这些特征中，我们将“症状描述”确定为最能代表患者病情的特征。该特征通过文本嵌入模型进行量化，作为密集检索任务的主要键。此外，MedCase-RAG还结合了动态数据库扩展机制，不断丰富其知识库。随着患者完成医疗过程并康复，他们的病例信息将作为伪数据重新引入数据库。这一方法使得系统能够从新案例中学习，并适应不断发展的医学知识和实践。
- en: When a new patient case is presented, MedCaseRAG performs a similarity search
    within the relevant medical department, using cosine similarity to identify the
    top three most similar cases, offering a more comprehensive basis for decision-making,
    allowing agents to consider various aspects and potential outcomes.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 当呈现一个新的患者病例时，MedCase-RAG会在相关的医学科室内执行相似度搜索，使用余弦相似度识别出三个最相似的病例，提供更全面的决策依据，使智能体能够考虑不同的方面和潜在的结果。
- en: 5 Experiments
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5 实验
- en: 5.1 Experimental Setup
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.1 实验设置
- en: We split the dataset into training, validation, and testing sets with a ratio
    of 7:1:2\. For frameworks incorporating RAG techniques, both training and validation
    sets are used to construct the case retrieval database. Our study evaluates both
    single-agent and multi-agent systems. For single agents, we test two closed-source
    models (gpt-4o-mini OpenAI ([2023](https://arxiv.org/html/2412.01605v1#bib.bib22)),
    and claude-3.5-sonnet Team et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib35)))
    and three open-source models (InternVL2-8b Chen et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib5)),
    llava-llama-3-8b-v1_1 Liu et al. ([2024a](https://arxiv.org/html/2412.01605v1#bib.bib20)),
    and Qwen2-7B-Instruct Wang et al. ([2024a](https://arxiv.org/html/2412.01605v1#bib.bib38))),
    with model weights obtained from official Hugging Face repositories. In the multi-agent
    evaluation, we compare MedChain-Agent against MedAgent Tang et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib34))
    and MDAgent Kim et al. ([2024a](https://arxiv.org/html/2412.01605v1#bib.bib17)).
    All multi-agent framework are based on InternVL2-8b Chen et al. ([2023](https://arxiv.org/html/2412.01605v1#bib.bib5)).
    The deployment was conducted using the LMDeploy framework Contributors ([2023](https://arxiv.org/html/2412.01605v1#bib.bib6)).
    All tests executed on NVIDIA A100 GPUs featuring 80GB of memory. To enhance output
    stability and reliability across all experiments, we consistently set the temperature
    parameter to 0.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将数据集分为训练集、验证集和测试集，比例为7:1:2。对于包含RAG技术的框架，训练集和验证集都用于构建案例检索数据库。本研究评估了单一代理和多代理系统。对于单一代理，我们测试了两个闭源模型（gpt-4o-mini
    OpenAI（[2023](https://arxiv.org/html/2412.01605v1#bib.bib22)）和claude-3.5-sonnet
    Team等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib35)））以及三个开源模型（InternVL2-8b
    Chen等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib5)），llava-llama-3-8b-v1_1
    Liu等人（[2024a](https://arxiv.org/html/2412.01605v1#bib.bib20)），和Qwen2-7B-Instruct
    Wang等人（[2024a](https://arxiv.org/html/2412.01605v1#bib.bib38)）），模型权重来自官方Hugging
    Face仓库。在多代理评估中，我们将MedChain-Agent与MedAgent Tang等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib34)）和MDAgent
    Kim等人（[2024a](https://arxiv.org/html/2412.01605v1#bib.bib17)）进行了对比。所有多代理框架均基于InternVL2-8b
    Chen等人（[2023](https://arxiv.org/html/2412.01605v1#bib.bib5)）。部署是在LMDeploy框架下进行的，由贡献者（[2023](https://arxiv.org/html/2412.01605v1#bib.bib6)）提供支持。所有测试均在配备80GB内存的NVIDIA
    A100 GPU上执行。为了提高所有实验的输出稳定性和可靠性，我们始终将温度参数设置为0。
- en: 'Table 3: Ablation Study for Key Components for MedChain-Agent. This table presents
    the performance impact of sequentially removing the Feedback mechanism and MedCase-RAG
    from the full MedChain-Agent framework.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 表3：MedChain-Agent关键组件的消融研究。本表展示了逐步去除反馈机制和MedCase-RAG后对完整MedChain-Agent框架性能的影响。
- en: '| Feedback | MedCase-RAG | Specialty referral | History-taking | Examination
    | Diagnosis | Treatment | Average |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| 反馈 | MedCase-RAG | 专科转诊 | 病史采集 | 检查 | 诊断 | 治疗 | 平均 |'
- en: '| Level 1 | Level 2 |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| 一级 | 二级 |'
- en: '|  |  | 0.5523 | 0.2228 | 0.3285 | 0.6369 | 0.4982 | 0.3915 | 0.4384 |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '|  |  | 0.5523 | 0.2228 | 0.3285 | 0.6369 | 0.4982 | 0.3915 | 0.4384 |'
- en: '| ✓ |  | 0.5739 | 0.2906 | 0.4222 | 0.6377 | 0.5086 | 0.4209 | 0.4757 |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| ✓ |  | 0.5739 | 0.2906 | 0.4222 | 0.6377 | 0.5086 | 0.4209 | 0.4757 |'
- en: '|  | ✓ | 0.5928 | 0.3353 | 0.5801 | 0.6488 | 0.5035 | 0.4568 | 0.5195 |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '|  | ✓ | 0.5928 | 0.3353 | 0.5801 | 0.6488 | 0.5035 | 0.4568 | 0.5195 |'
- en: '| ✓ | ✓ | 0.5873 | 0.3505 | 0.5836 | 0.6566 | 0.5218 | 0.4613 | 0.5269 |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| ✓ | ✓ | 0.5873 | 0.3505 | 0.5836 | 0.6566 | 0.5218 | 0.4613 | 0.5269 |'
- en: 5.2 Evaluation Metrics
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.2 评估指标
- en: To assess model performance, we employ diverse metrics tailored to each task.
    Accuracy is used for tasks with a single correct answer, such as Specialty Referral
    (Level 1). For tasks involving multiple key points, including Specialty Referral
    (Level 2), History-taking, and Treatment, we apply Intersection over Union (IoU)
    to capture the overlap between predicted and ground truth sets. Specifically for
    the Examination task, we utilize DocLens Xie et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib43))
    to evaluate the quality of image interpretation reports.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 为了评估模型的性能，我们采用了根据每个任务量身定制的多种评估指标。对于具有单一正确答案的任务，如专科转诊（一级），我们使用准确率作为评估标准。对于涉及多个关键点的任务，包括专科转诊（二级）、病史采集和治疗，我们应用交并比（IoU）来捕捉预测集与真实集之间的重叠部分。特别是对于检查任务，我们使用DocLens
    Xie等人（[2024](https://arxiv.org/html/2412.01605v1#bib.bib43)）来评估图像解读报告的质量。
- en: 5.3 Experiment Result and Analysis
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.3 实验结果与分析
- en: 'The results of our evaluation in the MedChain  are presented in [Table 2](https://arxiv.org/html/2412.01605v1#S4.T2
    "Table 2 ‣ 4.1.2 Decision Making ‣ 4.1 Multi-agent System with Feedback ‣ 4 MedChain-Agent
    Framework ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical Practice
    through Interactive Sequential Benchmarking"). Our analysis yields three significant
    insights:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在MedChain中的评估结果见于[表 2](https://arxiv.org/html/2412.01605v1#S4.T2 "表 2 ‣ 4.1.2
    决策制定 ‣ 4.1 多智能体系统与反馈 ‣ 4 MedChain-Agent框架 ‣ MedChain：通过交互式顺序基准测试架起LLM代理与临床实践之间的桥梁")。我们的分析得出了三个重要的结论：
- en: (1) Sequential decision-making tasks continue to pose significant challenges,
    even for advanced models. For instance, within the single-agent frameworks, GPT-4o-mini
    and InternVL2 achieve average scores of 0.4442 and 0.3920, respectively. These
    results indicate that despite their sophistication, these models struggle to maintain
    consistent performance across the sequential stages of clinical decision-making,
    highlighting the inherent difficulty of these tasks.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: (1) 顺序决策任务仍然是一个重大挑战，即使对于先进的模型也是如此。例如，在单智能体框架中，GPT-4o-mini和InternVL2的平均得分分别为0.4442和0.3920。这些结果表明，尽管这些模型很复杂，但它们在临床决策的顺序阶段仍难以保持一致的表现，突显了这些任务的固有难度。
- en: (2) Multi-agent frameworks based on InternVL2, such as MedAgent and MDAgent,
    exhibit inferior performance compared to their single-agent counterparts. This
    degradation suggests that traditional multi-agent approaches may exacerbate error
    propagation in sequential decision-making processes, leading to reduced overall
    performance. In contrast, our proposed MedChain-Agent significantly outperforms
    these multi-agent methods, achieving an average score of 0.5269\. This improvement
    demonstrates that MedChain-Agent effectively mitigates error propagation, enhancing
    decision quality and reliability in clinical settings.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: (2) 基于InternVL2的多智能体框架，如MedAgent和MDAgent，表现不如它们的单智能体对手。这种性能下降表明，传统的多智能体方法可能会加剧顺序决策过程中的错误传播，从而导致整体性能降低。相比之下，我们提出的MedChain-Agent显著优于这些多智能体方法，达到了0.5269的平均分。这一改进表明，MedChain-Agent有效地缓解了错误传播，提升了临床环境中决策的质量和可靠性。
- en: (3) The integration of the MedChain-Agent framework with open-source LLMs demonstrates
    significant superiority over proprietary models like GPT-4o-mini. The substantial
    performance gain observed with MedChain-Agent (average score of 0.5269) implies
    that our framework can leverage the strengths of open-source LLMs to achieve superior
    outcomes. This suggests that open-source models, when enhanced with our framework,
    are not only competitive but can also excel in handling intricate medical decision-making
    tasks.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: (3) MedChain-Agent框架与开源LLM的结合展示了其明显优于如GPT-4o-mini等专有模型的优势。MedChain-Agent（平均得分为0.5269）所展现的显著性能提升意味着我们的框架可以利用开源LLM的优势，取得更优的结果。这表明，经过我们框架增强的开源模型不仅具有竞争力，而且在处理复杂的医疗决策任务时也能表现出色。
- en: 5.4 Ablation Study
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 5.4 消融研究
- en: 'Table 4: The ablation study for three key characteristics in MedChain. This
    table presents the impact of personalization, interactivity, and sequentiality
    on Diagnosis and Treatment tasks. The arrows $\uparrow\downarrow$ next to settings
    indicate expected performance change direction. The arrows next to results show
    actual changes (highlighted in gray when matching expectations).'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 表 4：MedChain中的三大关键特征的消融研究。本表展示了个性化、交互性和顺序性对诊断和治疗任务的影响。设置旁边的箭头$\uparrow\downarrow$表示预期的性能变化方向。结果旁边的箭头显示实际变化（当与预期匹配时，用灰色突出显示）。
- en: '| Setting | Model | Diagnosis | Treatment |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| 设置 | 模型 | 诊断 | 治疗 |'
- en: '| Full | MedAgent | 0.4266 | 0.3673 |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| 完整 | MedAgent | 0.4266 | 0.3673 |'
- en: '| MDAgent | 0.4289 | 0.3620 |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| MDAgent | 0.4289 | 0.3620 |'
- en: '| gpt-4o-mini | 0.4406 | 0.3930 |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| gpt-4o-mini | 0.4406 | 0.3930 |'
- en: '| InternVL2 | 0.4759 | 0.4472 |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| InternVL2 | 0.4759 | 0.4472 |'
- en: '| w/o Person. $\downarrow$ | MedAgent | 0.3274 $\downarrow$ | 0.3754 $\uparrow$
    |'
  id: totrans-119
  prefs: []
  type: TYPE_TB
  zh: '| w/o Person. $\downarrow$ | MedAgent | 0.3274 $\downarrow$ | 0.3754$\uparrow$
    |'
- en: '| MDAgent | 0.3283$\downarrow$ | 0.3161 $\downarrow$ |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| MDAgent | 0.3283$\downarrow$ | 0.3161$\downarrow$ |'
- en: '| gpt-4o-mini | 0.4272$\downarrow$ | 0.3406$\downarrow$ |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| gpt-4o-mini | 0.4272$\downarrow$ | 0.3406$\downarrow$ |'
- en: '| InternVL2 | 0.3966$\downarrow$ | 0.2527$\downarrow$ |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| InternVL2 | 0.3966$\downarrow$ | 0.2527$\downarrow$ |'
- en: '| w/o Seq. $\uparrow$ | MedAgent | 0.4839 $\uparrow$ | 0.4456$\uparrow$ |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| w/o Seq. $\uparrow$ | MedAgent | 0.4839$\uparrow$ | 0.4456$\uparrow$ |'
- en: '| MDAgent | 0.4199 $\downarrow$ | 0.4418$\uparrow$ |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| MDAgent | 0.4199$\downarrow$ | 0.4418$\uparrow$ |'
- en: '| gpt-4o-mini | 0.5096$\uparrow$ | 0.4423 $\uparrow$ |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| gpt-4o-mini | 0.5096$\uparrow$ | 0.4423$\uparrow$ |'
- en: '| InternVL2 | 0.4768 $\uparrow$ | 0.2903$\downarrow$ |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| InternVL2 | 0.4768 $\uparrow$ | 0.2903$\downarrow$ |'
- en: '| w/o Inter. $\uparrow$ | MedAgent | 0.3315 $\downarrow$ | 0.4109 $\uparrow$
    |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| 无交互. $\uparrow$ | MedAgent | 0.3315 $\downarrow$ | 0.4109 $\uparrow$ |'
- en: '| MDAgent | 0.4295 $\uparrow$ | 0.3627 $\uparrow$ |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| MDAgent | 0.4295 $\uparrow$ | 0.3627 $\uparrow$ |'
- en: '| gpt-4o-mini | 0.4988$\uparrow$ | 0.4003 $\uparrow$ |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| gpt-4o-mini | 0.4988$\uparrow$ | 0.4003 $\uparrow$ |'
- en: '| InternVL2 | 0.4861$\uparrow$ | 0.3173 $\downarrow$ |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| InternVL2 | 0.4861$\uparrow$ | 0.3173 $\downarrow$ |'
- en: 'Three key characteristics for MedChain: To validate the effectiveness of personalization,
    interactivity, and sequentiality within our benchmark, we conduct ablation study
    as in [Table 4](https://arxiv.org/html/2412.01605v1#S5.T4 "Table 4 ‣ 5.4 Ablation
    Study ‣ 5 Experiments ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical
    Practice through Interactive Sequential Benchmarking"). We systematically remove
    each characteristic and observe its impact on model performance across Diagnosis
    and Treatment tasks. 1) Removing patient-specific information (w/o Person.) consistently
    degrades performance across all models in diagnosis tasks (with drops ranging
    from 3.0% to 13.4%). This demonstrates that personalized information is crucial
    for accurate clinical decision-making. 2) Interestingly, when removing the sequential
    dependency between stages (w/o Seq.), most models show improved performance. This
    improvement actually validates the effectiveness of sequentiality in our benchmark,
    as it indicates that sequential decision-making poses greater challenges that
    better reflect real-world clinical scenarios. 3) Similarly, the improved performance
    observed after removing interactive information gathering (w/o Inter.) confirms
    the effectiveness of interactivity in our benchmark design. These results collectively
    suggest that while both sequentiality and interactivity make the benchmark more
    challenging, they are essential components that better simulate the complexity
    of real-world clinical decision-making processes.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 'MedChain 的三个关键特性：为了验证个性化、交互性和顺序性在我们基准中的有效性，我们进行了如[表 4](https://arxiv.org/html/2412.01605v1#S5.T4
    "Table 4 ‣ 5.4 Ablation Study ‣ 5 Experiments ‣ MedChain: Bridging the Gap Between
    LLM Agents and Clinical Practice through Interactive Sequential Benchmarking")所示的消融研究。我们系统地去除每个特性，并观察其对模型在诊断和治疗任务中性能的影响。1)
    去除患者特定信息（无个人信息）会导致所有模型在诊断任务中的表现持续下降（下降幅度从 3.0% 到 13.4% 不等）。这表明个性化信息对于准确的临床决策至关重要。2)
    有趣的是，当去除阶段之间的顺序依赖性（无顺序性）时，大多数模型的表现得到了提升。这个提升实际上验证了顺序性在我们基准中的有效性，因为这表明顺序决策带来的挑战更大，更能反映真实世界中的临床场景。3)
    同样，去除交互式信息收集（无交互性）后，模型性能的提升验证了交互性在我们基准设计中的有效性。这些结果共同表明，虽然顺序性和交互性使基准更加具有挑战性，但它们是更好地模拟真实世界临床决策过程复杂性的必要组成部分。'
- en: 'Key components for MedChain-Agent: To assess the impact of individual components
    in our framework, we conducted ablation experiments, with results shown in [Table 3](https://arxiv.org/html/2412.01605v1#S5.T3
    "Table 3 ‣ 5.1 Experimental Setup ‣ 5 Experiments ‣ MedChain: Bridging the Gap
    Between LLM Agents and Clinical Practice through Interactive Sequential Benchmarking").
    These findings highlight the crucial roles of both the Feedback mechanism and
    the MedCase-RAG module in enhancing overall performance. Each component independently
    contributes to significant improvements across various metrics. Notably, the MedCase-RAG
    module alone boosts Specialty Referral (Level 1) to 0.5928 and yields substantial
    gains in History-taking and Examination. When combined, Feedback and MedCase-RAG
    demonstrate a synergistic effect, achieving an impressive average score of 0.5269\.
    This underscores the complementary nature of these components in optimizing our
    framework’s capabilities.'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 'MedChain-Agent 的关键组件：为了评估我们框架中各个组件的影响，我们进行了消融实验，结果如[表 3](https://arxiv.org/html/2412.01605v1#S5.T3
    "Table 3 ‣ 5.1 Experimental Setup ‣ 5 Experiments ‣ MedChain: Bridging the Gap
    Between LLM Agents and Clinical Practice through Interactive Sequential Benchmarking")所示。研究结果突显了反馈机制和
    MedCase-RAG 模块在提升整体性能方面的关键作用。每个组件单独对各项指标都做出了显著的贡献。值得注意的是，单独使用 MedCase-RAG 模块可以将
    Specialty Referral (Level 1) 提升至 0.5928，并在病史采集和检查方面带来显著提升。反馈机制和 MedCase-RAG 模块结合使用时，展现出了协同效应，达到了令人印象深刻的平均分数
    0.5269。这个结果突显了这两个组件在优化我们框架能力方面的互补性。'
- en: 6 Conclusion
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6 结论
- en: In this paper, we introduced MedChain, a novel benchmark for evaluating large
    language models in clinical decision-making, and MedChain-Agent, an innovative
    multi-agent framework designed to address the complexities of real-world medical
    scenarios. Our work bridges a critical gap between current AI capabilities and
    the nuanced realities of clinical practice by incorporating personalization, sequentiality,
    and interactivity into the evaluation process. MedChain-Agent’s sophisticated
    multi-agent system, enhanced by a feedback mechanism and the MedCase-RAG module,
    demonstrates unprecedented performance in sequential clinical decision-making
    tasks, even outperforming proprietary models when combined with open-source LLMs.
    By providing a more realistic and challenging evaluation framework, this research
    sets a new standard for evaluating and developing medical AI systems, paving the
    way for its responsible integration into clinical practice.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在本文中，我们介绍了MedChain，这是一个用于评估大型语言模型在临床决策中的新型基准，和MedChain-Agent，一个创新的多代理框架，旨在应对现实世界医学场景的复杂性。我们的工作通过将个性化、连续性和互动性纳入评估过程，弥合了当前AI能力与临床实践中细微现实之间的关键差距。MedChain-Agent的复杂多代理系统，通过反馈机制和MedCase-RAG模块的增强，在连续性临床决策任务中展现了前所未有的性能，甚至在与开源LLM结合时超过了专有模型。通过提供一个更现实和具有挑战性的评估框架，这项研究为评估和开发医学AI系统设定了新的标准，为其负责任地融入临床实践铺平了道路。
- en: Acknowledgement
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 致谢
- en: We are particularly indebted to the administrators of the iiyi website for their
    generosity in allowing us to utilize their data for our research purposes. We
    would like to acknowledge the assistance provided by Claude-3.5 in proofreading
    our manuscript for grammatical accuracy and in facilitating the creation of LaTeX
    tables.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 我们特别感谢iiyi网站的管理员，感谢他们慷慨地允许我们将其数据用于我们的研究目的。我们还要感谢Claude-3.5在校对我们稿件的语法准确性和协助创建LaTeX表格方面的帮助。
- en: Limitations
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 限制
- en: 'This paper has two primary limitations that offer avenues for future research:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 本文有两个主要限制，提供了未来研究的方向：
- en: •
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Data Source Diversity: The MedChain benchmark is constructed from 12,163 electronic
    health records obtained from the Chinese medical website “iiYi." Although this
    dataset is extensive and covers 19 medical specialties and 156 sub-categories,
    it is derived from a single source. In our future work, we will incorporate additional
    data sources from different regions or healthcare systems to further enrich the
    dataset, providing a broader spectrum of clinical scenarios and enhancing the
    generalizability of the benchmark.'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据源多样性：MedChain基准是由12,163份电子健康记录构建的，这些记录来自中国医疗网站“iiYi”。尽管该数据集规模庞大，涵盖了19个医学专业和156个子类，但它来源于单一渠道。在我们的未来工作中，我们将纳入来自不同地区或医疗系统的额外数据源，以进一步丰富数据集，提供更广泛的临床场景，并提高基准的普适性。
- en: •
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Patient Interaction Simulation: In our interactive environment, the patient
    responses during the history-taking stage are generated by the Gemma 2 language
    model. While this approach ensures consistency and control in evaluating the LLM-based
    agent, the real patient interactions can be more varied and complex. Future work
    could explore more advanced patient simulators or incorporate real dialogue data
    to capture a wider range of communication styles and behaviors.'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 患者互动模拟：在我们的互动环境中，历史采集阶段的患者反应由Gemma 2语言模型生成。虽然这种方法确保了在评估基于LLM的代理时的一致性和可控性，但真实的患者互动可能更加多样化和复杂。未来的工作可以探索更先进的患者模拟器，或引入真实的对话数据，以捕捉更广泛的交流风格和行为。
- en: References
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: Barrows (1993) Howard S. Barrows. 1993. [An overview of the uses of standardized
    patients for teaching and evaluating clinical skills. aamc](https://api.semanticscholar.org/CorpusID:8488714).
    *Academic Medicine*, 68:443–51.
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Barrows（1993）Howard S. Barrows. 1993. [标准化患者在教学和评估临床技能中的应用概述。aamc](https://api.semanticscholar.org/CorpusID:8488714)。*学术医学*，68:443–51。
- en: 'Cai et al. (2024) Yan Cai, Linlin Wang, Ye Wang, Gerard de Melo, Ya Zhang,
    Yanfeng Wang, and Liang He. 2024. Medbench: A large-scale chinese benchmark for
    evaluating medical large language models. In *Proceedings of the AAAI Conference
    on Artificial Intelligence*, volume 38, pages 17709–17717.'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cai等（2024）Yan Cai, Linlin Wang, Ye Wang, Gerard de Melo, Ya Zhang, Yanfeng Wang,
    和Liang He. 2024. Medbench：用于评估医学大型语言模型的大规模中文基准。在*美国人工智能会议论文集*，第38卷，第17709–17717页。
- en: Chen et al. (2024a) Junying Chen, Chi Gui, Anningzhe Gao, Ke Ji, Xidong Wang,
    Xiang Wan, and Benyou Wang. 2024a. Cod, towards an interpretable medical agent
    using chain of diagnosis. *arXiv preprint arXiv:2407.13301*.
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 陈等人（2024a）陈俊颖、桂驰、高安宁哲、季可、王喜东、万翔、王本有。2024a。Cod：通过诊断链构建可解释的医疗代理。[arXiv预印本](https://arxiv.org/abs/2407.13301)
    arXiv:2407.13301。
- en: 'Chen et al. (2024b) Pengcheng Chen, Jin Ye, Guoan Wang, Yanjun Li, Zhongying
    Deng, Wei Li, Tianbin Li, Haodong Duan, Ziyan Huang, Yanzhou Su, et al. 2024b.
    Gmai-mmbench: A comprehensive multimodal evaluation benchmark towards general
    medical ai. *arXiv preprint arXiv:2408.03361*.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 陈等人（2024b）陈鹏程、叶金、王国安、李彦君、邓中英、李伟、李天斌、段昊东、黄子颜、苏彦周等人。2024b。Gmai-mmbench：面向通用医疗人工智能的全面多模态评估基准。[arXiv预印本](https://arxiv.org/abs/2408.03361)
    arXiv:2408.03361。
- en: 'Chen et al. (2023) Zhe Chen, Jiannan Wu, Wenhai Wang, Weijie Su, Guo Chen,
    Sen Xing, Muyan Zhong, Qinglong Zhang, Xizhou Zhu, Lewei Lu, Bin Li, Ping Luo,
    Tong Lu, Yu Qiao, and Jifeng Dai. 2023. Internvl: Scaling up vision foundation
    models and aligning for generic visual-linguistic tasks. *arXiv preprint arXiv:2312.14238*.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 陈等人（2023）陈哲、吴建南、王文海、苏伟杰、陈国、邢森、钟沐然、张庆龙、朱熙洲、陆乐伟、李斌、罗平、卢彤、乔宇、戴季峰。2023。Internvl：扩展视觉基础模型并对齐通用视觉语言任务。[arXiv预印本](https://arxiv.org/abs/2312.14238)
    arXiv:2312.14238。
- en: 'Contributors (2023) LMDeploy Contributors. 2023. Lmdeploy: A toolkit for compressing,
    deploying, and serving llm. [https://github.com/InternLM/lmdeploy](https://github.com/InternLM/lmdeploy).'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 贡献者（2023）LMDeploy 贡献者。2023。Lmdeploy：用于压缩、部署和服务LLM的工具包。[https://github.com/InternLM/lmdeploy](https://github.com/InternLM/lmdeploy)。
- en: Eriksen et al. (2023) Alexander V Eriksen, Sören Möller, and Jesper Ryg. 2023.
    Use of gpt-4 to diagnose complex clinical cases.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 埃里克森等人（2023）亚历山大·V·埃里克森、厄尔根·梅勒、杰斯珀·瑞格。2023。使用GPT-4诊断复杂临床病例。
- en: 'Fan et al. (2024) Zhihao Fan, Jialong Tang, Wei Chen, Siyuan Wang, Zhongyu
    Wei, Jun Xi, Fei Huang, and Jingren Zhou. 2024. Ai hospital: Interactive evaluation
    and collaboration of llms as intern doctors for clinical diagnosis. *arXiv preprint
    arXiv:2402.09742*.'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 范等人（2024）范志豪、唐佳龙、陈伟、王思远、魏忠宇、席俊、黄飞、周京仁。2024。Ai医院：作为实习医生用于临床诊断的LLM交互评估与协作。[arXiv预印本](https://arxiv.org/abs/2402.09742)
    arXiv:2402.09742。
- en: 'Gao et al. (2024) Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan,
    Yuxi Bi, Yi Dai, Jiawei Sun, Meng Wang, and Haofen Wang. 2024. [Retrieval-augmented
    generation for large language models: A survey](https://arxiv.org/abs/2312.10997).
    *Preprint*, arXiv:2312.10997.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高等人（2024）高云凡、熊云、高新宇、贾康翔、潘金琉、毕宇希、戴一、孙佳伟、王蒙、王昊峰。2024。[基于检索增强的生成在大型语言模型中的应用综述](https://arxiv.org/abs/2312.10997)。[*预印本*](https://example.org)，arXiv:2312.10997。
- en: Gilson et al. (2023) Aidan Gilson, Conrad W Safranek, Thomas Huang, Vimig Socrates,
    Ling Chi, Richard Andrew Taylor, David Chartash, et al. 2023. How does chatgpt
    perform on the united states medical licensing examination (usmle)? the implications
    of large language models for medical education and knowledge assessment. *JMIR
    medical education*, 9(1):e45312.
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 吉尔森等人（2023）艾登·吉尔森、康拉德·W·萨弗内克、托马斯·黄、维米格·苏克拉提斯、凌迟、理查德·安德鲁·泰勒、大卫·查塔什等人。2023。ChatGPT在美国医学执照考试（USMLE）中的表现如何？大型语言模型对医学教育和知识评估的影响。[*JMIR医学教育*](https://example.org)，9(1):e45312。
- en: 'Gronauer and Diepold (2022) Sven Gronauer and Klaus Diepold. 2022. [Multi-agent
    deep reinforcement learning: a survey](https://doi.org/10.1007/s10462-021-09996-w).
    *Artificial Intelligence Review*, page 895–943.'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 格罗诺厄和迪波尔德（2022）斯文·格罗诺厄、克劳斯·迪波尔德。2022。[多代理深度强化学习：综述](https://doi.org/10.1007/s10462-021-09996-w)。[*人工智能评论*](https://example.org)，第895-943页。
- en: 'Gu et al. (2023) Yu Gu, Xiang Deng, and Yu Su. 2023. Don’t generate, discriminate:
    A proposal for grounding language models to real-world environments. In *ACL*.'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顾等人（2023）顾宇、邓翔、苏宇。2023。不要生成，进行判别：将语言模型基础于现实世界环境的提案。在[*ACL*](https://example.org)。
- en: Guan et al. (2023) Lin Guan, Karthik Valmeekam, Sarath Sreedharan, and Subbarao
    Kambhampati. 2023. Leveraging pre-trained large language models to construct and
    utilize world models for model-based task planning. *Advances in Neural Information
    Processing Systems*, 36:79081–79094.
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关等人（2023）关琳、卡尔西克·瓦尔梅卡姆、萨拉斯·斯里达兰、苏布拉奥·坎巴帕提。2023。利用预训练的大型语言模型构建并应用世界模型进行基于模型的任务规划。[*神经信息处理系统进展*](https://example.org),
    36:79081–79094。
- en: Huang and Huang (2024) Yizheng Huang and Jimmy Huang. 2024. [A survey on retrieval-augmented
    text generation for large language models](https://arxiv.org/abs/2404.10981).
    *Preprint*, arXiv:2404.10981.
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 黄和黄（2024）黄一正、黄吉米。2024。[基于检索增强的文本生成在大型语言模型中的应用综述](https://arxiv.org/abs/2404.10981)。[*预印本*](https://example.org)，arXiv:2404.10981。
- en: Jin et al. (2021) Di Jin, Eileen Pan, Nassim Oufattole, Wei-Hung Weng, Hanyi
    Fang, and Peter Szolovits. 2021. What disease does this patient have? a large-scale
    open domain question answering dataset from medical exams. *Applied Sciences*,
    11(14):6421.
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jin 等人（2021）Di Jin、Eileen Pan、Nassim Oufattole、Wei-Hung Weng、Hanyi Fang 和 Peter
    Szolovits. 2021. 这个病人得了什么病？来自医学考试的大规模开放域问答数据集. *应用科学*，11(14):6421。
- en: 'Jin et al. (2019) Qiao Jin, Bhuwan Dhingra, Zhengping Liu, William W Cohen,
    and Xinghua Lu. 2019. Pubmedqa: A dataset for biomedical research question answering.
    *arXiv preprint arXiv:1909.06146*.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jin 等人（2019）Qiao Jin、Bhuwan Dhingra、Zhengping Liu、William W Cohen 和 Xinghua
    Lu. 2019. Pubmedqa：一个生物医学研究问答数据集. *arXiv 预印本 arXiv:1909.06146*。
- en: Kim et al. (2024a) Yubin Kim, Chanwoo Park, Hyewon Jeong, Yik Siu Chan, Xuhai
    Xu, Daniel McDuff, Cynthia Breazeal, and Hae Won Park. 2024a. Adaptive collaboration
    strategy for llms in medical decision making. *arXiv preprint arXiv:2404.15155*.
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kim 等人（2024a）Yubin Kim、Chanwoo Park、Hyewon Jeong、Yik Siu Chan、Xuhai Xu、Daniel
    McDuff、Cynthia Breazeal 和 Hae Won Park. 2024a. 医学决策中的大语言模型自适应协作策略. *arXiv 预印本
    arXiv:2404.15155*。
- en: 'Kim et al. (2024b) Yubin Kim, Chanwoo Park, Hyewon Jeong, Yik Siu Chan, Xuhai
    Xu, Daniel McDuff, Hyeonhoon Lee, Marzyeh Ghassemi, Cynthia Breazeal, and Hae Won
    Park. 2024b. [Mdagents: An adaptive collaboration of llms for medical decision-making](https://arxiv.org/abs/2404.15155).
    *Preprint*, arXiv:2404.15155.'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kim 等人（2024b）Yubin Kim、Chanwoo Park、Hyewon Jeong、Yik Siu Chan、Xuhai Xu、Daniel
    McDuff、Hyeonhoon Lee、Marzyeh Ghassemi、Cynthia Breazeal 和 Hae Won Park. 2024b.
    [Mdagents：面向医学决策的自适应大语言模型协作](https://arxiv.org/abs/2404.15155). *预印本*，arXiv:2404.15155。
- en: 'Li et al. (2024) Junkai Li, Siyu Wang, Meng Zhang, Weitao Li, Yunghwei Lai,
    Xinhui Kang, Weizhi Ma, and Yang Liu. 2024. [Agent hospital: A simulacrum of hospital
    with evolvable medical agents](https://arxiv.org/abs/2405.02957). *Preprint*,
    arXiv:2405.02957.'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Li 等人（2024）Junkai Li、Siyu Wang、Meng Zhang、Weitao Li、Yunghwei Lai、Xinhui Kang、Weizhi
    Ma 和 Yang Liu. 2024. [Agent hospital: 一个具备可进化医学代理的医院模拟系统](https://arxiv.org/abs/2405.02957).
    *预印本*，arXiv:2405.02957。'
- en: Liu et al. (2024a) Haotian Liu, Chunyuan Li, Qingyang Wu, and Yong Jae Lee.
    2024a. Visual instruction tuning. *Advances in neural information processing systems*,
    36.
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liu 等人（2024a）Haotian Liu、Chunyuan Li、Qingyang Wu 和 Yong Jae Lee. 2024a. 视觉指令调优.
    *神经信息处理系统进展*，36。
- en: 'Liu et al. (2024b) Mianxin Liu, Jinru Ding, Jie Xu, Weiguo Hu, Xiaoyang Li,
    Lifeng Zhu, Zhian Bai, Xiaoming Shi, Benyou Wang, Haitao Song, et al. 2024b. Medbench:
    A comprehensive, standardized, and reliable benchmarking system for evaluating
    chinese medical large language models. *arXiv preprint arXiv:2407.10990*.'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liu 等人（2024b）Mianxin Liu、Jinru Ding、Jie Xu、Weiguo Hu、Xiaoyang Li、Lifeng Zhu、Zhian
    Bai、Xiaoming Shi、Benyou Wang、Haitao Song 等人. 2024b. Medbench：一个全面、标准化、可靠的中文医学大语言模型评估基准系统.
    *arXiv 预印本 arXiv:2407.10990*。
- en: OpenAI (2023) OpenAI. 2023. Gpt-4v(ision) system card. Technical report, OpenAI.
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OpenAI（2023）OpenAI. 2023. GPT-4v（视觉）系统卡. 技术报告，OpenAI。
- en: 'Pal et al. (2022) Ankit Pal, Logesh Kumar Umapathi, and Malaikannan Sankarasubbu.
    2022. Medmcqa: A large-scale multi-subject multi-choice dataset for medical domain
    question answering. In *Conference on health, inference, and learning*, pages
    248–260\. PMLR.'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pal 等人（2022）Ankit Pal、Logesh Kumar Umapathi 和 Malaikannan Sankarasubbu. 2022.
    Medmcqa：一个大规模的多学科多选医学问答数据集. 载于 *健康、推理与学习会议论文集*，第248–260页。PMLR。
- en: 'Papineni et al. (2002) Kishore Papineni, Salim Roukos, Todd Ward, and Wei-Jing
    Zhu. 2002. Bleu: a method for automatic evaluation of machine translation. In
    *Proceedings of the 40th annual meeting of the Association for Computational Linguistics*,
    pages 311–318.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Papineni 等人（2002）Kishore Papineni、Salim Roukos、Todd Ward 和 Wei-Jing Zhu. 2002.
    Bleu：一种用于自动评估机器翻译的方法. 载于 *第40届计算语言学协会年会论文集*，第311–318页。
- en: 'Qian et al. (2024) Chen Qian, Wei Liu, Hongzhang Liu, Nuo Chen, Yufan Dang,
    Jiahao Li, Cheng Yang, Weize Chen, Yusheng Su, Xin Cong, et al. 2024. Chatdev:
    Communicative agents for software development. In *Proceedings of the 62nd Annual
    Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)*,
    pages 15174–15186.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Qian 等人（2024）Chen Qian、Wei Liu、Hongzhang Liu、Nuo Chen、Yufan Dang、Jiahao Li、Cheng
    Yang、Weize Chen、Yusheng Su、Xin Cong 等人. 2024. Chatdev：面向软件开发的交流型代理. 载于 *第62届计算语言学协会年会论文集（卷1：长篇论文）*，第15174–15186页。
- en: Qiu et al. (2024) Pengcheng Qiu, Chaoyi Wu, Xiaoman Zhang, Weixiong Lin, Haicheng
    Wang, Ya Zhang, Yanfeng Wang, and Weidi Xie. 2024. Towards building multilingual
    language model for medicine. *Nature Communications*, 15(1):8384.
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Qiu 等人（2024）Pengcheng Qiu、Chaoyi Wu、Xiaoman Zhang、Weixiong Lin、Haicheng Wang、Ya
    Zhang、Yanfeng Wang 和 Weidi Xie. 2024. 朝着构建面向医学的多语言模型迈进. *自然通讯*，15(1):8384。
- en: 'Schmidgall et al. (2024) Samuel Schmidgall, Rojin Ziaei, Carl Harris, Eduardo
    Reis, Jeffrey Jopling, and Michael Moor. 2024. Agentclinic: a multimodal agent
    benchmark to evaluate ai in simulated clinical environments. *arXiv preprint arXiv:2405.07960*.'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Schmidgall et al. (2024) Samuel Schmidgall, Rojin Ziaei, Carl Harris, Eduardo
    Reis, Jeffrey Jopling, 和 Michael Moor. 2024. Agentclinic：一个用于评估模拟临床环境中AI表现的多模态代理基准。*arXiv预印本
    arXiv:2405.07960*。
- en: Sendak et al. (2020) Mark Sendak, Madeleine Clare Elish, Michael Gao, Joseph
    Futoma, William Ratliff, Marshall Nichols, Armando Bedoya, Suresh Balu, and Cara
    O’Brien. 2020. " the human body is a black box" supporting clinical decision-making
    with deep learning. In *Proceedings of the 2020 conference on fairness, accountability,
    and transparency*, pages 99–109.
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sendak et al. (2020) Mark Sendak, Madeleine Clare Elish, Michael Gao, Joseph
    Futoma, William Ratliff, Marshall Nichols, Armando Bedoya, Suresh Balu, 和 Cara
    O’Brien. 2020. "人体是一个黑箱"：通过深度学习支持临床决策制定。在 *2020年公平、问责与透明会议论文集*，第99-109页。
- en: 'Shi et al. (2024) Wenqi Shi, Ran Xu, Yuchen Zhuang, Yue Yu, Jieyu Zhang, Hang
    Wu, Yuanda Zhu, Joyce Ho, Carl Yang, and May D Wang. 2024. Ehragent: Code empowers
    large language models for complex tabular reasoning on electronic health records.
    *arXiv preprint arXiv:2401.07128*.'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shi et al. (2024) Wenqi Shi, Ran Xu, Yuchen Zhuang, Yue Yu, Jieyu Zhang, Hang
    Wu, Yuanda Zhu, Joyce Ho, Carl Yang, 和 May D Wang. 2024. Ehragent：代码赋能大型语言模型在电子健康记录中的复杂表格推理。*arXiv预印本
    arXiv:2401.07128*。
- en: 'Shinn et al. (2024) Noah Shinn, Federico Cassano, Ashwin Gopinath, Karthik
    Narasimhan, and Shunyu Yao. 2024. Reflexion: Language agents with verbal reinforcement
    learning. *Advances in Neural Information Processing Systems*, 36.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shinn et al. (2024) Noah Shinn, Federico Cassano, Ashwin Gopinath, Karthik Narasimhan,
    和 Shunyu Yao. 2024. Reflexion：具有语言强化学习的语言代理。*神经信息处理系统进展*, 36。
- en: Singhal et al. (2023) Karan Singhal, Shekoofeh Azizi, Tao Tu, S Sara Mahdavi,
    Jason Wei, Hyung Won Chung, Nathan Scales, Ajay Tanwani, Heather Cole-Lewis, Stephen
    Pfohl, et al. 2023. Large language models encode clinical knowledge. *Nature*,
    620(7972):172–180.
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Singhal et al. (2023) Karan Singhal, Shekoofeh Azizi, Tao Tu, S Sara Mahdavi,
    Jason Wei, Hyung Won Chung, Nathan Scales, Ajay Tanwani, Heather Cole-Lewis, Stephen
    Pfohl, et al. 2023. 大型语言模型编码临床知识。*自然*, 620(7972):172-180。
- en: 'Sutton et al. (2020) Reed T Sutton, David Pincock, Daniel C Baumgart, Daniel C
    Sadowski, Richard N Fedorak, and Karen I Kroeker. 2020. An overview of clinical
    decision support systems: benefits, risks, and strategies for success. *NPJ digital
    medicine*, 3(1):17.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sutton et al. (2020) Reed T Sutton, David Pincock, Daniel C Baumgart, Daniel
    C Sadowski, Richard N Fedorak, 和 Karen I Kroeker. 2020. 临床决策支持系统概述：利益、风险及成功策略。*NPJ数字医学*,
    3(1):17。
- en: 'Tang et al. (2024) Xiangru Tang, Anni Zou, Zhuosheng Zhang, Ziming Li, Yilun
    Zhao, Xingyao Zhang, Arman Cohan, and Mark Gerstein. 2024. [Medagents: Large language
    models as collaborators for zero-shot medical reasoning](https://arxiv.org/abs/2311.10537).
    *Preprint*, arXiv:2311.10537.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Tang et al. (2024) Xiangru Tang, Anni Zou, Zhuosheng Zhang, Ziming Li, Yilun
    Zhao, Xingyao Zhang, Arman Cohan, 和 Mark Gerstein. 2024. [Medagents: 将大型语言模型作为零-shot医学推理的协作伙伴](https://arxiv.org/abs/2311.10537)。*预印本*,
    arXiv:2311.10537。'
- en: 'Tang et al. (2023) Xiangru Tang, Anni Zou, Zhuosheng Zhang, Yilun Zhao, Xingyao
    Zhang, Arman Cohan, and Mark Gerstein. 2023. Medagents: Large language models
    as collaborators for zero-shot medical reasoning. *arXiv preprint arXiv:2311.10537*.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tang et al. (2023) Xiangru Tang, Anni Zou, Zhuosheng Zhang, Yilun Zhao, Xingyao
    Zhang, Arman Cohan, 和 Mark Gerstein. 2023. Medagents：将大型语言模型作为零-shot医学推理的协作伙伴。*arXiv预印本
    arXiv:2311.10537*。
- en: 'Team et al. (2023) Gemini Team, Rohan Anil, Sebastian Borgeaud, Yonghui Wu,
    Jean-Baptiste Alayrac, Jiahui Yu, Radu Soricut, Johan Schalkwyk, Andrew M Dai,
    Anja Hauth, et al. 2023. Gemini: a family of highly capable multimodal models.
    *arXiv preprint arXiv:2312.11805*.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Team et al. (2023) Gemini Team, Rohan Anil, Sebastian Borgeaud, Yonghui Wu,
    Jean-Baptiste Alayrac, Jiahui Yu, Radu Soricut, Johan Schalkwyk, Andrew M Dai,
    Anja Hauth, et al. 2023. Gemini：一系列高效的多模态模型。*arXiv预印本 arXiv:2312.11805*。
- en: 'Team et al. (2024) Gemma Team, Morgane Riviere, Shreya Pathak, Pier Giuseppe
    Sessa, Cassidy Hardin, Surya Bhupatiraju, Léonard Hussenot, Thomas Mesnard, Bobak
    Shahriari, Alexandre Ramé, et al. 2024. Gemma 2: Improving open language models
    at a practical size. *arXiv preprint arXiv:2408.00118*.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Team et al. (2024) Gemma Team, Morgane Riviere, Shreya Pathak, Pier Giuseppe
    Sessa, Cassidy Hardin, Surya Bhupatiraju, Léonard Hussenot, Thomas Mesnard, Bobak
    Shahriari, Alexandre Ramé, et al. 2024. Gemma 2: 改进具有实际规模的开放语言模型。*arXiv预印本 arXiv:2408.00118*。'
- en: Tu et al. (2024) Tao Tu, Shekoofeh Azizi, Danny Driess, Mike Schaekermann, Mohamed
    Amin, Pi-Chuan Chang, Andrew Carroll, Charles Lau, Ryutaro Tanno, Ira Ktena, et al.
    2024. Towards generalist biomedical ai. *NEJM AI*, 1(3):AIoa2300138.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tu et al. (2024) Tao Tu, Shekoofeh Azizi, Danny Driess, Mike Schaekermann, Mohamed
    Amin, Pi-Chuan Chang, Andrew Carroll, Charles Lau, Ryutaro Tanno, Ira Ktena, et
    al. 2024. 向通用生物医学人工智能迈进。*NEJM AI*, 1(3):AIoa2300138。
- en: 'Wang et al. (2024a) Peng Wang, Shuai Bai, Sinan Tan, Shijie Wang, Zhihao Fan,
    Jinze Bai, Keqin Chen, Xuejing Liu, Jialin Wang, Wenbin Ge, et al. 2024a. Qwen2-vl:
    Enhancing vision-language model’s perception of the world at any resolution. *arXiv
    preprint arXiv:2409.12191*.'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 王等人 (2024a) 王鹏、白帅、谭思楠、王诗杰、范志豪、白金泽、陈克勤、刘雪晶、王嘉麟、葛文斌等人。2024a年。Qwen2-vl：增强视觉-语言模型在任意分辨率下的世界感知。*arXiv预印本
    arXiv:2409.12191*。
- en: 'Wang et al. (2024b) Wenxuan Wang, Yihang Su, Jingyuan Huan, Jie Liu, Wenting
    Chen, Yudi Zhang, Cheng-Yi Li, Kao-Jung Chang, Xiaohan Xin, Linlin Shen, et al.
    2024b. Asclepius: A spectrum evaluation benchmark for medical multi-modal large
    language models. *arXiv preprint arXiv:2402.11217*.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 王等人 (2024b) 王文轩、苏怡航、黄景远、刘洁、陈文婷、张宇迪、李承逸、张考荣、辛晓翰、沈琳琳等人。2024b年。Asclepius：一个针对医学多模态大语言模型的谱系评估基准。*arXiv预印本
    arXiv:2402.11217*。
- en: 'Wang et al. (2023) Xidong Wang, Guiming Hardy Chen, Dingjie Song, Zhiyi Zhang,
    Zhihong Chen, Qingying Xiao, Feng Jiang, Jianquan Li, Xiang Wan, Benyou Wang,
    et al. 2023. Cmb: A comprehensive medical benchmark in chinese. *arXiv preprint
    arXiv:2308.08833*.'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 王等人 (2023) 王希东、陈贵名、宋定杰、张志毅、陈志红、肖清英、姜峰、李建全、万翔、王本友等人。2023年。Cmb：一个中文医学综合基准。*arXiv预印本
    arXiv:2308.08833*。
- en: 'Wang et al. (2024c) Zilong Wang, Yuedong Cui, Li Zhong, Zimin Zhang, Da Yin,
    Bill Yuchen Lin, and Jingbo Shang. 2024c. Officebench: Benchmarking language agents
    across multiple applications for office automation. *arXiv preprint arXiv:2407.19056*.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 王等人 (2024c) 王子龙、崔月东、钟立、张子敏、尹大、林宇晨、尚晶博。2024c年。Officebench：在多个应用中对语言代理进行基准测试以实现办公自动化。*arXiv预印本
    arXiv:2407.19056*。
- en: 'Wu et al. (2024) Junde Wu, Jiayuan Zhu, and Yunli Qi. 2024. [Medical graph
    rag: Towards safe medical large language model via graph retrieval-augmented generation](https://arxiv.org/abs/2408.04187).
    *Preprint*, arXiv:2408.04187.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 吴等人 (2024) 吴俊德、朱家源、祁云力。2024年。[医学图谱增强生成：通过图谱检索增强生成实现安全的医学大语言模型](https://arxiv.org/abs/2408.04187)。*预印本*，arXiv:2408.04187。
- en: 'Xie et al. (2024) Yiqing Xie, Sheng Zhang, Hao Cheng, Pengfei Liu, Zelalem
    Gero, Cliff Wong, Tristan Naumann, Hoifung Poon, and Carolyn Rose. 2024. Doclens:
    Multi-aspect fine-grained medical text evaluation. In *Proceedings of the 62nd
    Annual Meeting of the Association for Computational Linguistics (Volume 1: Long
    Papers)*, pages 649–679.'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谢等人 (2024) 谢一青、张晟、程浩、刘鹏飞、泽拉勒姆·吉罗、黄崖、特里斯坦·诺曼、潘辉、卡罗琳·罗斯。2024年。Doclens：多方面细粒度医学文本评估。在*第62届计算语言学协会年会论文集（第1卷：长篇论文）*，第649-679页。
- en: Xiong et al. (2024) Guangzhi Xiong, Qiao Jin, Zhiyong Lu, and Aidong Zhang.
    2024. [Benchmarking retrieval-augmented generation for medicine](https://arxiv.org/abs/2402.13178).
    *Preprint*, arXiv:2402.13178.
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 熊等人 (2024) 熊广志、金乔、卢志勇、张爱东。2024年。[医学领域检索增强生成基准测试](https://arxiv.org/abs/2402.13178)。*预印本*，arXiv:2402.13178。
- en: 'Yue et al. (2024) Ling Yue, Sixue Xing, Jintai Chen, and Tianfan Fu. 2024.
    [Clinicalagent: Clinical trial multi-agent system with large language model-based
    reasoning](https://arxiv.org/abs/2404.14777). *Preprint*, arXiv:2404.14777.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 岳等人 (2024) 岳玲、邢思雪、陈锦泰、傅天凡。2024年。[临床代理：基于大语言模型推理的临床试验多代理系统](https://arxiv.org/abs/2404.14777)。*预印本*，arXiv:2404.14777。
- en: 'Zakka et al. (2024) Cyril Zakka, Joseph Cho, Gracia Fahed, Rohan Shad, Michael
    Moor, Robyn Fong, Dhamanpreet Kaur, Vishnu Ravi, Oliver Aalami, Roxana Daneshjou,
    et al. 2024. Almanac copilot: Towards autonomous electronic health record navigation.
    *arXiv preprint arXiv:2405.07896*.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 扎卡等人 (2024) 西里尔·扎卡、约瑟夫·乔、格雷西亚·法赫德、罗汉·沙德、迈克尔·穆尔、罗宾·方、达曼普里特·考尔、维什努·拉维、奥利弗·阿拉米、罗莎娜·达内什久等人。2024年。Almanac副驾驶：朝着自主电子健康记录导航迈进。*arXiv预印本
    arXiv:2405.07896*。
- en: 'Zhang et al. (2019) Tianyi Zhang, Varsha Kishore, Felix Wu, Kilian Q Weinberger,
    and Yoav Artzi. 2019. Bertscore: Evaluating text generation with bert. *arXiv
    preprint arXiv:1904.09675*.'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 张等人 (2019) 张天怡、瓦尔莎·基肖尔、费利克斯·吴、基利安·Q·温伯格、尤阿夫·阿尔茨。2019年。Bertscore：使用BERT评估文本生成。*arXiv预印本
    arXiv:1904.09675*。
- en: Zhang et al. (2018) Xiao Zhang, Ji Wu, Zhiyang He, Xien Liu, and Ying Su. 2018.
    Medical exam question answering with large-scale reading comprehension. In *Proceedings
    of the AAAI conference on artificial intelligence*, volume 32.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 张等人 (2018) 张晓、吴吉、何志阳、刘贤、苏颖。2018年。基于大规模阅读理解的医学考试问题回答。在*人工智能领域的AAAI会议论文集*，第32卷。
- en: '(49) Yuchen Zhuang, Xiang Chen, Tong Yu, Saayan Mitra, Victor Bursztyn, Ryan A
    Rossi, Somdeb Sarkhel, and Chao Zhang. Toolchain*: Efficient action space navigation
    in large language models with a* search. In *The Twelfth International Conference
    on Learning Representations*.'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '(49) Yuchen Zhuang, Xiang Chen, Tong Yu, Saayan Mitra, Victor Bursztyn, Ryan
    A Rossi, Somdeb Sarkhel, 和 Chao Zhang. Toolchain*: 使用a*搜索在大规模语言模型中高效导航动作空间。在*第十二届国际学习表征会议*。'
- en: Appendix for MedChain
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: MedChain附录
- en: Abstract.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 摘要。
- en: '[Appendix A](https://arxiv.org/html/2412.01605v1#A1 "Appendix A Benchmark Construction
    ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical Practice through
    Interactive Sequential Benchmarking") describes the process of standardizing and
    organizing the dataset for the MedChainbenchmark.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录 A](https://arxiv.org/html/2412.01605v1#A1 "附录 A 基准构建 ‣ MedChain：通过交互式顺序基准测试弥合LLM代理与临床实践之间的差距")
    描述了MedChain基准数据集的标准化和组织过程。'
- en: '[Appendix B](https://arxiv.org/html/2412.01605v1#A2 "Appendix B MedChain-Agent
    ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical Practice through
    Interactive Sequential Benchmarking") provides a detailed explanation of the MedChain-Agent
    framework, including its implementation, feedback mechanism, and the novel Retrieval-Augmented
    Generation (RAG) approach used to enhance decision-making.'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录 B](https://arxiv.org/html/2412.01605v1#A2 "附录 B MedChain-Agent ‣ MedChain：通过交互式顺序基准测试弥合LLM代理与临床实践之间的差距")
    提供了MedChain-Agent框架的详细解释，包括其实现、反馈机制，以及用于增强决策的创新型检索增强生成（RAG）方法。'
- en: '[Appendix C](https://arxiv.org/html/2412.01605v1#A3 "Appendix C Supplementary
    for Experiment ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical Practice
    through Interactive Sequential Benchmarking") lists the additional details for
    experiment.'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录 C](https://arxiv.org/html/2412.01605v1#A3 "附录 C 实验补充 ‣ MedChain：通过交互式顺序基准测试弥合LLM代理与临床实践之间的差距")
    列出了实验的附加细节。'
- en: Appendix A Benchmark Construction
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 A 基准构建
- en: A.1 Dataset Standardization
  id: totrans-199
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.1 数据集标准化
- en: We employed a combination of large language models and human verification to
    label data across different tasks. Our methodology involves task-specific prompt
    construction and output matching to ensure data quality and diversity while maintaining
    alignment with real clinical case scenarios.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 我们采用了大规模语言模型与人工验证相结合的方法，在不同任务中标注数据。我们的方法包括针对任务的提示构建和输出匹配，旨在确保数据质量和多样性，同时保持与真实临床案例场景的一致性。
- en: 'To ensure consistency and comparability across the benchmark, we standardized
    the classification of examination items into two main categories: Physical Examinations
    and Auxiliary Examinations. Physical Examinations include evaluations of various
    body systems and general health indicators, while Auxiliary Examinations encompass
    different imaging techniques and laboratory tests. We utilized GPT-4o to extract
    and classify examination items from each case, followed by manual verification
    to ensure accuracy. For medical imaging, we classified images into seven types,
    and manual review ensured the correctness of the classifications. Additionally,
    treatment items were extracted and categorized from each case. This standardization
    process ensures that the dataset is consistent, facilitating accurate and comparable
    evaluations of LLM performance. [Figure 5](https://arxiv.org/html/2412.01605v1#A1.F5
    "Figure 5 ‣ A.1 Dataset Standardization ‣ Appendix A Benchmark Construction ‣
    MedChain: Bridging the Gap Between LLM Agents and Clinical Practice through Interactive
    Sequential Benchmarking") shows the statistics of different departments and [Figure 4](https://arxiv.org/html/2412.01605v1#A1.F4
    "Figure 4 ‣ A.1 Dataset Standardization ‣ Appendix A Benchmark Construction ‣
    MedChain: Bridging the Gap Between LLM Agents and Clinical Practice through Interactive
    Sequential Benchmarking") demonstrate a case after standardization.'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '为确保基准的一致性和可比性，我们将检查项目的分类标准化为两大类：体格检查和辅助检查。体格检查包括对各种身体系统和一般健康指标的评估，而辅助检查涵盖了不同的影像学技术和实验室测试。我们利用
    GPT-4o 从每个病例中提取并分类检查项目，随后进行人工验证以确保准确性。对于医学影像，我们将影像分为七种类型，并通过人工审查确保分类的正确性。此外，还从每个病例中提取并分类了治疗项目。该标准化过程确保了数据集的一致性，有助于对
    LLM 性能进行准确且可比的评估。[图 5](https://arxiv.org/html/2412.01605v1#A1.F5 "图 5 ‣ A.1 数据集标准化
    ‣ 附录 A 基准构建 ‣ MedChain: 通过互动式序列基准测试缩小大型语言模型 (LLM) 代理与临床实践之间的差距") 展示了不同科室的统计数据，[图
    4](https://arxiv.org/html/2412.01605v1#A1.F4 "图 4 ‣ A.1 数据集标准化 ‣ 附录 A 基准构建 ‣ MedChain:
    通过互动式序列基准测试缩小大型语言模型 (LLM) 代理与临床实践之间的差距") 展示了标准化后的一个病例。'
- en: '![Refer to caption](img/8408c7363f14fe573d06a089f66690dd.png)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/8408c7363f14fe573d06a089f66690dd.png)'
- en: 'Figure 4: Case presentation "77_Ovarian Carcinoid with Mature Cystic Teratoma:
    A Case Report."'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4：病例展示 “77_卵巢类癌伴成熟型囊性畸胎瘤：一例报告”。
- en: '![Refer to caption](img/0e46e915b19cdb3e3892968b4461b410.png)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/0e46e915b19cdb3e3892968b4461b410.png)'
- en: 'Figure 5: Multi-departmental Distribution'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5：多科室分布
- en: A.2 Tasks Details
  id: totrans-206
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.2 任务详情
- en: 'This section provides a comprehensive description of the five specific tasks
    that make up the MedChainbenchmark. Each subsection elaborates on a particular
    task, detailing its input, output, and evaluation methods. [Figure 6](https://arxiv.org/html/2412.01605v1#A1.F6
    "Figure 6 ‣ A.2.5 Task 5: Treatment ‣ A.2 Tasks Details ‣ Appendix A Benchmark
    Construction ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical Practice
    through Interactive Sequential Benchmarking") visualizes the differences between
    MedChainand other methods.'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '本节提供了 MedChain 基准中五个具体任务的全面描述。每个子章节详细阐述了特定任务的输入、输出和评估方法。[图 6](https://arxiv.org/html/2412.01605v1#A1.F6
    "图 6 ‣ A.2.5 任务 5: 治疗 ‣ A.2 任务详情 ‣ 附录 A 基准构建 ‣ MedChain: 通过互动式序列基准测试缩小大型语言模型 (LLM)
    代理与临床实践之间的差距") 直观展示了 MedChain 与其他方法的区别。'
- en: 'A.2.1 Task 1: Specialty referral'
  id: totrans-208
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.2.1 任务 1：专科转诊
- en: The specialty referral task evaluates the LLM’s ability to assess the urgency
    of a patient’s condition and determine the appropriate department based on the
    patient’s chief complaint. The input consists of the patient’s chief complaint,
    and the output space includes 19 first-level departments and 156 second-level
    departments. The LLM must first assign the patient to one of the 19 first-level
    departments, then to one or more of the 156 second-level departments based on
    the primary symptoms. Evaluation metrics include accuracy for first-level department
    assignment and Intersection over Union (IoU) for second-level department assignment.
    IoU is used for second-level departments to account for the possibility of multiple
    correct assignments and to reflect partial correctness, which can occur in complex
    cases. This metric better captures the nuanced nature of departmental referrals
    in clinical practice.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 专科转诊任务评估大型语言模型（LLM）评估患者病情紧急程度并根据患者的主要投诉确定合适科室的能力。输入包括患者的主要投诉，输出空间包括19个一级科室和156个二级科室。LLM必须首先将患者分配到19个一级科室中的一个，然后根据主要症状将其分配到156个二级科室中的一个或多个。评估指标包括一级科室分配的准确度和二级科室分配的交并比（IoU）。IoU用于二级科室的评估，以考虑到可能有多个正确分配，并反映复杂病例中可能出现的部分正确性。这个指标更好地捕捉了临床实践中科室转诊的复杂性。
- en: 'A.2.2 Task 2: History-taking'
  id: totrans-210
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.2.2 任务 2：病史采集
- en: 'The history-taking task is designed to simulate doctor-patient communication,
    where the goal is to obtain relevant information and infer necessary examination
    items. We employ a multi-agent system to evaluate this process:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 病史采集任务旨在模拟医生与患者的沟通，其目标是获取相关信息并推断必要的检查项目。我们采用多代理系统来评估这个过程：
- en: •
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Doctor Agent: The LLM being evaluated plays this role, asking questions and
    suggesting examinations based on the patient’s responses.'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 医生代理：评估中的大型语言模型（LLM）扮演这个角色，依据患者的回应提出问题并建议检查。
- en: •
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Patient Agent: A local large model (such as Google’s gemma2/9b) simulates the
    patient, responding based on pre-defined case information. This includes the patient’s
    chief complaint, medical history, and examination results.'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 患者代理：一个本地大型模型（如谷歌的gemma2/9b）模拟患者，根据预定义的病例信息进行回应。这些信息包括患者的主要投诉、病史和检查结果。
- en: •
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Extraction Agent: This agent extracts examination items that the Doctor Agent
    inquires about or suggests from the dialogue between the Doctor and Patient Agents.
    These extracted items form the output for comparison with the ground truth examination
    set.'
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 提取代理：该代理从医生与患者代理之间的对话中提取医生询问或建议的检查项目。这些提取的项目形成输出，并与地面真实检查集进行比较。
- en: The evaluation metric is the IoU between the examination items extracted by
    the Extraction Agent (based on the Doctor Agent’s inquiries and suggestions) and
    the ground truth set. This multi-agent design simulates a realistic clinical history-taking
    process, allowing the LLM to demonstrate its ability to ask relevant follow-up
    questions, interpret patient responses, and determine appropriate examinations.
    The use of a local large model as the Patient Agent ensures consistency in evaluations
    and improves the reproducibility of the benchmark.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 评估指标是由提取代理（Extraction Agent）基于医生代理的询问和建议提取的检查项目与地面真实集（ground truth set）之间的交并比（IoU）。这种多代理设计模拟了一个真实的临床病史采集过程，允许大型语言模型展示其提问相关后续问题、解读患者回答和确定适当检查的能力。使用本地大型模型作为患者代理确保了评估的一致性，并提高了基准测试的可重复性。
- en: 'A.2.3 Task 3: Examination'
  id: totrans-219
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.2.3 任务 3：检查
- en: 'The examination task assesses the LLM’s ability to analyze medical images and
    generate corresponding image reports. The input consists of the medical images
    from each case, and the output is a free-text image report. This task tests the
    LLM’s capability to interpret visual medical data and articulate findings in a
    clear, professional manner. Given the complexity of medical reports, conventional
    NLP metrics such as BLEU Papineni et al. ([2002](https://arxiv.org/html/2412.01605v1#bib.bib24))
    and BERTScore Zhang et al. ([2019](https://arxiv.org/html/2412.01605v1#bib.bib47))
    are inadequate for evaluating this task, as they do not capture whether the generated
    report aligns with the ground truth in terms of medical claims. Instead, we adopt
    the Claim Recall metric proposed in DocLens Xie et al. ([2024](https://arxiv.org/html/2412.01605v1#bib.bib43))
    to evaluate the completeness of the generated report. First, GPT-4o-mini is used
    to extract a list of claims from the original ground truth report. Then, GPT-4o-mini
    assesses whether the generated report entails these reference claims, and the
    recall score measures the proportion of claims that are correctly reflected in
    the generated report. The prompts used for this evaluation can be found in [Figure 7](https://arxiv.org/html/2412.01605v1#A1.F7
    "Figure 7 ‣ A.2.5 Task 5: Treatment ‣ A.2 Tasks Details ‣ Appendix A Benchmark
    Construction ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical Practice
    through Interactive Sequential Benchmarking").'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '该检查任务评估LLM分析医学图像并生成相应图像报告的能力。输入包括每个案例的医学图像，输出为自由文本格式的图像报告。此任务测试LLM解读视觉医学数据并以清晰、专业的方式表达结果的能力。鉴于医学报告的复杂性，传统的自然语言处理指标，如BLEU
    Papineni等（[2002](https://arxiv.org/html/2412.01605v1#bib.bib24)）和BERTScore Zhang等（[2019](https://arxiv.org/html/2412.01605v1#bib.bib47)），对于评估该任务并不充分，因为它们未能捕捉生成的报告是否在医学主张上与实际情况一致。相反，我们采用了DocLens
    Xie等（[2024](https://arxiv.org/html/2412.01605v1#bib.bib43)）提出的Claim Recall指标来评估生成报告的完整性。首先，使用GPT-4o-mini从原始地面真实报告中提取主张列表。然后，GPT-4o-mini评估生成的报告是否包含这些参考主张，召回率得分衡量在生成的报告中正确反映的主张的比例。用于此评估的提示可在[图7](https://arxiv.org/html/2412.01605v1#A1.F7
    "Figure 7 ‣ A.2.5 Task 5: Treatment ‣ A.2 Tasks Details ‣ Appendix A Benchmark
    Construction ‣ MedChain: Bridging the Gap Between LLM Agents and Clinical Practice
    through Interactive Sequential Benchmarking")中找到。'
- en: 'A.2.4 Task 4: Diagnosis'
  id: totrans-221
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.2.4 任务 4：诊断
- en: 'The diagnosis task evaluates the LLM’s ability to identify the patient’s illness
    based on the provided symptoms and examination results. The input includes the
    patient’s chief complaint, medical history, examination results, and the department
    visited. The output is a diagnosis in free-text format. We use a five-level grading
    system to evaluate the accuracy of the diagnosis, ranging from completely inaccurate
    to completely accurate. This graded system allows for a more nuanced evaluation
    of the LLM’s diagnostic capabilities, as diagnoses can be partially correct or
    expressed in different ways. The system accounts for the complex nature of medical
    diagnoses, where multiple factors may contribute to the patient’s condition. The
    five-level grading system is listed as following:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 诊断任务评估LLM根据提供的症状和检查结果识别患者疾病的能力。输入包括患者的主诉、病史、检查结果以及就诊科室。输出为自由文本格式的诊断。我们使用五级评分系统来评估诊断的准确性，评分范围从完全不准确到完全准确。这个分级系统允许更细致地评估LLM的诊断能力，因为诊断可能是部分正确的或以不同的方式表达。该系统考虑到医学诊断的复杂性，其中多个因素可能影响患者的病情。五级评分系统如下：
- en: '1.'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: Completely inaccurate (diagnosis completely inconsistent with the actual diagnosis)
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 完全不准确（诊断与实际诊断完全不一致）
- en: '2.'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2.'
- en: Mostly inaccurate (most of the diagnosis inconsistent with the actual diagnosis)
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 大部分不准确（大多数诊断与实际诊断不一致）
- en: '3.'
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3.'
- en: Partially accurate (part of the diagnosis consistent with the actual diagnosis,
    but overall large discrepancy)
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 部分准确（部分诊断与实际诊断一致，但整体差异较大）
- en: '4.'
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '4.'
- en: Mostly accurate (most of the diagnosis consistent with the actual diagnosis)
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 大部分准确（大多数诊断与实际诊断一致）
- en: '5.'
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '5.'
- en: Completely accurate (diagnosis fully consistent with the actual diagnosis)
  id: totrans-232
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 完全准确（诊断与实际诊断完全一致）
- en: 'A.2.5 Task 5: Treatment'
  id: totrans-233
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: A.2.5 任务 5：治疗
- en: The treatment task involves formulating a treatment plan based on the patient’s
    diagnosis and examination results. The input includes the patient’s chief complaint,
    medical history, examination results, and diagnosis. The output is a set of proposed
    treatment items. The evaluation metric is the IoU between the proposed treatments
    and the ground truth treatment set. Since multiple treatment options may be appropriate,
    IoU allows for partial credit when the LLM suggests a subset of the recommended
    treatments or proposes additional reasonable treatments that are not part of the
    ground truth. This task tests the LLM’s ability to synthesize the gathered information
    and apply medical knowledge to develop an appropriate treatment plan, considering
    factors such as drug interactions, treatment protocols, and patient-specific considerations.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 治疗任务涉及根据患者的诊断和检查结果制定治疗计划。输入包括患者的主诉、病史、检查结果和诊断。输出是一组建议的治疗项目。评估指标是建议的治疗与真实治疗集之间的
    IoU。由于可能有多种治疗方案适用，IoU 允许部分得分，当 LLM 提出一个推荐治疗的子集或提出额外的合理治疗（这些治疗不在真实治疗集内）时，这种方式允许部分得分。此任务考察了
    LLM 综合信息并应用医学知识制定适当治疗计划的能力，考虑因素包括药物相互作用、治疗方案以及患者特定情况。
- en: '![Refer to caption](img/6bfd8c31c42926ea49ae85a430b5dde9.png)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明](img/6bfd8c31c42926ea49ae85a430b5dde9.png)'
- en: 'Figure 6: Comparison between our benchmark method and previous benchmarks.
    In Figure (a), the benchmark methods used in previous work are shown, which are
    based on specific domain problems and cannot achieve a complete end-to-end medical
    task workflow. In Figure (b), our proposed benchmark is presented, where we effectively
    accomplish the full workflow of medical tasks through our proposed MCase-RAG method
    and the ACFM mechanism.'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6：我们基准方法与之前基准方法的对比。在图 (a) 中，展示了之前工作中使用的基准方法，这些方法基于特定领域的问题，无法实现完整的端到端医疗任务工作流程。在图
    (b) 中，展示了我们提出的基准方法，我们通过提出的 MCase-RAG 方法和 ACFM 机制，成功实现了医疗任务的完整工作流程。
- en: '![Refer to caption](img/e9b3749eb00adc0cba0f60fa5e122945.png)'
  id: totrans-237
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明](img/e9b3749eb00adc0cba0f60fa5e122945.png)'
- en: 'Figure 7: The prompt for Extract Reference Claim and Entailment Evaluation.'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7：提取参考声明和蕴含评估的提示。
- en: A.3 Examination Items
  id: totrans-239
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.3 检查项目
- en: 'Physical Examination: General examination (including height, weight, temperature,
    blood pressure, pulse, etc.), head, eyes, ears, nose and throat examination, neck
    examination (including thyroid, cervical lymph nodes), chest examination (including
    lungs, heart), abdominal examination, spine and limb examination, skin examination,
    neurological examination, urogenital system examination.'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 体格检查：一般检查（包括身高、体重、体温、血压、脉搏等）、头部、眼睛、耳朵、鼻子和喉咙检查、颈部检查（包括甲状腺、颈部淋巴结）、胸部检查（包括肺、心脏）、腹部检查、脊柱和四肢检查、皮肤检查、神经系统检查、泌尿生殖系统检查。
- en: 'Auxiliary Examinations: X-ray, MRI, CT, ultrasound, nuclear medicine imaging,
    blood tests, urine tests, stool tests, endoscopy, pathological examination.'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 辅助检查：X 射线、MRI、CT、超声、核医学影像学、血液检查、尿液检查、大便检查、内窥镜检查、病理检查。
- en: A.4 Treatment Items
  id: totrans-242
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: A.4 治疗项目
- en: Surgery, interventional therapy, medication, chemotherapy, antibiotic therapy,
    radiation therapy, physical therapy, immunotherapy, psychological therapy, traditional
    Chinese medicine, gene therapy.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 手术、介入治疗、药物治疗、化疗、抗生素治疗、放射治疗、物理治疗、免疫治疗、心理治疗、传统中医治疗、基因治疗。
- en: '![Refer to caption](img/db23b962272acd6670e47a30ca01e40a.png)'
  id: totrans-244
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明](img/db23b962272acd6670e47a30ca01e40a.png)'
- en: 'Figure 8: The specific agent design for each task in our MedChain-Agent and
    the ACFM of the entire process are presented.'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8：我们 MedChain-Agent 中每个任务的具体代理设计以及整个过程的 ACFM 方案。
- en: Appendix B MedChain-Agent
  id: totrans-246
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 B MedChain-Agent
- en: B.1 Implementation Details
  id: totrans-247
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.1 实施细节
- en: 'The overall process and output flow of our framework are illustrated in [Figure 8](https://arxiv.org/html/2412.01605v1#A1.F8
    "Figure 8 ‣ A.4 Treatment Items ‣ Appendix A Benchmark Construction ‣ MedChain:
    Bridging the Gap Between LLM Agents and Clinical Practice through Interactive
    Sequential Benchmarking"). The patient first describes their condition, after
    which Task 1 performs specialty referral, assigning the patient to the appropriate
    primary and secondary departments. Once Task 1 is completed, the doctor group
    consists of specialists from the corresponding primary department, enabling better
    analytical decision-making. Task 2 involves these specialists prescribing suitable
    medical examinations based on the patient’s current situation. Task 3 focuses
    on analyzing the patient’s imaging data to generate a detailed and comprehensive
    imaging report. Task 4 consists of the specialists conducting a comprehensive
    analysis based on the results from Task 2 and the imaging report from Task 3 to
    provide an initial diagnosis for the patient. Finally, Task 5 involves the specialists
    formulating an appropriate treatment plan based on all the previous tasks’ results
    and analyses.'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '我们框架的整体流程和输出流程在[图 8](https://arxiv.org/html/2412.01605v1#A1.F8 "Figure 8 ‣
    A.4 Treatment Items ‣ Appendix A Benchmark Construction ‣ MedChain: Bridging the
    Gap Between LLM Agents and Clinical Practice through Interactive Sequential Benchmarking")中进行了说明。患者首先描述自己的病情，随后任务
    1 执行专科转诊，将患者分配到适当的初级和二级科室。任务 1 完成后，由相应初级科室的专家组组成医生团队，从而促进更好的分析决策。任务 2 涉及这些专家根据患者当前的情况开具合适的医学检查。任务
    3 主要分析患者的影像数据，生成详细且全面的影像报告。任务 4 由专家们基于任务 2 的结果和任务 3 的影像报告进行综合分析，为患者提供初步诊断。最后，任务
    5 涉及专家根据所有前述任务的结果和分析，制定合适的治疗方案。'
- en: 'Additionally, in the aforementioned description, the decision-making and analytical
    processes for all tasks are conducted through discussions within the Doctor Group.
    Specifically, three specialists from the same department first engage in discussions
    and analysis, after which they summarize their findings and results to the final
    medical generalist (primary care physician) for the final decision. At each step,
    relevant similar cases are retrieved from our medical database to assist in decision-making.
    For Task 1, we will divide the tasks of identifying primary and secondary departments
    into two subtasks based on the Chain of Thought (CoT) approach: first identifying
    the primary department, followed by identifying the secondary department. Similarly,
    for Task 2, we first prescribe specific tests before additional examinations,
    optimizing the decision-making process.'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，在上述描述中，所有任务的决策和分析过程都是通过医生团队的讨论进行的。具体来说，来自同一科室的三位专家首先进行讨论和分析，然后将他们的发现和结果总结给最终的全科医生（主治医生）以作出最终决定。在每个步骤中，都会从我们的医学数据库中检索相关的相似案例，以帮助决策。对于任务
    1，我们将基于思维链（CoT）方法，将识别初级科室和二级科室的任务分为两个子任务：首先识别初级科室，然后识别二级科室。同样，任务 2 中，我们首先开具具体的检查，再进行后续的检查，从而优化决策过程。
- en: Once the patient completes the entire medical process, a comprehensive treatment
    follow-up record will be compiled, including treatment outcomes and reports from
    each stage, along with the patient’s information. This data will then be reintroduced
    into our medical database. Since these data have not been fully validated (we
    do not know how reasonable the decisions made for the current cases are), we will
    treat this data as pseudo-data based on the principles of semi-supervised learning
    and assign it a lower priority. This means that we will first retrieve data from
    completely validated sources, and if retrieval fails or data is insufficient,
    we will resort to retrieving from the pseudo-data.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦患者完成整个医疗过程，将编制一份综合治疗跟踪记录，包含每个阶段的治疗结果和报告，以及患者的信息。随后，这些数据将重新引入我们的医学数据库。由于这些数据尚未完全验证（我们无法判断当前病例的决策合理性），我们将根据半监督学习的原则，将这些数据视为伪数据，并赋予其较低的优先级。这意味着我们将首先从完全验证过的来源中检索数据，如果检索失败或数据不足，我们将转而从伪数据中进行检索。
- en: B.2 Feedback Mechanism Details
  id: totrans-251
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.2 反馈机制详情
- en: To date, no work has proposed a multi-agent framework for simulating the entire
    medical process. Although existing frameworks demonstrate efficiency in specific
    medical tasks, their performance is suboptimal when linking various medical stages
    together. In sequential task scenarios, simply concatenating individual tasks
    is not feasible. Therefore, our full-process task can be regarded as a multi-sequence
    task, which necessitates a deeper exploration of the issue of error propagation.
    When a problem arises in the first task, subsequent tasks will analyze and make
    decisions based on erroneous results, potentially leading to severe impacts on
    the entire process.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，尚未有工作提出一种多智能体框架来模拟整个医疗过程。尽管现有的框架在特定医疗任务中展现了效率，但在将各个医疗阶段连接起来时，其性能仍不尽如人意。在顺序任务场景中，简单地将单个任务串联起来是不可行的。因此，我们的全流程任务可以视为一个多序列任务，这就需要深入探讨错误传播的问题。当第一个任务出现问题时，随后的任务将基于错误的结果进行分析和决策，可能会对整个过程产生严重影响。
- en: To address this issue, we have introduced a feedback mechanism within the full-process
    framework, tightly connecting the current task with all subsequent tasks (as shown
    in Figure 6). After the current task is completed, the output results are evaluated
    by the physicians of the subsequent tasks (Feedback Judgement Group). Only when
    the results are confirmed to be accurate will the process advance to the next
    task; if issues are identified, the reasons for the errors and improvement suggestions
    will be output and fed back to the current task for re-discussion and decision-making.
    This process will continue iteratively until consensus is reached on the results
    or the maximum number of discussion rounds is achieved.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决这个问题，我们在全流程框架中引入了一个反馈机制，紧密地将当前任务与所有后续任务连接起来（如图6所示）。当前任务完成后，后续任务的医生将对输出结果进行评估（反馈判断小组）。只有当结果被确认准确时，过程才会推进到下一个任务；如果发现问题，将输出错误原因和改进建议，并反馈给当前任务进行重新讨论和决策。这个过程将持续迭代，直到对结果达成共识或达到最大讨论轮次为止。
- en: By implementing a feedback mechanism between each task, we can effectively manage
    the propagation of errors while significantly enhancing collaboration and communication
    among agent groups. This mechanism encourages agents to share information in real-time,
    improving mutual understanding and allowing for rapid strategic adjustments when
    issues are identified, thereby enhancing the overall flexibility and adaptability
    of the system. Each agent can better respond to changes in a dynamic environment,
    facilitating more efficient medical services. This feedback-driven collaborative
    model lays the foundation for the efficient operation of multi-agent systems,
    aiding in the provision of precise and reliable medical decision support in complex
    clinical environments.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在每个任务之间实施反馈机制，我们可以有效地管理错误的传播，同时显著增强智能体小组之间的协作与沟通。该机制鼓励智能体实时共享信息，提升相互理解，并在发现问题时迅速进行战略调整，从而增强系统的整体灵活性和适应性。每个智能体能够更好地应对动态环境中的变化，从而促进更高效的医疗服务。这个基于反馈的协作模型为多智能体系统的高效运作奠定了基础，有助于在复杂临床环境中提供精确可靠的医疗决策支持。
- en: B.3 RAG Details
  id: totrans-255
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.3 RAG 细节
- en: We performed data restructuring on the original dataset, where each case is
    mapped into a 12-dimensional feature vector using attributes like Age, Sex, Patient
    Description, Symptom Description, Patient History, and Patient Image. Among these,
    "Symptom Description" is identified as the most representative feature of the
    current patient and is processed through a Text Embedding model for quantification,
    which is stored in the database for subsequent dense retrieval tasks.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 我们对原始数据集进行了数据重构，其中每个病例通过年龄、性别、病人描述、症状描述、病史和病人影像等属性映射到一个12维的特征向量。在这些属性中，“症状描述”被确定为当前病人最具代表性的特征，并通过文本嵌入模型进行量化，存储在数据库中，以供后续的密集检索任务使用。
- en: Previous Medical-RAG methods relied on medical question-answering (QA) databases
    and predominantly used chunked indexing for retrieval. Our approach differs in
    several ways (as shown in Figure 5). Firstly, the content of our foundational
    medical database is distinct; while most methods have built their databases using
    medical QA data, ours utilizes a tree structure. We initially categorize patient
    information according to primary medical departments (in the experimental section,
    we categorized into 19 primary departments) and then extract and map patient information
    into a two-dimensional feature representation, as illustrated in Figure 4\. This
    storage design allows for better retention of the patient’s crucial clinical information
    to assist in decision-making. Secondly, our retrieval method also diverges from
    theirs. In our retrieval process, we simulate the everyday practice of physicians.
    When faced with challenging cases that require decision-making, doctors often
    refer to past cases as references to enhance current decisions and judgments.
    We treat these two-dimensional features as the minimal unit of a case, using “Symptom
    description” as the basis for retrieval. When a new patient arrives, we extract
    and refine their “Symptom description” feature (approximately 70 characters).
    We employ direct quantitative matching without tokenizing this feature, using
    a Text Embedding model for quantification. The resulting feature vector is then
    compared to each case in our database corresponding to the relevant department
    through cosine similarity calculations, selecting the top three cases with the
    highest symptom similarity as the current retrieval results. These results, combined
    with the current case features, are forwarded to subsequent agents for comprehensive
    decision-making and judgment, enhancing the agents’ output. Since our retrieval
    method does not utilize document chunking but rather employs direct matching,
    it retains more matching information, leading to improved matching accuracy.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 以往的 Medical-RAG 方法依赖于医学问答（QA）数据库，主要使用分块索引进行检索。我们的做法在多个方面有所不同（如图 5 所示）。首先，我们基础医学数据库的内容是独特的；大多数方法通过医学
    QA 数据构建了他们的数据库，而我们则采用树状结构。我们最初根据主要医学科室对患者信息进行分类（在实验部分，我们将其分类为 19 个主要科室），然后将患者信息提取并映射到二维特征表示中，如图
    4 所示。这种存储设计有助于更好地保留患者的重要临床信息，以便辅助决策。其次，我们的检索方法也与他们有所不同。在我们的检索过程中，我们模拟医生的日常实践。当遇到需要决策的复杂病例时，医生通常会参考过去的案例，以增强当前的决策和判断。我们将这些二维特征视为病例的最小单位，以“症状描述”作为检索的基础。当新患者到来时，我们提取并精炼其“症状描述”特征（约
    70 个字符）。我们采用直接的定量匹配，而不对该特征进行标记化，使用文本嵌入模型进行量化。得到的特征向量会与数据库中相应科室的每个案例通过余弦相似度计算进行比较，从中选择症状相似度最高的前三个案例作为当前的检索结果。这些结果与当前病例的特征一同转发给后续的代理进行全面决策和判断，从而增强代理的输出。由于我们的检索方法不使用文档分块，而是采用直接匹配，因此能够保留更多匹配信息，从而提高匹配的准确性。
- en: B.4 Task Prompts
  id: totrans-258
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.4 任务提示
- en: '[Figure 9](https://arxiv.org/html/2412.01605v1#A2.F9 "Figure 9 ‣ B.4 Task Prompts
    ‣ Appendix B MedChain-Agent ‣ MedChain: Bridging the Gap Between LLM Agents and
    Clinical Practice through Interactive Sequential Benchmarking") $\sim$ \autopagereffig:prompt_task45
    showcase prompts for each task and stage within our MedChain-Agent framework.'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 9](https://arxiv.org/html/2412.01605v1#A2.F9 "图 9 ‣ B.4 任务提示 ‣ 附录 B MedChain-Agent
    ‣ MedChain：通过互动式顺序基准测试架起 LLM 代理与临床实践之间的桥梁") $\sim$ \autopagereffig:prompt_task45
    展示了我们 MedChain-Agent 框架中每个任务和阶段的提示。'
- en: '![Refer to caption](img/a701795a444bc6ce999fac0e911edcb3.png)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/a701795a444bc6ce999fac0e911edcb3.png)'
- en: 'Figure 9: The prompt for Task 1 in the MedChain-Agent .'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9：MedChain-Agent 中任务 1 的提示。
- en: '![Refer to caption](img/249a3b529b877fdd6e4ea214412e8153.png)'
  id: totrans-262
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/249a3b529b877fdd6e4ea214412e8153.png)'
- en: 'Figure 10: The prompt for Task 2 in the MedChain-Agent .'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10：MedChain-Agent 中任务 2 的提示。
- en: '![Refer to caption](img/f14a4fc917e7b2c71a82c91d43aa361c.png)'
  id: totrans-264
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/f14a4fc917e7b2c71a82c91d43aa361c.png)'
- en: 'Figure 11: The prompt for Task 3 in the MedChain-Agent .'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11：MedChain-Agent 中任务 3 的提示。
- en: '![Refer to caption](img/6bf77a7fa933ac458ffd838850c80e23.png)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/6bf77a7fa933ac458ffd838850c80e23.png)'
- en: 'Figure 12: The prompt for Task 4 and Task5 in the MedChain-Agent .'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12：MedChain-Agent 中任务 4 和任务 5 的提示。
- en: Appendix C Supplementary for Experiment
  id: totrans-268
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 C 实验补充材料
- en: Tasks 1 and 2 are subdivided based on the Chain of Thought (CoT) reasoning approach
    for decision-making. Consequently, Task 1 is split into "specialty referral (Level
    1)" and "specialty referral (Level 2)" to evaluate performance at both primary
    and secondary department levels. Task 2 is divided into "Physical" and "Ancillary,"
    representing performance in physical examinations and ancillary tests. or both
    ablation and comparative experiments, we split our dataset into training and test
    sets in a 7:3 ratio. We extracted 12-dimensional features from each training set
    case and stored them in our Medical Dataset for subsequent retrieval tasks.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 任务 1 和任务 2 基于“思维链（CoT）”推理方法进行细分，以支持决策过程。因此，任务 1 被分为“专科转诊（一级）”和“专科转诊（二级）”，以评估初级和次级部门的表现。任务
    2 则被划分为“体格检查”和“辅助检查”，分别代表体检和辅助检查的表现。对于消融和对比实验，我们将数据集按 7:3 的比例划分为训练集和测试集。从每个训练集案例中提取了
    12 维特征，并将其存储在我们的医学数据集中，供后续的检索任务使用。
