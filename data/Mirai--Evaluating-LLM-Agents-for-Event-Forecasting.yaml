- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: 未分类'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 分类：未分类
- en: 'date: 2025-01-11 12:28:37'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 日期：2025-01-11 12:28:37
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: 'Mirai: Evaluating LLM Agents for Event Forecasting'
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Mirai：评估用于事件预测的LLM代理
- en: 来源：[https://arxiv.org/html/2407.01231/](https://arxiv.org/html/2407.01231/)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 来源：[https://arxiv.org/html/2407.01231/](https://arxiv.org/html/2407.01231/)
- en: \UseTblrLibrary
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: \UseTblrLibrary
- en: 'booktabs ⁰⁰footnotetext: ^∗ Equal Contribution.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 'booktabs ⁰⁰footnotetext: ^∗ 等贡献。'
- en: Chenchen Ye^(∗1), Ziniu Hu^(∗2), Yihe Deng^(∗1), Zijie Huang¹,
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 陈辰烜^(∗1)，胡子牛^(∗2)，邓一禾^(∗1)，黄子杰¹，
- en: Mingyu Derek Ma¹, Yanqiao Zhu¹, Wei Wang¹
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 马明宇¹，朱彦桥¹，王伟¹
- en: ¹University of California, Los Angeles
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ¹加利福尼亚大学洛杉矶分校
- en: ²California Institute of Technology
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ²加利福尼亚理工学院
- en: '[https://mirai-llm.github.io/](https://mirai-llm.github.io/)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://mirai-llm.github.io/](https://mirai-llm.github.io/)'
- en: Abstract
  id: totrans-13
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 摘要
- en: 'Recent advancements in Large Language Models (LLMs) have empowered LLM agents
    to autonomously collect world information, over which to conduct reasoning to
    solve complex problems. Given this capability, increasing interests have been
    put into employing LLM agents for predicting international events, which can influence
    decision-making and shape policy development on an international scale. Despite
    such a growing interest, there is a lack of a rigorous benchmark of LLM agents’
    forecasting capability and reliability. To address this gap, we introduce Mirai,
    a novel benchmark designed to systematically evaluate LLM agents as temporal forecasters
    in the context of international events. Our benchmark features an agentic environment
    with tools for accessing an extensive database of historical, structured events
    and textual news articles. We refine the GDELT¹¹1GDELT: [https://www.gdeltproject.org/](https://www.gdeltproject.org/)
    event database with careful cleaning and parsing to curate a series of relational
    prediction tasks with varying forecasting horizons, assessing LLM agents’ abilities
    from short-term to long-term forecasting. We further implement APIs to enable
    LLM agents to utilize different tools via a code-based interface. In summary,
    Mirai comprehensively evaluates the agents’ capabilities in three dimensions:
    1) autonomously source and integrate critical information from large global databases;
    2) write codes using domain-specific APIs and libraries for tool-use; and 3) jointly
    reason over historical knowledge from diverse formats and time to accurately predict
    future events. Through comprehensive benchmarking, we aim to establish a reliable
    framework for assessing the capabilities of LLM agents in forecasting international
    events, thereby contributing to the development of more accurate and trustworthy
    models for international relation analysis.²²2Our dataset is available on [Google
    Drive](https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing),
    the code can be found on [GitHub](https://github.com/yecchen/MIRAI), and an interactive
    demo is provided through a [Google Colab notebook](https://colab.research.google.com/drive/1QyqT35n6NbtPaNtqQ6A7ILG_GMeRgdnO?usp=sharing).'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 最近，大型语言模型（LLM）的进展使得LLM代理能够自主收集全球信息，并基于这些信息进行推理，以解决复杂问题。鉴于这种能力，越来越多的人开始关注将LLM代理用于预测国际事件，这些事件能够影响决策并在国际范围内塑造政策发展。尽管兴趣日益增长，但缺乏一个严格的LLM代理预测能力和可靠性的基准。为了解决这个问题，我们推出了Mirai，这是一项旨在系统评估LLM代理在国际事件预测中的时间序列预测能力的新基准。我们的基准包括一个具有工具的代理环境，用于访问包含大量历史结构化事件和文本新闻文章的数据库。我们通过仔细清洗和解析，完善了GDELT¹¹1GDELT：[https://www.gdeltproject.org/](https://www.gdeltproject.org/)事件数据库，并策划了一系列具有不同预测时效的关系预测任务，从短期到长期预测评估LLM代理的能力。我们还实现了API接口，使LLM代理能够通过基于代码的界面使用不同的工具。总之，Mirai从三个维度全面评估代理的能力：1）自主获取和整合来自全球大型数据库的关键信息；2）使用领域特定的API和库编写代码并使用工具；3）联合推理来自不同格式和时间的历史知识，以准确预测未来事件。通过全面的基准测试，我们旨在建立一个可靠的框架来评估LLM代理在预测国际事件中的能力，从而推动更加准确和可信的国际关系分析模型的开发。²²2我们的数据集可以在[Google
    Drive](https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing)上获得，代码可以在[GitHub](https://github.com/yecchen/MIRAI)上找到，交互式演示可以通过[Google
    Colab notebook](https://colab.research.google.com/drive/1QyqT35n6NbtPaNtqQ6A7ILG_GMeRgdnO?usp=sharing)提供。
- en: 1 Introduction
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1 引言
- en: Accurate forecasting of international events is crucial [[1](https://arxiv.org/html/2407.01231v1#bib.bib1)],
    as understanding the evolution of geopolitical developments enables stakeholders
    to make informed decisions, mitigate risks, and seize opportunities in the interconnected
    world. Traditionally, researchers in international relations rely on domain expertise [[2](https://arxiv.org/html/2407.01231v1#bib.bib2),
    [3](https://arxiv.org/html/2407.01231v1#bib.bib3)]. They conduct detailed analyses
    of the complex interplay among nations, considering alliances, trade agreements,
    ideological affinities, and historical rivalries to forecast events such as conflicts,
    collaborations, or alliance shifts [[4](https://arxiv.org/html/2407.01231v1#bib.bib4)].
    With the rapid development of deep learning techniques, forecasting through data-driven
    neural networks becomes an attractive alternative. Despite their success, current
    methods rely on single types of information—either structured knowledge graphs [[5](https://arxiv.org/html/2407.01231v1#bib.bib5),
    [6](https://arxiv.org/html/2407.01231v1#bib.bib6), [7](https://arxiv.org/html/2407.01231v1#bib.bib7)]
    or textual datasets [[8](https://arxiv.org/html/2407.01231v1#bib.bib8), [9](https://arxiv.org/html/2407.01231v1#bib.bib9)].
    Knowledge graphs, although organized, can suffer from incompleteness [[10](https://arxiv.org/html/2407.01231v1#bib.bib10)]
    or bias [[11](https://arxiv.org/html/2407.01231v1#bib.bib11)], while textual analyses
    may lack the necessary factual grounding for precise predictions. Moreover, these
    models are unable to ground their reasoning to historical evidence, which compromises
    the interpretability and validation of their forecasts. These limitations raise
    concerns about AI forecasters’ reliability, particularly for high-stake scenarios [[12](https://arxiv.org/html/2407.01231v1#bib.bib12)].
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 准确预测国际事件至关重要 [[1](https://arxiv.org/html/2407.01231v1#bib.bib1)]，因为理解地缘政治发展的演变使得相关方能够做出明智决策、降低风险并在相互联系的世界中抓住机遇。传统上，国际关系领域的研究人员依赖于领域专业知识 [[2](https://arxiv.org/html/2407.01231v1#bib.bib2),
    [3](https://arxiv.org/html/2407.01231v1#bib.bib3)]。他们对国家之间复杂的互动进行详细分析，考虑到联盟、贸易协议、意识形态关系和历史对立，以预测诸如冲突、合作或联盟变化等事件 [[4](https://arxiv.org/html/2407.01231v1#bib.bib4)]。随着深度学习技术的迅速发展，通过数据驱动的神经网络进行预测成为一种有吸引力的替代方案。尽管当前方法取得了成功，但它们依赖于单一类型的信息——要么是结构化的知识图谱 [[5](https://arxiv.org/html/2407.01231v1#bib.bib5),
    [6](https://arxiv.org/html/2407.01231v1#bib.bib6), [7](https://arxiv.org/html/2407.01231v1#bib.bib7)]，要么是文本数据集 [[8](https://arxiv.org/html/2407.01231v1#bib.bib8),
    [9](https://arxiv.org/html/2407.01231v1#bib.bib9)]。尽管知识图谱已被组织起来，但它们可能会受到不完整性 [[10](https://arxiv.org/html/2407.01231v1#bib.bib10)]
    或偏见 [[11](https://arxiv.org/html/2407.01231v1#bib.bib11)]的影响，而文本分析可能缺乏必要的事实基础，无法做出准确的预测。此外，这些模型无法将推理与历史证据相联系，这影响了它们预测的可解释性和验证性。这些局限性引发了人们对AI预测者可靠性的担忧，特别是在高风险情境下 [[12](https://arxiv.org/html/2407.01231v1#bib.bib12)]。
- en: Large Language Model (LLM) agents present a promising path for overcoming these
    challenges [[13](https://arxiv.org/html/2407.01231v1#bib.bib13), [14](https://arxiv.org/html/2407.01231v1#bib.bib14),
    [15](https://arxiv.org/html/2407.01231v1#bib.bib15), [16](https://arxiv.org/html/2407.01231v1#bib.bib16),
    [17](https://arxiv.org/html/2407.01231v1#bib.bib17)]. These advanced AI systems
    exhibit the potential to mimic human experts by utilizing a diverse array of tools
    to automatically gather and process information from various sources, including
    text, knowledge graphs, and numerical data [[18](https://arxiv.org/html/2407.01231v1#bib.bib18),
    [19](https://arxiv.org/html/2407.01231v1#bib.bib19), [20](https://arxiv.org/html/2407.01231v1#bib.bib20),
    [21](https://arxiv.org/html/2407.01231v1#bib.bib21)]. Trained on extensive textual
    data, LLMs [[22](https://arxiv.org/html/2407.01231v1#bib.bib22), [23](https://arxiv.org/html/2407.01231v1#bib.bib23),
    [24](https://arxiv.org/html/2407.01231v1#bib.bib24), [25](https://arxiv.org/html/2407.01231v1#bib.bib25)]
    are capable of grasping the subtleties of international relations, reasoning through
    complex relationships with linguistic explanations, and planning their tool usage
    effectively [[26](https://arxiv.org/html/2407.01231v1#bib.bib26), [27](https://arxiv.org/html/2407.01231v1#bib.bib27),
    [28](https://arxiv.org/html/2407.01231v1#bib.bib28), [29](https://arxiv.org/html/2407.01231v1#bib.bib29)].
    Such capability opens up new possibilities for developing transparent and interpretable
    forecasting models that can be further scrutinized and refined.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 大型语言模型（LLM）代理为克服这些挑战提供了一条有前景的路径[[13](https://arxiv.org/html/2407.01231v1#bib.bib13),
    [14](https://arxiv.org/html/2407.01231v1#bib.bib14), [15](https://arxiv.org/html/2407.01231v1#bib.bib15),
    [16](https://arxiv.org/html/2407.01231v1#bib.bib16), [17](https://arxiv.org/html/2407.01231v1#bib.bib17)]。这些先进的AI系统通过利用各种工具，自动从多个来源收集和处理信息，包括文本、知识图谱和数值数据，展示了模拟人类专家的潜力[[18](https://arxiv.org/html/2407.01231v1#bib.bib18),
    [19](https://arxiv.org/html/2407.01231v1#bib.bib19), [20](https://arxiv.org/html/2407.01231v1#bib.bib20),
    [21](https://arxiv.org/html/2407.01231v1#bib.bib21)]。LLM在大量文本数据上进行训练[[22](https://arxiv.org/html/2407.01231v1#bib.bib22),
    [23](https://arxiv.org/html/2407.01231v1#bib.bib23), [24](https://arxiv.org/html/2407.01231v1#bib.bib24),
    [25](https://arxiv.org/html/2407.01231v1#bib.bib25)]，能够把握国际关系的细微差别，通过语言解释推理复杂的关系，并有效地规划其工具使用[[26](https://arxiv.org/html/2407.01231v1#bib.bib26),
    [27](https://arxiv.org/html/2407.01231v1#bib.bib27), [28](https://arxiv.org/html/2407.01231v1#bib.bib28),
    [29](https://arxiv.org/html/2407.01231v1#bib.bib29)]。这种能力为开发透明和可解释的预测模型开辟了新的可能性，能够进一步进行审查和完善。
- en: Despite the immense potential of LLM agents for event forecasting, there is
    a lack of standardized benchmarks to assess their forecasting abilities in the
    realm of intricate international events. To address this gap, we introduce Mirai
    (Multi-Information FoRecasting Agent Interface), a novel benchmarking environment
    designed to rigorously assess and advance the capabilities of LLM agents for international
    event forecasting over time. Mirai adapts real-world international event data
    derived from the Global Database of Events, Language, and Tone (GDELT) [[30](https://arxiv.org/html/2407.01231v1#bib.bib30)]
    to an event-forecasting task format across different horizons, providing a robust
    assessment of LLM performance. The framework’s agentic environment enables LLMs
    to interact with both relational and textual databases through Application Programming
    Interfaces (APIs), facilitating autonomous information gathering, processing,
    and application in a contextually relevant manner.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管大型语言模型（LLM）代理在事件预测方面具有巨大的潜力，但目前缺乏标准化的基准来评估它们在复杂国际事件领域的预测能力。为了解决这一问题，我们提出了Mirai（多信息预测代理接口），这是一个新颖的基准环境，旨在严格评估和推动LLM代理在国际事件预测方面的能力。Mirai采用来自全球事件、语言和情感数据库（GDELT）的现实世界国际事件数据[[30](https://arxiv.org/html/2407.01231v1#bib.bib30)]，并将其转化为不同时间跨度下的事件预测任务格式，从而提供对LLM性能的强有力评估。该框架的代理环境使得LLM能够通过应用程序接口（API）与关系型和文本型数据库进行交互，促进自主的信息收集、处理和在上下文中相关的应用。
- en: 'We evaluate both open and closed sourced LLMs on Mirai with ReAct-Style [[31](https://arxiv.org/html/2407.01231v1#bib.bib31)]
    Agents and “Single Function” and “Code Block” action types. Our extensive experiments
    revealed: 1) Temporal forecasting tasks are challenging for LLM agents, with the
    highest-performing GPT-4o agent using full suite of APIs achieves a 29.6 F1 score
    in second-level relation prediction tasks; while tasks involving long-term and
    fine-grained event forecasting are even more challenging; 2) The “Code Block”
    tool-use strategy, which allows more flexible interactions, demands robust code
    generation capabilities. Notably, GPT-4o is the only model that effectively utilizes
    and benefits from this strategy. These findings emphasize the need for ongoing
    research into temporal reasoning and the effective use of tools by LLM agents.
    We expect that Mirai could serve as a standard benchmark for evaluating LLMs in
    event forecasting. This would support the development of more precise and reliable
    models for political analysis, enhancing our understanding of global dynamics.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在 Mirai 上评估了开放源代码和闭源 LLM，使用 ReAct 风格的 [[31](https://arxiv.org/html/2407.01231v1#bib.bib31)]
    代理和“单一功能”和“代码块”行动类型。我们的广泛实验结果显示：1) 时间预测任务对于 LLM 代理而言具有挑战性，表现最好的 GPT-4o 代理在使用全套
    API 的情况下，在二级关系预测任务中获得了 29.6 的 F1 分数；而涉及长期和细粒度事件预测的任务则更加困难；2) “代码块”工具使用策略，允许更灵活的互动，需要强大的代码生成能力。值得注意的是，GPT-4o
    是唯一一个有效利用并从这一策略中获益的模型。这些发现强调了持续研究时间推理和 LLM 代理有效使用工具的必要性。我们期望 Mirai 能成为评估 LLM 在事件预测中的标准基准，这将支持开发更精确、更可靠的政治分析模型，增强我们对全球动态的理解。
- en: 2 The Mirai Benchmark
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2 Mirai 基准
- en: 'In this section, we introduce Mirai benchmark from: the specifics of the data
    and tasks (Sec. [2.1](https://arxiv.org/html/2407.01231v1#S2.SS1 "2.1 Data and
    Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for Event Forecasting")),
    the implemented agents and environments (Sec. [2.2](https://arxiv.org/html/2407.01231v1#S2.SS2
    "2.2 Agents and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting")), and the database construction details (Sec. [2.3](https://arxiv.org/html/2407.01231v1#S2.SS3
    "2.3 Database Construction ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting")).'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '在本节中，我们介绍了 Mirai 基准的内容：数据和任务的具体细节（见第 [2.1](https://arxiv.org/html/2407.01231v1#S2.SS1
    "2.1 Data and Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for
    Event Forecasting") 节），已实现的代理和环境（见第 [2.2](https://arxiv.org/html/2407.01231v1#S2.SS2
    "2.2 Agents and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting") 节），以及数据库构建的详细信息（见第 [2.3](https://arxiv.org/html/2407.01231v1#S2.SS3
    "2.3 Database Construction ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting") 节）。'
- en: 2.1 Data and Tasks
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.1 数据和任务
- en: '![Refer to caption](img/6152ffbfdf1e1e863209eaa4ee792833.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/6152ffbfdf1e1e863209eaa4ee792833.png)'
- en: 'Figure 1: An example of forecasting the relations between Australia and China
    on Nov.18.2023\. The database contains query-related historical relations and
    news articles, while the agent fails to predict the change of relation and makes
    a wrong forecast.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1：2023 年 11 月 18 日预测澳大利亚与中国之间关系的示例。数据库包含与查询相关的历史关系和新闻文章，而代理未能预测关系的变化，并做出了错误的预测。
- en: '![Refer to caption](img/9fc5136050d992e768f73cacfa9ea93f.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/9fc5136050d992e768f73cacfa9ea93f.png)'
- en: 'Figure 2: Mirai comprehensively covers global event data. (a) The circular
    chart shows the relation hierarchy and distribution in Mirai. (b) The heatmap
    visualizes the intensity of these events globally, distinguishing between areas
    of conflict (red) and mediation (blue). (c) The heatmap illustrates the frequency
    of these events, highlighting regions with the most occurrences.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2：Mirai 综合涵盖了全球事件数据。 (a) 圆形图表展示了 Mirai 中的关系层级和分布情况。 (b) 热力图展示了这些事件在全球范围内的强度，区分了冲突区域（红色）和调解区域（蓝色）。
    (c) 热力图展示了这些事件的频率，突出了发生最多的地区。
- en: We introduce Mirai, a benchmark crafted for evaluating LLM agents for temporal
    forecasting in the realm of international events, with tool-use and complex reasoning.
    We consider forecasting as the process of collecting essential historical data
    and performing temporal reasoning to anticipate the outcomes of future events.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我们介绍了 Mirai，这是一个用于评估 LLM 代理在国际事件领域进行时间预测的基准，涉及工具使用和复杂推理。我们认为预测是收集关键历史数据并进行时间推理，以预测未来事件结果的过程。
- en: 'Formally, we represent an event as ${e}^{t}=(t,s,r,o)$, where $t$ is the timestamp³³3Each
    timestamp uniquely represents a day, formatted in ”YYYY-MM-DD”. , $s,o\in{\mathcal{C}}$
    are respectively the subject and object countries⁴⁴4In this paper, the term ”country”
    includes all countries, dependent territories, special geographic areas, and their
    subdivisions. We use the standardized ISO-3166 Alpha-3 codes for country names,
    such as ”AUS” for Australia and ”CHN” for China, to maintain global consistency.
    from the country pool ${\mathcal{C}}$, and $r\in{\mathcal{R}}$ denotes the relation
    type defined by the Conflict and Mediation Event Observations (CAMEO) ontology [[32](https://arxiv.org/html/2407.01231v1#bib.bib32)]⁵⁵5CAMEO
    is a well-established ontology for categorizing international political events,
    meticulously developed by experts to enable detailed analysis across multiple
    levels of granularity.. As shown in Figure [2](https://arxiv.org/html/2407.01231v1#S2.F2
    "Figure 2 ‣ 2.1 Data and Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")a, we incorporate two hierarchical levels from the
    CAMEO ontology to facilitate a detailed and comprehensive analysis of geopolitical
    dynamics. The first level includes 20 broad categories, represented by a two-digit
    code (e.g., “01: Public Statement” or “04: Consult”), which are subdivided into
    second-level categories identified by a three-digit code that corresponds to its
    parent category. For example, “03: Express intent to cooperate” is a first-level
    category that includes 10 different second-level relations such as “036: Express
    intent to meet or negotiate”. Subsequently, the quadruple “(2023-11-03, AUS, 036,
    CHN)” denotes that on 3 November 2023, the Australian leader announces a planned
    visit to China. These relations are also organized along two dimensions, from
    Verbal to Material and from Conflict to Cooperation, to form a quadratic categorization
    in the inner circle of Figure [2](https://arxiv.org/html/2407.01231v1#S2.F2 "Figure
    2 ‣ 2.1 Data and Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting")a.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '形式上，我们将一个事件表示为${e}^{t}=(t,s,r,o)$，其中$t$是时间戳³³3每个时间戳唯一表示一天，格式为“YYYY-MM-DD”。，$s,o\in{\mathcal{C}}$分别是国家池${\mathcal{C}}$中的主体国和客体国⁴⁴4本文中，"国家"一词包括所有国家、依赖领土、特殊地理区域及其子区域。我们使用标准化的ISO-3166
    Alpha-3代码表示国家名称，例如澳大利亚为“AUS”，中国为“CHN”，以保持全球一致性。$r\in{\mathcal{R}}$表示由冲突与调解事件观察（CAMEO）本体定义的关系类型[[32](https://arxiv.org/html/2407.01231v1#bib.bib32)]⁵⁵5CAMEO是一个成熟的本体，用于对国际政治事件进行分类，由专家精心开发，旨在实现多层次的详细分析。
    如图[2](https://arxiv.org/html/2407.01231v1#S2.F2 "图 2 ‣ 2.1 数据与任务 ‣ 2 Mirai基准 ‣
    Mirai: 评估用于事件预测的LLM代理")a所示，我们结合了CAMEO本体的两个层级，以促进对地缘政治动态的详细和全面分析。第一级包括20个广泛的类别，通过两位数代码表示（例如，“01：公开声明”或“04：磋商”），这些类别又细分为通过三位数代码表示的第二级类别，该代码对应于其父类别。例如，“03：表达合作意图”是一个一级类别，包括10种不同的二级关系，如“036：表达会面或谈判意图”。随后，四元组“(2023-11-03,
    AUS, 036, CHN)”表示在2023年11月3日，澳大利亚领导人宣布计划访问中国。这些关系也沿着两个维度进行组织，分别是从言辞到物质，从冲突到合作，以在图[2](https://arxiv.org/html/2407.01231v1#S2.F2
    "图 2 ‣ 2.1 数据与任务 ‣ 2 Mirai基准 ‣ Mirai: 评估用于事件预测的LLM代理")a的内圆中形成四维分类。'
- en: Furthermore, a collection of events that happened at the same timestamp ${t}$
    form a *timestamped event set* ${\bm{E}}^{t}=\{{e}_{1}^{t},...,{e}_{M}^{t}\}$,
    where $M$ is the number of unique events at time ${t}$. These events $\{{\bm{E}}^{t}\}_{t=1}^{T}$
    can therefore be organized into a temporal graph, with countries as nodes and
    events’ relations as edges.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，发生在相同时间戳${t}$的事件集合构成一个*时间戳事件集*${\bm{E}}^{t}=\{{e}_{1}^{t},...,{e}_{M}^{t}\}$，其中$M$是时间$t$上独特事件的数量。因此，这些事件$\{{\bm{E}}^{t}\}_{t=1}^{T}$可以被组织成一个时间图，国家作为节点，事件之间的关系作为边。
- en: The task of event forecasting $(t+l,s,?,o)$ is to predict all the events between
    a pair of countries $s$ and $o$, happening $l$ days in the future from the current
    time $t$. Formally, given historical events up to the current time ${\bm{E}}^{\leq
    t}$, our goal is to forecast future relationships ${\bm{E}}_{s,o}^{t+l}$ between
    a pair of countries. This includes utilizing events involving third parties, such
    as interactions with their mutual neighbors.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 事件预测任务$(t+l,s,?,o)$是指预测在当前时间$t$起未来$l$天内，发生在一对国家$s$和$o$之间的所有事件。形式上，给定直到当前时间${\bm{E}}^{\leq
    t}$的历史事件，我们的目标是预测未来国家之间的关系${\bm{E}}_{s,o}^{t+l}$。这包括利用涉及第三方的事件，如与它们共同邻国的互动。
- en: 'In the example of Figure [1](https://arxiv.org/html/2407.01231v1#S2.F1 "Figure
    1 ‣ 2.1 Data and Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting"), we demonstrate how to predict which actions Australia
    will adopt towards China on 18 November 2023 based on all available information
    up to 17 November 2023. This can also be formatted as a structured query “(2023-11-17
    + [1 day], AUS, ?, CHN)”, where the temporal distance of the forecasted event
    is one day. From the historical events, we can see that the two countries last
    long-standing tensions; though news show the leader of Australia visited China
    and agreed to ease tension, this signal does not change the overall tendency,
    and their relationship keeps being Disapprove and Accuse on certain focuses. Thus,
    the agent over-relying short-term news and eventually gives the wrong prediction
    diplomatic cooperation.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '在图[1](https://arxiv.org/html/2407.01231v1#S2.F1 "Figure 1 ‣ 2.1 Data and Tasks
    ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for Event Forecasting")的示例中，我们展示了如何基于2023年11月17日之前的所有可用信息，预测澳大利亚在2023年11月18日将对中国采取什么行动。这也可以格式化为一个结构化查询“(2023-11-17
    + [1 day], AUS, ?, CHN)”，其中预测事件的时间距离为一天。从历史事件中，我们可以看到两国长期以来存在紧张关系；尽管新闻报道显示澳大利亚领导人访问了中国并同意缓解紧张局势，但这一信号并未改变总体趋势，两国在某些焦点上的关系仍然是反对和指责。因此，代理过度依赖短期新闻，最终给出了错误的外交合作预测。'
- en: 2.2 Agents and Environments
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.2 代理与环境
- en: '![Refer to caption](img/36df6777888cdb6f7940ff3e93b766d5.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/36df6777888cdb6f7940ff3e93b766d5.png)'
- en: 'Figure 3: Overview of the LLM agent’s interaction with the multi-source environment
    using the ReAct strategy for forecasting a query event. The framework consists
    of three main steps: (1) Think: The agent analyzes the current status and plans
    the next action based on the query and the provided API specifications. (2) Act:
    The agent generates a “Single Function” call or a “Code Block” to retrieve and
    analyze relevant data from the database. (3) Execute: The Python interpreter runs
    the generated code with the API implementation and database and produces observations.
    These steps are iteratively performed until the agent reaches a final forecast
    for the future relation.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 图3：LLM代理与多源环境的交互概览，采用ReAct策略进行事件查询的预测。该框架包含三个主要步骤：（1）思考：代理分析当前状况，并根据查询和提供的API规范规划下一步行动。（2）行动：代理生成“单一功能”调用或“代码块”以从数据库中检索和分析相关数据。（3）执行：Python解释器运行生成的代码，并结合API实现和数据库产生观察结果。这些步骤会不断迭代，直到代理得出最终的未来关系预测。
- en: Similar to human political analysts, LLM agents must leverage a variety of information
    sources to make reliable predictions. To this end, we abstract the environment
    by incorporating coding APIs that facilitate interactions with various knowledge
    sources. Within this environment, we can develop an LLM agent that employs these
    APIs through the ReAct strategy [[33](https://arxiv.org/html/2407.01231v1#bib.bib33)],
    characterized by the iterative steps of think, act, and observe. This structured
    approach allows the agent to analyze the current situation, retrieve additional
    data, and observe outcomes to make reliable forecasting.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于人类的政治分析师，LLM代理必须利用多种信息来源来做出可靠的预测。为此，我们通过集成编码API来抽象环境，促进与各种知识源的互动。在此环境中，我们可以开发一个LLM代理，利用这些API，通过ReAct策略[[33](https://arxiv.org/html/2407.01231v1#bib.bib33)]，该策略的特点是通过“思考、行动、观察”的迭代步骤来进行分析。这个结构化的方法使得代理能够分析当前情况、检索额外数据，并观察结果，从而做出可靠的预测。
- en: 'APIs. We provide a comprehensive set of API to the LLM agent, enabling the
    execution of the generated codes to access a rich database of historical events
    and news articles. The API contains the essential data classes and a suite of
    functions designed to accommodate various types of information within the database.
    Data classes range from unary types such as date, country, and relation, to composite
    types like date range, event, and news articles. Functions, executable via standard
    Python syntax, allow the agent to efficiently query the database through code
    interface. The design of these functions is characterized in two aspects:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: APIs。我们为LLM代理提供了一套全面的API，使得生成的代码能够执行并访问丰富的历史事件和新闻文章数据库。该API包含了基本的数据类和一系列函数，旨在处理数据库中各种类型的信息。数据类涵盖了从日期、国家和关系等一元类型，到日期范围、事件和新闻文章等复合类型。函数通过标准的Python语法执行，允许代理通过代码接口高效地查询数据库。这些函数的设计具有两个特点：
- en: •
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: Information types. These functions cover various types of information, including
    country and relation code-name mapping and hierarchy, and count, listing, and
    distribution of events and news articles. For example, the function map_relation_description_to_cameo
    takes a relation description and returns a list of the five most likely relations
    with their respective CAMEO codes, names, and descriptions, providing precise
    relation information as needed.
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 信息类型。这些函数涵盖了各种类型的信息，包括国家和关系代码名称映射及层级结构，以及事件和新闻文章的计数、列出和分布。例如，函数map_relation_description_to_cameo接收一个关系描述，并返回五个最可能的关系及其各自的CAMEO代码、名称和描述，按需提供精确的关系信息。
- en: •
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: Search conditions. Additionally, the API functions related to events and news
    articles include various optional parameters that enable tailored searches based
    on different criteria. For instance, the function get_event enables searches by
    specifying conditions like date_range, head_entities, tail_entities, relations,
    and text_description to fetch events that meet these conditions from the database.
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 搜索条件。此外，与事件和新闻文章相关的API函数包括各种可选参数，使得根据不同标准进行定制化搜索成为可能。例如，函数get_event允许通过指定日期范围、头实体、尾实体、关系和文本描述等条件来搜索符合这些条件的事件，从数据库中提取相关信息。
- en: 'The API specifications and full implementations are shown in Appendix [M](https://arxiv.org/html/2407.01231v1#A13
    "Appendix M Additional Information about API ‣ item 1 ‣ L.1.4 Agent ReAct Process
    ‣ L.1 GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting").'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: API规格和完整实现展示在附录[M](https://arxiv.org/html/2407.01231v1#A13 "附录 M API的其他信息 ‣
    项目 1 ‣ L.1.4 智能体ReAct过程 ‣ L.1 基于GPT-4o的智能体与ReAct和“代码块”动作 ‣ 附录 L LLM智能体的其他预测示例
    ‣ J.2 功能类型分析 ‣ J.1 不同LLM智能体最终状态分析 ‣ 附录 J 其他实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLMs的工具使用
    ‣ 4.2 语言智能体评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析智能体行为 ‣ 3.2 使用不同基础LLM评估预测 ‣ 3.1 使用不同智能体方法与工具评估预测
    ‣ 3 实验 ‣ Mirai：评估LLM智能体的事件预测")中。
- en: 'Interaction with environment. In Mirai, agents are given the API specifications,
    which include meticulously documented Python docstrings for all data classes and
    function definitions, abstracting the underlying implementation details. The environment
    is equipped with a Python code sandbox with full access to APIs and databases.
    The agent uses the ReAct strategy in an iterative manner, alternating between
    think, act, and observe to gather information and perform forecasting. The pipeline
    is illustrated in Figure [3](https://arxiv.org/html/2407.01231v1#S2.F3 "Figure
    3 ‣ 2.2 Agents and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting").'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 与环境的互动。在Mirai中，智能体提供了API规格，其中包括为所有数据类和函数定义精心编写的Python文档字符串，抽象了底层实现的细节。环境配备了一个Python代码沙箱，智能体可以完全访问API和数据库。智能体采用ReAct策略，以迭代的方式进行思考、行动和观察，收集信息并进行预测。该流程如图[3](https://arxiv.org/html/2407.01231v1#S2.F3
    "图 3 ‣ 2.2 智能体与环境 ‣ 2 Mirai基准 ‣ Mirai：评估LLM智能体的事件预测")所示。
- en: '1.'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: 'Think. Specifically, the agent first thinks about the current situation. If
    it is confident to deliver a final forecast based on the current information and
    analysis, it provides the answer and stops the iteration. Otherwise, it further
    analyzes the current status and plans subsequent actions. In the first step shown
    in Figure [3](https://arxiv.org/html/2407.01231v1#S2.F3 "Figure 3 ‣ 2.2 Agents
    and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for Event
    Forecasting"), the agent plans to first retrieve recent events directly involving
    the two countries and later verify the details by checking related news articles.'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '思考。具体而言，代理首先思考当前的情况。如果它对基于当前信息和分析给出最终预测充满信心，它会提供答案并停止迭代。否则，它会进一步分析当前状况并规划后续行动。如图[3](https://arxiv.org/html/2407.01231v1#S2.F3
    "Figure 3 ‣ 2.2 Agents and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")所示的第一步，代理计划首先直接获取涉及两个国家的最近事件，然后通过查阅相关新闻文章来验证细节。'
- en: '2.'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2.'
- en: 'Act. Next, the agent acts by generating executable codes to interact with the
    environment. There are two types of action: “Single Function” or “Code Block”.
    A “Single Function” facilitates straightforward data retrieval, whereas a “Code
    Block” supports a more flexible and larger action space, accommodating complex
    control flows such as loops and conditional statements. Also, the agent is allowed
    to use functions defined in the API and can additionally utilize safe, well-established
    Python libraries such as numpy, networkx, and scikit-learn. As shown in Figure [3](https://arxiv.org/html/2407.01231v1#S2.F3
    "Figure 3 ‣ 2.2 Agents and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting"), the agent can write either a “Code Block”
    with an imported library and an inline loop, or a “Single Function” call with
    targeted countries as the argument value.'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '行动。接下来，代理通过生成可执行代码与环境进行交互。行动有两种类型：“单一功能”或“代码块”。“单一功能”便于简单的数据获取，而“代码块”支持更灵活且更广泛的行动空间，能够处理复杂的控制流，如循环和条件语句。此外，代理可以使用API中定义的函数，还可以利用一些安全且成熟的Python库，如numpy、networkx和scikit-learn。如图[3](https://arxiv.org/html/2407.01231v1#S2.F3
    "Figure 3 ‣ 2.2 Agents and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")所示，代理可以编写一个包含导入库和内联循环的“代码块”，或者使用目标国家作为参数值的“单一功能”调用。'
- en: '3.'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3.'
- en: Observe. The environment receives the code generated by the agent, executing
    it internally using a Python interpreter with full access to API implementations
    and the database. The output from this execution is then passed to the agent as
    the content of its ‘Observation’ step. In particular, the agent can observe the
    corresponding output if its generated code executes successfully; otherwise, it
    can only observe a specified error message along with the error type. In the figure,
    the written code is executed, and results are sent back to the agent memory to
    proceed next iteration.
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 观察。环境接收代理生成的代码，并通过Python解释器内部执行该代码，完全访问API实现和数据库。执行结果随后作为“观察”步骤的内容传递给代理。特别地，如果代理生成的代码成功执行，它可以观察到相应的输出；否则，它只能观察到指定的错误信息及错误类型。在图中，所写的代码被执行，并将结果发送回代理内存，进行下一轮迭代。
- en: 'These ‘Thought’, ‘Action’, and ‘Observation’ from the previous iterations are
    stored in the agent’s memory base and used as the context of the agent in the
    next iteration. Additionally, the variables defined in the code generated in any
    previous action steps are stored and available for future actions. Examples are
    shown in Appendix [L](https://arxiv.org/html/2407.01231v1#A12 "Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting").'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这些来自前几次迭代的“思考”、“行动”和“观察”被存储在智能体的记忆库中，并作为下一次迭代中智能体的上下文。此外，在任何之前的行动步骤中生成的代码中定义的变量会被存储，并可供未来的行动使用。示例见附录[L](https://arxiv.org/html/2407.01231v1#A12
    "附录 L LLM 智能体的额外预测示例 ‣ J.2 功能类型分析 ‣ J.1 不同 LLM 智能体最终状态分析 ‣ 附录 J 额外的实验结果与分析 ‣ 致谢
    ‣ 5 结论与局限 ‣ 4.3 LLM 的工具使用 ‣ 4.2 语言智能体的评估 ‣ 4.1 时间推理基准 ‣ 3 相关工作 ‣ 3.3 分析智能体行为 ‣
    3.2 使用不同基础 LLM 进行预测评估 ‣ 3.1 使用不同智能体方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估 LLM 智能体的事件预测").
- en: 2.3 Database Construction
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2.3 数据库构建
- en: 'Pre-processing. We construct a GDELT-based environment to enable agents’ interaction
    with both knowledge graph and textual information. Initially, we filtered the
    dataset for events occurring between Jan. 1, 2023, and Nov. 30, 2023, aligning
    event dates with their respective news publish dates to avoid information leakage.
    We standardize the CountryCode to ISO-3166 norms and exclude any entries with
    missing or outdated codes, and standardize Event codes to the second level of
    the CAMEO ontology to ensure a consistent and detailed representation. Third-level
    event codes, which are more noisy and contain more extraction errors were excluded.
    We also only consider international events. For the news articles, credibility
    was assessed by counting the daily mentions of each event, with a threshold of
    at least 50 mentions to filter out unreliable sources. News content, including
    titles and body text, was then downloaded and cleaned following the OBELICS [[34](https://arxiv.org/html/2407.01231v1#bib.bib34)]
    protocol, which involved removing low-quality text based on word counts, character
    and word repetition ratios, and the presence of special characters and flagged
    words, thereby significantly reducing noise and enhancing the reliability of the
    textual information stored in our database. We list the details for dataset construction
    in Appendix [F](https://arxiv.org/html/2407.01231v1#A6 "Appendix F Details of
    Dataset Construction ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting").
    We finalized a collection of 991,759 GDELT event records, corresponding to 59,161
    unique $(t,s,r,o)$ events and 296,630 unique news articles. We display our curated
    events over the world map in Figure [2](https://arxiv.org/html/2407.01231v1#S2.F2
    "Figure 2 ‣ 2.1 Data and Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")b and [2](https://arxiv.org/html/2407.01231v1#S2.F2
    "Figure 2 ‣ 2.1 Data and Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")c, illustrating global coverage and varying intensities
    of conflict and mediation across regions.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '预处理。我们构建了一个基于 GDELT 的环境，以支持代理与知识图谱和文本信息的互动。最初，我们筛选了2023年1月1日至2023年11月30日之间发生的事件数据，并将事件日期与各自的新闻发布日期对齐，以避免信息泄露。我们将国家代码标准化为
    ISO-3166 标准，并排除了任何缺失或过时的代码条目，同时将事件代码标准化为 CAMEO 本体的第二级，以确保一致且详细的表示。我们排除了包含更多噪音和提取错误的三级事件代码。我们还仅考虑国际事件。对于新闻文章，我们通过统计每个事件的每日提及次数来评估其可信度，设定了至少
    50 次提及的阈值，以过滤掉不可靠的来源。然后，新闻内容（包括标题和正文）按照 OBELICS [[34](https://arxiv.org/html/2407.01231v1#bib.bib34)]
    协议进行下载和清理，该协议包括根据词数、字符和词汇重复率，以及特殊字符和标记词的存在来去除低质量文本，从而显著减少噪音并提高存储在数据库中的文本信息的可靠性。我们在附录
    [F](https://arxiv.org/html/2407.01231v1#A6 "Appendix F Details of Dataset Construction
    ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting") 中列出了数据集构建的详细信息。最终，我们收集了
    991,759 条 GDELT 事件记录，涵盖了 59,161 个独特的 $(t,s,r,o)$ 事件和 296,630 篇独特的新闻文章。我们在世界地图上展示了我们整理的事件，分别见图
    [2](https://arxiv.org/html/2407.01231v1#S2.F2 "Figure 2 ‣ 2.1 Data and Tasks ‣
    2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for Event Forecasting")b
    和 [2](https://arxiv.org/html/2407.01231v1#S2.F2 "Figure 2 ‣ 2.1 Data and Tasks
    ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for Event Forecasting")c，展示了全球范围的覆盖以及各地区冲突和调解的不同强度。'
- en: Test query set construction. We construct the test data using records from November
    2023, comprising 152,500 GDELT event records and 7385 unique events. To further
    ensure the data quality and minimize potential extraction errors inherent in GDELT
    records, we set a higher threshold of at least 100 daily mentions and 5 downloaded
    news articles for each event. This stricter filtering results in a collection
    of 2,136 unique $(t,s,r,o)$ events. We construct the test query set based on this
    collection, which leads to 705 $(t,s,?,o)$ query and answer, where each answer
    includes a list of relations occurring between the specified subject and object
    country at time $t$ in this collection. Note that this stricter filtering is only
    applied for the test query construction and will not remove data from the database.
    Additionally, we sample 100 queries from the test query set to form a test query
    subset, ensuring a balanced representation of dates throughout the month, countries
    across continents, and relations spanning the first-level CAMEO code types.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 测试查询集构建。我们使用2023年11月的记录构建测试数据，包含152,500条GDELT事件记录和7385个独特事件。为了进一步确保数据质量并最小化GDELT记录中固有的潜在提取错误，我们为每个事件设置了至少100次每日提及和5篇下载的新闻文章的更高阈值。这种更严格的筛选结果得到2,136个独特的$(t,s,r,o)$事件。我们基于这个集合构建测试查询集，生成705个$(t,s,?,o)$查询和答案，其中每个答案包括该集合中在时间$t$时指定的主体和客体国家之间发生的关系列表。请注意，这种更严格的筛选仅应用于测试查询的构建，并不会从数据库中删除数据。此外，我们从测试查询集中随机抽取100个查询，形成测试查询子集，确保在整个一个月内日期的平衡表示、跨大陆的国家和涉及一级CAMEO代码类型的关系。
- en: 'Evaluation metrics. We instruct the agent to generate final forecasting answer
    in a JSON dictionary, where keys are predicted two-digit first-level CAMEO codes
    and the values are lists of predicted three-digit second-level CAMEO codes inherited
    from the keys. For example, the JSON dictionary “{"01": ["011", "012"], "02":
    ["023"]}” indicates the first level relation predictions for "01: Make public
    statement" and "02: Appeal", along with second level relation predictions "011:
    Decline comment", "012: Make pessimistic comment", and "023: Appeal for material
    aid". We evaluate these relation predictions by calculating precision, recall,
    and F1 score between the predicted and ground-truth lists. Moreover, we map the
    predicted and ground truth relations to their respective binary and quadratic
    classes (as shown in Figure [2](https://arxiv.org/html/2407.01231v1#S2.F2 "Figure
    2 ‣ 2.1 Data and Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting")a). Since each relation in the ground-truth list may belong
    to different classes, we employ the empirical Kullback-Leibler (KL) divergence
    of predictions to the ground truth: $D_{\text{KL}}(P||Q)=\sum_{i}P(i)\log\left(\frac{P(i)}{Q(i)}\right)$
    to measure the discrepancy, where $P$ and $Q$ represent the frequencies of ground-truth
    and predicted relations respectively. A lower KL divergence indicates a better
    alignment of the model’s predictions with the ground-truth list.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '评估指标。我们指示代理生成最终的预测答案，格式为JSON字典，其中键是预测的两位数一级CAMEO代码，值是继承自键的三位数二级CAMEO代码列表。例如，JSON字典“{"01":
    ["011", "012"], "02": ["023"]}”表示"01: 公开声明"和"02: 上诉"的一级关系预测，以及二级关系预测"011: 拒绝评论"、"012:
    做出悲观评论"和"023: 请求物质援助"。我们通过计算预测列表与真实列表之间的精度、召回率和F1分数来评估这些关系预测。此外，我们将预测的关系和真实关系映射到各自的二元和四元类别（如图[2](https://arxiv.org/html/2407.01231v1#S2.F2
    "Figure 2 ‣ 2.1 Data and Tasks ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")a)所示）。由于真实列表中的每个关系可能属于不同的类别，我们采用经验的Kullback-Leibler
    (KL)散度来衡量预测与真实值之间的差异：$D_{\text{KL}}(P||Q)=\sum_{i}P(i)\log\left(\frac{P(i)}{Q(i)}\right)$，其中$P$和$Q$分别表示真实关系和预测关系的频率。较低的KL散度表示模型的预测与真实关系列表之间的对齐更好。'
- en: 3 Experiments
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3 实验
- en: 'Our experiment section begins with comparing the forecasting performance of
    different agent methods with different prediction horizons (Sec.[3.1](https://arxiv.org/html/2407.01231v1#S3.SS1
    "3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣ 3 Experiments
    ‣ Mirai: Evaluating LLM Agents for Event Forecasting")). Moreover, we evaluate
    agents with different base language models (Sec.[3.2](https://arxiv.org/html/2407.01231v1#S3.SS2
    "3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")), and finally analyze several key aspects (Sec.[3.3](https://arxiv.org/html/2407.01231v1#S3.SS3
    "3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different Base
    LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣ 3 Experiments
    ‣ Mirai: Evaluating LLM Agents for Event Forecasting")) to understand agents’
    behavior.'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '我们的实验部分从比较不同代理方法在不同预测视野下的预测性能开始（参见[3.1](https://arxiv.org/html/2407.01231v1#S3.SS1
    "3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai: 评估LLM代理的事件预测")）。此外，我们还评估了使用不同基础语言模型的代理（参见[3.2](https://arxiv.org/html/2407.01231v1#S3.SS2
    "3.2 使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai: 评估LLM代理的事件预测")），最后分析了几个关键方面（参见[3.3](https://arxiv.org/html/2407.01231v1#S3.SS3
    "3.3 代理行为分析 ‣ 3.2 使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai: 评估LLM代理的事件预测")）以理解代理的行为。'
- en: 3.1 Evaluate Forecasting with Different Agent Methods and Tools
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.1 使用不同代理方法和工具评估预测
- en: 'We investigate the effect of different tools (APIs) and agent tool-use strategies.
    We use gpt-3.5-turbo-0125 [[35](https://arxiv.org/html/2407.01231v1#bib.bib35)]
    as the base model and evaluate on the 705 queries in the test set. For all experiments,
    we set the model temperature to $0.4$ and run 5 times to calculate the mean and
    standard deviation. We provide the detailed prompts in Appendix [K](https://arxiv.org/html/2407.01231v1#A11
    "Appendix K Prompts ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the Final
    Status of Different LLM Agents ‣ Appendix J Additional Experimental Results and
    Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting").'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '我们研究了不同工具（API）和代理工具使用策略的影响。我们使用gpt-3.5-turbo-0125 [[35](https://arxiv.org/html/2407.01231v1#bib.bib35)]
    作为基础模型，并在705个测试集查询上进行评估。所有实验中，我们将模型温度设置为$0.4$并运行5次，以计算均值和标准差。详细的提示信息见附录[K](https://arxiv.org/html/2407.01231v1#A11
    "附录 K 提示 ‣ J.2 功能类型分析 ‣ J.1 不同LLM代理最终状态分析 ‣ 附录 J 其他实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3
    工具使用中的LLM ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 3 相关工作 ‣ 3.3 代理行为分析 ‣ 3.2 使用不同基础LLM评估预测
    ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai: 评估LLM代理的事件预测")。'
- en: 'Table 1: Experimental results on the test set with different agent tools and
    the tool-use strategies. The best-performing score is highlighted in bold and
    the second-best is underlined.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 表1：使用不同代理工具和工具使用策略的测试集实验结果。最佳表现的得分以**粗体**标出，第二最佳得分以下划线标出。
- en: '{tblr}'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '{tblr}'
- en: colspec = ccccccccccc, row1-2 = bg=gray!25, row4,7-8 = bg=gray!10 \SetCell[r=2]cAgent
    \SetCell[c=2]cTool-Use \SetCell[r=2]cBinary
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: colspec = ccccccccccc, row1-2 = bg=gray!25, row4,7-8 = bg=gray!10 \SetCell[r=2]c代理
    \SetCell[c=2]c工具使用 \SetCell[r=2]c二进制
- en: KL ($\Downarrow$) \SetCell[r=2]cQuad
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: KL ($\Downarrow$) \SetCell[r=2]c四分之一
- en: KL ($\Downarrow$) \SetCell[c=3]cFirst-level Relation (%) \SetCell[c=3]cSecond-level
    Relation (%)
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: KL ($\Downarrow$) \SetCell[c=3]c一级关系（%） \SetCell[c=3]c二级关系（%）
- en: Action Type API Pre. ($\Uparrow$) Rec. ($\Uparrow$) F1 ($\Uparrow$) Pre. ($\Uparrow$)
    Rec. ($\Uparrow$) F1 ($\Uparrow$)
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 动作类型 API 精度（$\Uparrow$） 召回率（$\Uparrow$） F1（$\Uparrow$） 精度（$\Uparrow$） 召回率（$\Uparrow$）
    F1（$\Uparrow$）
- en: Direct IO — — 6.5[±1.7] 15.9[±1.5]27.6[±8.1] 19.7[±5.9] 18.8[±6.9] 6.6[±1.5]
    5.1[±0.4] 3.5[±0.8]
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 直接IO — — 6.5[±1.7] 15.9[±1.5]27.6[±8.1] 19.7[±5.9] 18.8[±6.9] 6.6[±1.5] 5.1[±0.4]
    3.5[±0.8]
- en: ZS-COT — — 6.9[±0.8] 10.1[±0.8]27.6[±4.0] 36.0[±4.5] 26.7[±4.1] 10.2[±1.4] 17.4[±1.1]
    10.5[±0.7]
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ZS-COT — — 6.9[±0.8] 10.1[±0.8]27.6[±4.0] 36.0[±4.5] 26.7[±4.1] 10.2[±1.4] 17.4[±1.1]
    10.5[±0.7]
- en: \SetCell
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell
- en: '[r=2]cReAct Single Function *Event-Only* 33.5[±0.7] 6.7[±0.7]44.3[±3.9] 54.2[±3.9]
    41.4[±1.7] 25.3[±2.6] 47.4[±2.4] 26.9[±1.9]'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '[r=2]cReAct 单功能 *仅事件* 33.5[±0.7] 6.7[±0.7]44.3[±3.9] 54.2[±3.9] 41.4[±1.7]
    25.3[±2.6] 47.4[±2.4] 26.9[±1.9]'
- en: Single Function *News-Only* 6.1[±1.0] 12.8[±0.6]27.8[±3.1] 25.9[±2.9] 21.8[±2.3]
    6.3[±2.2] 9.0[±2.0] 5.4[±1.3]
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 单一功能 *仅新闻* 6.1[±1.0] 12.8[±0.6]27.8[±3.1] 25.9[±2.9] 21.8[±2.3] 6.3[±2.2] 9.0[±2.0]
    5.4[±1.3]
- en: \SetCell
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell
- en: '[r=2]cReAct Single Function All 3.1[±0.5] 5.9[±1.0]47.6[±5.8] 58.3[±2.6] 44.2[±4.0]
    28.7[±3.9] 51.0[±4.0] 29.6[±3.7]'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '[r=2]cReAct 单一功能 所有 3.1[±0.5] 5.9[±1.0]47.6[±5.8] 58.3[±2.6] 44.2[±4.0] 28.7[±3.9]
    51.0[±4.0] 29.6[±3.7]'
- en: Code Block All 5.1[±0.9] 8.9[±0.5]27.1[±4.0] 38.6[±2.5] 25.9[±2.2] 11.6[±2.4]
    26.3[±2.0] 12.6[±1.7]
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 所有 5.1[±0.9] 8.9[±0.5]27.1[±4.0] 38.6[±2.5] 25.9[±2.2] 11.6[±2.4] 26.3[±2.0]
    12.6[±1.7]
- en: 'For agent implementations, we consider the following two methods without tool-use:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 对于代理实现，我们考虑以下两种没有工具使用的方法：
- en: Direct IO represents the standard LLM chatbot approach that provides answers
    without tool-use or explicit reasoning. This serves as a baseline to reflect the
    internal world knowledge of the LLMs when forecasting.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 直接IO代表标准的LLM聊天机器人方法，它提供没有工具使用或显式推理的答案。这作为一个基准，反映了LLM在预测时的内部世界知识。
- en: 'Zero-Shot Chain-of-Thought (ZS-CoT) [[36](https://arxiv.org/html/2407.01231v1#bib.bib36),
    [37](https://arxiv.org/html/2407.01231v1#bib.bib37)]: In the ZS-CoT variant, we
    add an instruction prompt to the LLM to encourage explicit step-by-step thinking
    before making the final prediction.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 零-shot思维链（ZS-CoT）[[36](https://arxiv.org/html/2407.01231v1#bib.bib36), [37](https://arxiv.org/html/2407.01231v1#bib.bib37)]：在ZS-CoT变体中，我们向LLM添加了一条指令提示，鼓励它在做出最终预测之前进行显式的逐步思考。
- en: 'For Tool-Use agents, We follow ReAct [[31](https://arxiv.org/html/2407.01231v1#bib.bib31)]
    to interact with our provided environments through an iterative process of thinking,
    acting, and observing. We implement two variants of ReAct for tool-use: 1) “Single
    Function” and 2) “Code Block”. Details are discussed in Sec. [2.2](https://arxiv.org/html/2407.01231v1#S2.SS2
    "2.2 Agents and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting").'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '对于工具使用的代理，我们遵循ReAct[[31](https://arxiv.org/html/2407.01231v1#bib.bib31)]，通过思考、行动和观察的迭代过程与我们提供的环境进行交互。我们为工具使用实现了ReAct的两种变体：1）“单一功能”和2）“代码块”。详细信息请参见第[2.2](https://arxiv.org/html/2407.01231v1#S2.SS2
    "2.2 Agents and Environments ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting")节。'
- en: ReAct agents can utilize tools. We thus implement different variants by restricting
    their access to utilize 1) *News-Only* APIs; 2) *Event-Only* APIs; 3) *All* data
    classes and functions.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: ReAct代理可以使用工具。因此，我们通过限制它们的访问来实现不同的变体，以使用1）*仅新闻*API；2）*仅事件*API；3）*所有*数据类别和函数。
- en: 'The experimental results in Table [3.1](https://arxiv.org/html/2407.01231v1#S3.SS1
    "3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣ 3 Experiments
    ‣ Mirai: Evaluating LLM Agents for Event Forecasting") reveal several key insights
    into agent performance:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '表[3.1](https://arxiv.org/html/2407.01231v1#S3.SS1 "3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")中的实验结果揭示了代理性能的几个关键见解：'
- en: 1) Mirai presents a challenging task for LLM agents. The best agent (ReAct with
    “Single Function” using all APIs) for second-level relation predictions achieves
    a precision of $28.7$ and an F1 score of $29.6$. These results underscore the
    complexity and difficulty of the temporal forecasting tasks in Mirai and highlight
    the substantial room for improvement in LLM agents for event forecasting.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 1）Mirai为LLM代理提出了一个具有挑战性的任务。对于二级关系预测，最佳代理（使用所有API的ReAct “单一功能”）的精度为$28.7$，F1得分为$29.6$。这些结果强调了Mirai中时序预测任务的复杂性和困难性，并突显了LLM代理在事件预测方面的巨大改进空间。
- en: 2) Predicting fine-grained relations proves more difficult. All models exhibit
    higher KL divergence for quadratic than binary classes, and lower F1 scores for
    second-level predictions compared to first-level ones. These findings confirm
    that predicting fine-grained relation types is more challenging.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 2）预测细粒度关系更具挑战性。所有模型对于二次类比一类的KL散度较高，而对于二级预测相比一级预测，F1得分较低。这些发现表明，预测细粒度的关系类型更具挑战性。
- en: 3) Diverse tool-use is critical for temporal forecasting. ZS-CoT and Direct-IO,
    which rely solely on the internal world knowledge of LLMs for forecasting without
    tool-use, significantly underperform the ReAct agent with full API access to the
    database. This emphasizes the importance of basing forecasting and reasoning on
    retrieved historical data and knowledge. In terms of tool types, ReAct agents
    using *News-Only* APIs perform much worse than agents with *Event-Only* APIs.
    While news articles provide detailed context for events, they can also introduce
    noise and lead to issues such as excessively long context, posing additional challenges
    for LLM agents. Moreover, the agents using both types of information achieve the
    optimal results.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 3) 多样化工具的使用对时间预测至关重要。ZS-CoT 和 Direct-IO，这些仅依赖于LLM的内部世界知识进行预测而不使用工具，表现明显不如能够完全访问数据库API的ReAct代理。这强调了基于检索到的历史数据和知识进行预测和推理的重要性。在工具类型方面，使用*仅新闻*API的ReAct代理表现远不如使用*仅事件*API的代理。尽管新闻文章为事件提供了详细的背景信息，但它们也可能引入噪音，导致如上下文过长等问题，给LLM代理带来额外挑战。此外，使用两种类型信息的代理达到了最佳结果。
- en: 3.2 Evaluate Forecasting with Different Base LLMs
  id: totrans-81
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.2 使用不同基本LLM评估预测
- en: 'Table 2: Experimental results on the test subset using different base LLMs
    and action types. The best-performing score is highlighted in bold and the second-best
    is underlined.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 表 2：使用不同基本LLM和行动类型在测试子集上的实验结果。最佳表现的得分以粗体突出显示，第二好的得分带下划线。
- en: '{tblr}'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '{tblr}'
- en: colspec = ccccccccccc, row1-2 = bg=gray!25, row5-6,9-10 = bg=gray!10 \SetCell[r=2]cModel
    \SetCell[r=2]cTraining Data
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: colspec = ccccccccccc, row1-2 = bg=gray!25, row5-6,9-10 = bg=gray!10 \SetCell[r=2]c模型
    \SetCell[r=2]c训练数据
- en: Cutoff Date \SetCell[r=2]cAction Type \SetCell[r=2]cBinary
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 截止日期 \SetCell[r=2]c行动类型 \SetCell[r=2]c二进制
- en: KL ($\Downarrow$) \SetCell[r=2]cQuad
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: KL ($\Downarrow$) \SetCell[r=2]cQuad
- en: KL ($\Downarrow$) \SetCell[c=3]cFirst-level Relation (%) \SetCell[c=3]cSecond-level
    Relation (%)
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: KL ($\Downarrow$) \SetCell[c=3]c第一层关系 (%) \SetCell[c=3]c第二层关系 (%)
- en: Pre. ($\Uparrow$) Rec. ($\Uparrow$) F1 ($\Uparrow$) Pre. ($\Uparrow$) Rec. ($\Uparrow$)
    F1 ($\Uparrow$)
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: Pre. ($\Uparrow$) Rec. ($\Uparrow$) F1 ($\Uparrow$) Pre. ($\Uparrow$) Rec. ($\Uparrow$)
    F1 ($\Uparrow$)
- en: \SetCell[r=2]cMistral-7B \SetCell[r=2]c— Single Function 9.6[±2.4] 14.1[±1.9]27.2[±8.2]
    13.1[±3.6] 14.4[±3.2] 14.1[±4.4] 7.0[±2.2] 6.6[±2.3]
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell[r=2]cMistral-7B \SetCell[r=2]c— 单一功能 9.6[±2.4] 14.1[±1.9] 27.2[±8.2]
    13.1[±3.6] 14.4[±3.2] 14.1[±4.4] 7.0[±2.2] 6.6[±2.3]
- en: Code Block 9.0[±3.0] 13.1[±2.3]25.8[±6.9] 10.4[±4.8] 11.1[±3.8] 10.0[±3.8] 5.8[±4.1]
    4.6[±1.1]
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 9.0[±3.0] 13.1[±2.3] 25.8[±6.9] 10.4[±4.8] 11.1[±3.8] 10.0[±3.8] 5.8[±4.1]
    4.6[±1.1]
- en: \SetCell[r=2]cgpt-3.5-turbo \SetCell[r=2]c2021-09 Single Function 3.9[±1.0]
    6.7[±1.7]52.6[±9.3] 46.8[±8.5] 38.2[±4.9] 36.7[±9.2] 41.7[±7.6] 27.9[±3.6]
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell[r=2]cgpt-3.5-turbo \SetCell[r=2]c2021-09 单一功能 3.9[±1.0] 6.7[±1.7] 52.6[±9.3]
    46.8[±8.5] 38.2[±4.9] 36.7[±9.2] 41.7[±7.6] 27.9[±3.6]
- en: Code Block3.6[±0.7] 8.0[±1.7]32.8[±4.7] 41.0[±2.0] 29.7[±2.9] 14.4[±5.0] 33.7[±5.3]
    14.4[±2.6]
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 3.6[±0.7] 8.0[±1.7] 32.8[±4.7] 41.0[±2.0] 29.7[±2.9] 14.4[±5.0] 33.7[±5.3]
    14.4[±2.6]
- en: \SetCell[r=2]cgpt-4-turbo \SetCell[r=2]c2023-12 Single Function 2.4[±0.6] 6.1[±0.8]55.0[±7.5]
    43.9[±7.8] 39.8[±4.9] 33.5[±7.5] 43.5[±5.4] 30.0[±1.9]
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell[r=2]cgpt-4-turbo \SetCell[r=2]c2023-12 单一功能 2.4[±0.6] 6.1[±0.8] 55.0[±7.5]
    43.9[±7.8] 39.8[±4.9] 33.5[±7.5] 43.5[±5.4] 30.0[±1.9]
- en: Code Block2.0[±1.1] 6.0[±2.0]46.4[±8.7] 51.7[±10.0] 40.0[±8.7] 32.7[±4.9] 43.2[±9.5]
    28.7[±5.0]
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 2.0[±1.1] 6.0[±2.0] 46.4[±8.7] 51.7[±10.0] 40.0[±8.7] 32.7[±4.9] 43.2[±9.5]
    28.7[±5.0]
- en: \SetCell[r=2]cgpt-4o \SetCell[r=2]c2023-10 Single Function 1.8[±1.0] 4.4[±1.8]48.7[±8.7]
    63.7[±8.8] 45.5[±4.6] 31.2[±6.7] 59.2[±7.3] 32.6[±2.7]
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell[r=2]cgpt-4o \SetCell[r=2]c2023-10 单一功能 1.8[±1.0] 4.4[±1.8] 48.7[±8.7]
    63.7[±8.8] 45.5[±4.6] 31.2[±6.7] 59.2[±7.3] 32.6[±2.7]
- en: Code Block1.6[±1.1] 4.3[±1.9]42.3[±9.4] 64.5[±9.5] 44.1[±8.1] 29.1[±7.3] 59.6[±7.6]
    32.8[±6.4]
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 1.6[±1.1] 4.3[±1.9] 42.3[±9.4] 64.5[±9.5] 44.1[±8.1] 29.1[±7.3] 59.6[±7.6]
    32.8[±6.4]
- en: 'We then investigate the role of the underlying LLMs in the agent’s performance.
    We evaluate both open-sourced LLM Mistral-7B-Instruct-v0.2 [[38](https://arxiv.org/html/2407.01231v1#bib.bib38)]
    (run on a single NVIDIA RTX A6000 GPU), as well as close-sourced LLMs including
    gpt-3.5-turbo-0125 [[35](https://arxiv.org/html/2407.01231v1#bib.bib35)], gpt-4-turbo-2024-04-09 [[22](https://arxiv.org/html/2407.01231v1#bib.bib22)],
    and the recently released gpt-4o-2024-05-13 [[39](https://arxiv.org/html/2407.01231v1#bib.bib39)].
    Comparisons are done on a data-balanced test subset comprising 100 queries, with
    all models evaluated under the ReAct framework, allowing access to all APIs. The
    action types can be either “Single Function” or “Code Block” with a maximum tool
    call limit set to 20 steps. All models use the same prompt content and structure
    shown in Appendix [K](https://arxiv.org/html/2407.01231v1#A11 "Appendix K Prompts
    ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the Final Status of Different
    LLM Agents ‣ Appendix J Additional Experimental Results and Analysis ‣ Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting"). The experimental results are presented in
    Table [3.2](https://arxiv.org/html/2407.01231v1#S3.SS2 "3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting"),
    and a further analysis of the agent’s final status is provided in Appendix [J.1](https://arxiv.org/html/2407.01231v1#A10.SS1
    "J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J Additional
    Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting").
    We observe the following findings:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '我们接着调查了底层LLMs在代理性能中的作用。我们评估了开源LLM Mistral-7B-Instruct-v0.2 [[38](https://arxiv.org/html/2407.01231v1#bib.bib38)]（运行在一台NVIDIA
    RTX A6000 GPU上），以及包括gpt-3.5-turbo-0125 [[35](https://arxiv.org/html/2407.01231v1#bib.bib35)]、gpt-4-turbo-2024-04-09 [[22](https://arxiv.org/html/2407.01231v1#bib.bib22)]和最近发布的gpt-4o-2024-05-13 [[39](https://arxiv.org/html/2407.01231v1#bib.bib39)]等闭源LLMs。比较是在一个数据平衡的测试子集上进行的，该子集包含100个查询，所有模型均在ReAct框架下评估，允许访问所有API。操作类型可以是“单一功能”或“代码块”，最大工具调用限制为20步。所有模型使用相同的提示内容和结构，如附录 [K](https://arxiv.org/html/2407.01231v1#A11
    "Appendix K Prompts ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the Final
    Status of Different LLM Agents ‣ Appendix J Additional Experimental Results and
    Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")所示。实验结果见表 [3.2](https://arxiv.org/html/2407.01231v1#S3.SS2
    "3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")，对代理最终状态的进一步分析请参见附录 [J.1](https://arxiv.org/html/2407.01231v1#A10.SS1
    "J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J Additional
    Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")。我们观察到以下发现：'
- en: '1) Code Block benefits stronger LLMs but hurts weaker models: The “Code Block”
    action type provides greater flexibility than the “Single Function”. However,
    its benefits are not uniformly achieved across all models. Mistral-7B and gpt-3.5-turbo
    show reduced performance with Code Block, while stronger models like gpt-4-turbo
    and gpt-4o gains improvements from it. This indicates that the ability to generate
    coherent and practical long Code Blocks is a distinguishing factor that determines
    LLMs as reliable forecasting agents.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 代码块对更强大的LLMs有益，但对较弱的模型则有负面影响：“代码块”操作类型提供的灵活性大于“单一功能”。然而，其带来的好处并非在所有模型中均能一致地实现。Mistral-7B和gpt-3.5-turbo在使用代码块时表现下降，而像gpt-4-turbo和gpt-4o等更强大的模型则从中受益。这表明，生成连贯且实用的长代码块的能力是区分LLMs是否可靠预测代理的一个关键因素。
- en: '2) GPT-4o consistently outperforms other models: gpt-4o, the most recent LLM,
    consistently achieves the highest performance across different metrics. Notably,
    for second-level relation prediction, gpt-4o achieves F1 scores of $32.6$ and
    $32.8$ using “Single Function” and “Code Block”, surpassing all other models including
    gpt-4-turbo-2024-04-09. This indicates that Mirai is hard enough, and can effectively
    distinguish different LLMs’ advanced reasoning capabilities.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 2) GPT-4o 始终优于其他模型：gpt-4o 是最新的 LLM，在不同指标上始终表现最高。值得注意的是，对于二级关系预测，gpt-4o 在使用“单一功能”和“代码块”时分别达到了
    $32.6$ 和 $32.8$ 的 F1 分数，超越了包括 gpt-4-turbo-2024-04-09 在内的所有其他模型。这表明，Mirai 足够具有挑战性，能够有效区分不同
    LLM 的高级推理能力。
- en: 'Can self-consistency make a small model stronger? It is evident that stronger
    LLMs have better agent performance; however, can we enhance a weaker LLM to achieve
    comparable forecasting performance using inference-time computation? To explore
    this, we take Mistral-7B as the base LLM with ReAct using the “Single Function”
    strategy. For each query, we perform multiple sampling at a temperature of $0.4$.
    We then consider a variant of self-consistency, which only keeps entries appearing
    more than twice. We also calculate F1 (Max@K), which assesses the F1 score for
    each instance and keeps the maximum score across all rounds. As shown in Figure [4](https://arxiv.org/html/2407.01231v1#S3.F4
    "Figure 4 ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")a, with more samples, the performance of Mistral-7B
    significantly improves. Initially, a single sample achieves an F1 score of $6.6$
    for Mistral-7B, which is considerably lower than the scores achieved by larger
    models. However, as more solutions being sampled, the F1 (Max@K) and self-consistency
    of Mistral-7B improve progressively. By the 10th samples, the Max@K reaches $33.9$,
    even surpassing gpt-4o. This result highlights the potential of the inference-time
    search methods like self-consistency to push the boundaries of smaller language
    models in event forecasting.'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '自一致性能否让小模型更强大？显然，更强的 LLM 具有更好的代理表现；然而，我们是否可以通过推理时计算增强一个较弱的 LLM，从而实现相当的预测性能？为此，我们以
    Mistral-7B 作为基础 LLM，结合 ReAct 使用“单一功能”策略。对于每个查询，我们在温度 $0.4$ 下执行多次采样。然后，我们考虑自一致性的一个变体，仅保留出现超过两次的条目。我们还计算了
    F1（Max@K），该指标评估每个实例的 F1 分数，并保留所有轮次中的最高分。如图 [4](https://arxiv.org/html/2407.01231v1#S3.F4
    "Figure 4 ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")a 所示，随着样本量的增加，Mistral-7B 的表现显著提高。最初，单一样本对 Mistral-7B
    的 F1 分数为 $6.6$，远低于更大模型的得分。然而，随着更多解决方案的采样，Mistral-7B 的 F1（Max@K）和自一致性逐渐提高。到第 10
    个样本时，Max@K 达到 $33.9$，甚至超过了 gpt-4o。这个结果突显了推理时搜索方法如自一致性在推动较小语言模型在事件预测中的潜力。'
- en: 'Code execution error analysis. Our implemented agents interact with tools via
    code but often encounter execution error. We summarize the error types for different
    LLMs in Figure [5](https://arxiv.org/html/2407.01231v1#S3.F5 "Figure 5 ‣ 3.2 Evaluate
    Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different
    Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event
    Forecasting")b. We can see that invalid dates and invalid attributes are the two
    most frequent errors, with even gpt-4-turbo exhibiting a frequency of such errors.
    Notably, gpt-4o makes significantly fewer execution errors. This enhanced code
    generation capability contributes to its superior performance for event forecasting.'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '代码执行错误分析。我们实现的代理通过代码与工具交互，但常常会遇到执行错误。我们在图 [5](https://arxiv.org/html/2407.01231v1#S3.F5
    "Figure 5 ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")b 中总结了不同 LLM 的错误类型。我们可以看到，无效的日期和无效的属性是最常见的两种错误，甚至
    gpt-4-turbo 也有此类错误的频率。值得注意的是，gpt-4o 的执行错误显著较少。这种增强的代码生成能力有助于其在事件预测中的优越表现。'
- en: '![Refer to caption](img/94e6ee81752b2de9500142a8ccdcfec6.png)![Refer to caption](img/d417f68419b96ee484bdbadbc5507cf5.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![参见说明文字](img/94e6ee81752b2de9500142a8ccdcfec6.png)![参见说明文字](img/d417f68419b96ee484bdbadbc5507cf5.png)'
- en: 'Figure 4: a) Self-consistency of Mistral-7B model increases with more samples.
    b) F1 scores of different base LLM agents on relation prediction, categorized
    based on the quadratic classes.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '图 4: a) Mistral-7B 模型的自一致性随着样本量的增加而提高。b) 不同基础 LLM 代理在关系预测上的 F1 分数，根据二次类别进行分类。'
- en: '![Refer to caption](img/609af8210bc5322c4d43c5fe1fb1f18b.png)![Refer to caption](img/96a798bd9c08f723093b7c358a617e7a.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![参见图注](img/609af8210bc5322c4d43c5fe1fb1f18b.png)![参见图注](img/96a798bd9c08f723093b7c358a617e7a.png)'
- en: 'Figure 5: a) F1 Accuracy for each API function. b) Code execution error analysis
    for different LLMs.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5：a) 每个 API 函数的 F1 准确率。b) 不同 LLM 的代码执行错误分析。
- en: 3.3 Analyzing Agent Behaviours
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3.3 分析代理行为
- en: '![Refer to caption](img/1e44ba62ae59e88700b6205f05c83ff7.png)![Refer to caption](img/cacadb53d9ae0a6ef369cf26e03e58ff.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![参见图注](img/1e44ba62ae59e88700b6205f05c83ff7.png)![参见图注](img/cacadb53d9ae0a6ef369cf26e03e58ff.png)'
- en: 'Figure 6: Evaluation of LLM Agents in different temporal distances of the forecasting
    event.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6：不同时间距离下 LLM 代理的评估。
- en: '![Refer to caption](img/348f316ec56a7b51b60dd0716359733d.png)![Refer to caption](img/01f895d611a500b082ecbcc0ce89a8ed.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![参见图注](img/348f316ec56a7b51b60dd0716359733d.png)![参见图注](img/01f895d611a500b082ecbcc0ce89a8ed.png)'
- en: 'Figure 7: Action order analysis in LLM agents. a) Tool-Use Transition Graph
    of called API functions. Edge thickness indicates transition frequency. b) Freq.(correct)
    - Freq.(incorrect), in which red (blue) edges indicate positive (negative) contributions.'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 图 7：LLM 代理的动作顺序分析。a) 调用 API 函数的工具使用过渡图。边的粗细表示过渡频率。b) Freq.(correct) - Freq.(incorrect)，其中红色（蓝色）边表示正面（负面）贡献。
- en: 'Impact of temporal distance of the forecasting target. Our defined event forecasting
    task varies by temporal distance $l$, which specifies how far into the future
    we want to predict. We thus conduct an ablation study with $l$ set to 1, 7, 30,
    and 90 days. Specifically, we fix the query event date and limit the accessible
    data to $l$ days prior to the query event date. The experimental results depicted
    in Figure [6](https://arxiv.org/html/2407.01231v1#S3.F6 "Figure 6 ‣ 3.3 Analyzing
    Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting") reveal a clear trend: as the temporal distance
    increases, the F1 score decreases and KL-divergence increases. This indicates
    that the agent’s ability to provide accurate predictions diminishes for events
    further in the future. When the temporal distance is small, such as 1 or 7 days,
    the agent has access to more recent and relevant information, providing a strong
    signal (e.g., human experts’ analysis) for making accurate predictions. Thus,
    to comprehensively benchmark the forecasting capabilities of LLM agents, we should
    focus on long-term predictions such as those spanning 30 or 90 days. These longer
    durations require the agents to capture and anticipate potential trend shifts,
    which may be influenced by a broader range of factors and more complex dependencies.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '预测目标的时间距离影响。我们定义的事件预测任务会根据时间距离 $l$ 变化，该值指定了我们希望预测的未来时间距离。因此，我们进行了一个消融研究，$l$
    设置为 1、7、30 和 90 天。具体来说，我们固定查询事件日期，并将可访问的数据限制为查询事件日期前 $l$ 天的数据。图 [6](https://arxiv.org/html/2407.01231v1#S3.F6
    "Figure 6 ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting") 所示的实验结果揭示了一个明显的趋势：随着时间距离的增加，F1
    分数下降，KL 散度增加。这表明，代理提供准确预测的能力随着预测事件时间的远离而减弱。当时间距离较短时，例如 1 或 7 天，代理能够访问到更多的近期相关信息，提供强信号（例如，人类专家的分析），从而做出准确的预测。因此，为了全面评估
    LLM 代理的预测能力，我们应关注长时间预测，例如 30 或 90 天的跨度。这些较长的时间段要求代理捕捉并预测潜在的趋势变化，这些变化可能受到更广泛因素和更复杂依赖关系的影响。'
- en: 'Forecasting accuracy on different relation types. We further split the datasets
    into distinct quadratic relation classes and compute the F1 score for each class,
    as illustrated in Figure [4](https://arxiv.org/html/2407.01231v1#S3.F4 "Figure
    4 ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")b. The results show that all models exhibit significantly
    higher performance for “verbal cooperation” and “material conflict”, while lower
    in the other two categories. Several factors contribute to these observations.
    First, “verbal cooperation” events are more prevalent in the dataset, allowing
    the model to retrieve more such historical events. Second, “material conflicts”
    has a consistent pattern of extended duration within the same set of countries.
    Conversely, events categorized under “material cooperation” and “verbal conflicts”,
    such as “057: Sign formal agreement” and “084: Return or release”, tend to be
    more abrupt and unpredictable, demanding subtle trend analysis and contextual
    knowledge, leading to lower performance in these categories. These observations
    highlight the need for LLMs capable of understanding the nuances and complexities
    of different event types.'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '对不同关系类型的预测准确性。我们进一步将数据集拆分为不同的二次关系类别，并计算每个类别的F1得分，如图[4](https://arxiv.org/html/2407.01231v1#S3.F4
    "Figure 4 ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")b所示。结果表明，所有模型在“言语合作”和“物质冲突”类别中的表现明显更高，而在其他两个类别中的表现较低。多个因素解释了这些观察结果。首先，“言语合作”事件在数据集中更为普遍，使得模型能够检索到更多此类历史事件。其次，“物质冲突”在同一组国家内具有一致的持续时间模式。相反，归类为“物质合作”和“言语冲突”的事件，例如“057：签署正式协议”和“084：返回或释放”，往往更为突发且不可预测，需要细致的趋势分析和上下文知识，从而导致这些类别中的表现较低。这些观察结果突显了需要具备理解不同事件类型的细微差别和复杂性的LLM。'
- en: 'How tool-use ordering influences forecasting. We further investigate the impact
    of action order on the GPT-4o agent in “Single Function” mode. Figure [7](https://arxiv.org/html/2407.01231v1#S3.F7
    "Figure 7 ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting") shows the
    transition graph from the initial query to the correct final answer, with thicker
    edges indicating more frequent transitions. Typically, the agent begins with get_relation_distribution
    or get_event to gather an initial set of recent and frequent events for key information,
    and often concludes with browse_news_article and get_news_articles, which retrieve
    news content to make accurate forecasts. To further understand whether each function
    helps forecasting, we subtract the frequency of incorrect predictions from those
    of correct predictions, as shown in Figure [7](https://arxiv.org/html/2407.01231v1#S3.F7
    "Figure 7 ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")b. Here, red
    edges represent sequences typically leading to accurate outcomes, and blue edges
    indicate error-prone paths. Actions like browse_news_article and get_entity_distribution
    typically result in correct answers more frequently. Notably, get_news_articles
    has a direct blue link to the answer, suggesting that this function leads more
    often to incorrect answers because it only returns news titles, which are too
    vague for accurate prediction. However, when followed by browse_news_article and
    then providing the answer, the agent is more likely to produce correct outcomes.
    Similar patterns are observed with get_event, where adding get_entity_distribution
    turns a negative link to a positive one to the answer. Figure [5](https://arxiv.org/html/2407.01231v1#S3.F5
    "Figure 5 ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")a further demonstrates how each function contributes
    to the final performance, showing that for the first-level prediction, get_{child/sibling}_relation
    are more useful. These results emphasize the importance for strategic action planning
    in LLM agents for effective temporal forecasting.'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '工具使用顺序如何影响预测。我们进一步研究了行动顺序对“单一功能”模式下的GPT-4o代理的影响。图[7](https://arxiv.org/html/2407.01231v1#S3.F7
    "Figure 7 ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")展示了从初始查询到正确最终答案的转移图，边缘越粗表示转移越频繁。通常，代理首先使用get_relation_distribution或get_event来收集最近和频繁发生的事件，以获取关键信息，最终常常通过browse_news_article和get_news_articles来检索新闻内容，以做出准确的预测。为了进一步了解每个功能是否有助于预测，我们通过减去错误预测的频率与正确预测的频率之差，如图[7](https://arxiv.org/html/2407.01231v1#S3.F7
    "Figure 7 ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")b所示。在这里，红色边缘表示通常会导致准确结果的序列，而蓝色边缘则表示易出错的路径。像browse_news_article和get_entity_distribution这样的操作通常会更频繁地导致正确答案。值得注意的是，get_news_articles与答案之间有一条直接的蓝色链接，这表明该功能更容易导致错误答案，因为它只返回新闻标题，这对于准确预测来说过于模糊。然而，当它后接browse_news_article并提供答案时，代理更有可能产生正确的结果。在get_event的情况下，类似的模式也可以观察到，当添加get_entity_distribution时，负向链接转变为指向答案的正向链接。图[5](https://arxiv.org/html/2407.01231v1#S3.F5
    "Figure 5 ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")a进一步展示了每个功能如何贡献最终表现，表明对于第一层次的预测，get_{child/sibling}_relation更为有用。这些结果强调了LLM代理在有效的时间预测中，战略性行动规划的重要性。'
- en: 4 Related Work
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4 相关工作
- en: 'Table 3: Comparison of Mirai with other temporal reasoning benchmarks. “Method”
    refers to the methodology of original and recent models evaluated on the benchmark.
    ICL stands for LLM w/ In-Context Learning, FT stands for Task-Specific Fine-Tuning.'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 表3：Mirai与其他时间推理基准的比较。“方法”指的是在基准上评估的原始和最新模型的方法论。ICL表示使用上下文学习的LLM，FT表示任务特定的微调。
- en: '{tblr}'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '{tblr}'
- en: colspec = ccccccccc, row1-2 = bg=gray!25, roweven[3-13] = bg=gray!5 \SetCell[r=2]cBenchmark
    \SetCell[c=2]cTemporal Reasoning \SetCell[r=2]cTask Format \SetCell[c=3]cInformation
    \SetCell[r=2]cMethod
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: colspec = ccccccccc, row1-2 = bg=gray!25, roweven[3-13] = bg=gray!5 \SetCell[r=2]c基准
    \SetCell[c=2]c时间推理 \SetCell[r=2]c任务格式 \SetCell[c=3]c信息 \SetCell[r=2]c方法
- en: Understanding Forecasting Time Series KG Textual API
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 理解预测时间序列 KG 文本 API
- en: TempQuestions [[40](https://arxiv.org/html/2407.01231v1#bib.bib40)] ✓ KGQA ✓
    KGQA Systems
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: TempQuestions [[40](https://arxiv.org/html/2407.01231v1#bib.bib40)] ✓ KGQA ✓
    KGQA 系统
- en: CRONQuestions [[41](https://arxiv.org/html/2407.01231v1#bib.bib41)] ✓ KGQA ✓
    Bert-based FT
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: CRONQuestions [[41](https://arxiv.org/html/2407.01231v1#bib.bib41)] ✓ KGQA ✓
    基于Bert的FT
- en: TempoQR [[42](https://arxiv.org/html/2407.01231v1#bib.bib42)] ✓ KGQA ✓ Bert-based
    FT
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: TempoQR [[42](https://arxiv.org/html/2407.01231v1#bib.bib42)] ✓ KGQA ✓ 基于Bert的FT
- en: TORQUE [[43](https://arxiv.org/html/2407.01231v1#bib.bib43)] ✓ QA ✓ Bert-based
    FT
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: TORQUE [[43](https://arxiv.org/html/2407.01231v1#bib.bib43)] ✓ 问答(QA) ✓ 基于Bert的FT
- en: TempReason [[44](https://arxiv.org/html/2407.01231v1#bib.bib44)] ✓ QA ✓ ✓ ICL
    + Task-specific FT
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: TempReason [[44](https://arxiv.org/html/2407.01231v1#bib.bib44)] ✓ 问答(QA) ✓
    ✓ ICL + 任务特定FT
- en: TRAM [[45](https://arxiv.org/html/2407.01231v1#bib.bib45)] ✓ MCQ ✓ ICL + Bert-based
    FT
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: TRAM [[45](https://arxiv.org/html/2407.01231v1#bib.bib45)] ✓ 多项选择题(MCQ) ✓ ICL
    + 基于Bert的FT
- en: TCELongBench [[46](https://arxiv.org/html/2407.01231v1#bib.bib46)] ✓ ✓ Ordering
    QA; MCQ ✓ ICL
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: TCELongBench [[46](https://arxiv.org/html/2407.01231v1#bib.bib46)] ✓ ✓ 排序问答；多项选择题
    ✓ ICL
- en: ForecastQA [[47](https://arxiv.org/html/2407.01231v1#bib.bib47)] ✓ MCQ ✓ Bert-based
    FT
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: ForecastQA [[47](https://arxiv.org/html/2407.01231v1#bib.bib47)] ✓ 多项选择题(MCQ)
    ✓ 基于Bert的FT
- en: Approach [[48](https://arxiv.org/html/2407.01231v1#bib.bib48)] ✓ QA ✓ ICL
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: Approach [[48](https://arxiv.org/html/2407.01231v1#bib.bib48)] ✓ 问答(QA) ✓ ICL
- en: IntervalQA [[8](https://arxiv.org/html/2407.01231v1#bib.bib8)] ✓ Numerical QA;
    MCQ ✓✓ ICL
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: IntervalQA [[8](https://arxiv.org/html/2407.01231v1#bib.bib8)] ✓ 数值问答；多项选择题
    ✓✓ ICL
- en: TKGs [[49](https://arxiv.org/html/2407.01231v1#bib.bib49), [30](https://arxiv.org/html/2407.01231v1#bib.bib30)]
    ✓ Link Prediction ✓ Graph FT + ICL + Task-specific FT
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: TKGs [[49](https://arxiv.org/html/2407.01231v1#bib.bib49), [30](https://arxiv.org/html/2407.01231v1#bib.bib30)]
    ✓ 链接预测 ✓ 图形FT + ICL + 任务特定FT
- en: Mirai ✓ Relation List ✓✓ ✓LLM Agent
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: Mirai ✓ 关系列表 ✓✓ ✓LLM 代理
- en: 'In recent years, various benchmarks have been developed to evaluate temporal
    reasoning capabilities in AI systems, focusing primarily on question answering
    and link prediction. Mirai distinguishes itself by assessing LLMs in the forecasting
    task, and further employing a relational task format, incorporating diverse information
    sources of knowledge graphs, text, and code-based APIs, and utilizing an agent-based
    methodology that supports intermediate reasoning steps. We summarize our differences
    to these existing benchmarks in Table [4](https://arxiv.org/html/2407.01231v1#S4
    "4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting"),
    and provide further discussions from the following aspects and more in Appendix [D](https://arxiv.org/html/2407.01231v1#A4
    "Appendix D Additional related work ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting").'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '近年来，已经开发出多种基准测试来评估AI系统在时间推理方面的能力，主要集中在问答和链接预测上。Mirai通过评估LLM在预测任务中的表现，脱颖而出，并进一步采用了关系任务格式，结合了知识图谱、文本和基于代码的API等多种信息来源，并利用支持中间推理步骤的基于代理的方法。我们在表[4](https://arxiv.org/html/2407.01231v1#S4
    "4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")中总结了我们与现有基准的区别，并在附录[D](https://arxiv.org/html/2407.01231v1#A4
    "Appendix D Additional related work ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")中提供了更多的讨论。'
- en: 4.1 Temporal Reasoning Benchmarks
  id: totrans-132
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.1 时间推理基准
- en: 'Many benchmarks sensing the temporal reasoning ability of AI models have been
    constructed, but they have different focuses and settings with Mirai, particularly
    in terms of task, information, and method, as shown in Table [4](https://arxiv.org/html/2407.01231v1#S4
    "4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting").
    One line of benchmarks focuses on the temporal understanding ability of the model [[40](https://arxiv.org/html/2407.01231v1#bib.bib40),
    [41](https://arxiv.org/html/2407.01231v1#bib.bib41), [42](https://arxiv.org/html/2407.01231v1#bib.bib42),
    [43](https://arxiv.org/html/2407.01231v1#bib.bib43), [44](https://arxiv.org/html/2407.01231v1#bib.bib44),
    [45](https://arxiv.org/html/2407.01231v1#bib.bib45)], such as understanding the
    temporal relations between available facts in knowledge graphs (KGs) or text,
    either a short piece of text or a document corpus. While the temporal forecasting
    task largely differs from understanding, where the reasoning target is unseen
    in the database for the model, and as such, the model has to not only understand
    but to reason. For forecasting, there are two main task formulations among previous
    benchmarks: the QA task format for benchmarks with history information represented
    in textual format [[8](https://arxiv.org/html/2407.01231v1#bib.bib8), [46](https://arxiv.org/html/2407.01231v1#bib.bib46),
    [47](https://arxiv.org/html/2407.01231v1#bib.bib47), [48](https://arxiv.org/html/2407.01231v1#bib.bib48),
    [50](https://arxiv.org/html/2407.01231v1#bib.bib50)], and graph link prediction
    task format for temporal knowledge graph(TKG)-based benchmarks [[49](https://arxiv.org/html/2407.01231v1#bib.bib49),
    [30](https://arxiv.org/html/2407.01231v1#bib.bib30)]. However, the uniformat of
    information sources either lacks of support to clearly structural facts or contextual
    detail for the model to perform advanced reasoning, while in Mirai, we provide
    both information sources. Additionally, we provide carefully constructed API with
    various data classes and functions that access to various part of the data. With
    the flexibility provided by code generation, the model is exposed to a broader
    and more flexible range of information. More importantly, Mirai distinguishes
    itself by introducing an agentic environment specifically designed to evaluate
    LLM agents in the forecasting task. This represents a significant departure from
    previous work, which has not explored or even considered the potential of performing
    temporal forecasting tasks using LLM agents.'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '许多评估人工智能模型时间推理能力的基准测试已经被构建，但它们与Mirai在任务、信息和方法等方面存在不同的侧重点和设置，如表[4](https://arxiv.org/html/2407.01231v1#S4
    "4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")所示。某些基准测试专注于模型的时间理解能力[[40](https://arxiv.org/html/2407.01231v1#bib.bib40),
    [41](https://arxiv.org/html/2407.01231v1#bib.bib41), [42](https://arxiv.org/html/2407.01231v1#bib.bib42),
    [43](https://arxiv.org/html/2407.01231v1#bib.bib43), [44](https://arxiv.org/html/2407.01231v1#bib.bib44),
    [45](https://arxiv.org/html/2407.01231v1#bib.bib45)]，例如理解知识图谱（KGs）或文本中的时间关系，无论是简短的文本还是文档语料库。而时间预测任务与理解任务有很大不同，因为推理目标在模型的数据库中是看不见的，因此，模型不仅要理解，还需要进行推理。对于预测任务，先前的基准测试中有两种主要的任务形式：对于以文本格式表示历史信息的基准测试，使用QA任务格式[[8](https://arxiv.org/html/2407.01231v1#bib.bib8),
    [46](https://arxiv.org/html/2407.01231v1#bib.bib46), [47](https://arxiv.org/html/2407.01231v1#bib.bib47),
    [48](https://arxiv.org/html/2407.01231v1#bib.bib48), [50](https://arxiv.org/html/2407.01231v1#bib.bib50)]，以及针对基于时间知识图谱（TKG）的基准测试使用图链接预测任务格式[[49](https://arxiv.org/html/2407.01231v1#bib.bib49),
    [30](https://arxiv.org/html/2407.01231v1#bib.bib30)]。然而，信息源的统一格式要么缺乏对结构化事实的清晰支持，要么缺乏上下文细节，以便模型进行高级推理，而在Mirai中，我们提供了这两种信息源。此外，我们提供了精心构建的API，具有各种数据类和功能，可访问数据的不同部分。通过代码生成提供的灵活性，模型能够接触到更广泛、更灵活的信息范围。更重要的是，Mirai通过引入专门设计的代理环境来评估LLM代理在预测任务中的表现，区别于以往的工作，后者尚未探索或甚至考虑过使用LLM代理执行时间预测任务的潜力。'
- en: 4.2 Evaluation of Language Agents
  id: totrans-134
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.2 语言代理的评估
- en: Previous research has investigated the performance of LLM agents in a variety
    of domains, including arithmetic reasoning focused on obtaining correct solutions [[51](https://arxiv.org/html/2407.01231v1#bib.bib51),
    [52](https://arxiv.org/html/2407.01231v1#bib.bib52), [53](https://arxiv.org/html/2407.01231v1#bib.bib53)],
    proficiency assessment in utilizing tools and reporting results [[54](https://arxiv.org/html/2407.01231v1#bib.bib54),
    [55](https://arxiv.org/html/2407.01231v1#bib.bib55), [56](https://arxiv.org/html/2407.01231v1#bib.bib56)],
    evaluation of web navigation skills to find specific websites [[57](https://arxiv.org/html/2407.01231v1#bib.bib57),
    [58](https://arxiv.org/html/2407.01231v1#bib.bib58), [59](https://arxiv.org/html/2407.01231v1#bib.bib59)],
    and planning travel itineraries under given constraints [[60](https://arxiv.org/html/2407.01231v1#bib.bib60)].
    However, these evaluations do not fully address the challenges posed by tasks
    involving complex international events with diverse information formats and temporal
    attributes. Mirai presents a unique task in this context, where the agent must
    navigate and reason over the structured events and textual news articles with
    temporal information. This setup requires the agent to effectively handle multilateral
    relationships and information spanning different time periods. Furthermore, Mirai
    assesses the LLM agent’s ability to reason and predict information that not be
    directly available in the provided database. This adds an additional layer of
    complexity, as the agent must leverage its understanding of the available information
    to make informed predictions about future events or fill in missing details. By
    evaluating LLM agents in this challenging setting, Mirai provides valuable insights
    into their capacity to process and reason over complex, temporally-structured
    information and their ability to generate accurate predictions based on incomplete
    data.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 先前的研究已经调查了LLM代理在多个领域的表现，包括侧重于获得正确解答的算术推理[[51](https://arxiv.org/html/2407.01231v1#bib.bib51),
    [52](https://arxiv.org/html/2407.01231v1#bib.bib52), [53](https://arxiv.org/html/2407.01231v1#bib.bib53)]，评估工具使用能力和报告结果的熟练程度[[54](https://arxiv.org/html/2407.01231v1#bib.bib54),
    [55](https://arxiv.org/html/2407.01231v1#bib.bib55), [56](https://arxiv.org/html/2407.01231v1#bib.bib56)]，评估网络导航技能以寻找特定网站[[57](https://arxiv.org/html/2407.01231v1#bib.bib57),
    [58](https://arxiv.org/html/2407.01231v1#bib.bib58), [59](https://arxiv.org/html/2407.01231v1#bib.bib59)]，以及在给定约束条件下规划旅行行程[[60](https://arxiv.org/html/2407.01231v1#bib.bib60)]。然而，这些评估并未完全解决涉及复杂国际事件的任务所带来的挑战，这些任务包含多种信息格式和时间属性。在此背景下，Mirai提出了一个独特的任务，代理必须在具有时间信息的结构化事件和新闻文章中进行导航和推理。这一设置要求代理有效处理多边关系和跨不同时间段的信息。此外，Mirai还评估了LLM代理推理和预测未必直接存在于提供的数据库中的信息的能力。这增加了额外的复杂性，因为代理必须利用其对现有信息的理解，做出关于未来事件的预测或填补缺失的细节。通过在这一具有挑战性的环境中评估LLM代理，Mirai为它们处理和推理复杂的、时间结构化的信息的能力以及基于不完整数据生成准确预测的能力提供了有价值的见解。
- en: 4.3 LLMs for Tool-Use
  id: totrans-136
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4.3 LLMs用于工具使用
- en: Large Language Models (LLMs) have demonstrated remarkable language understanding [[61](https://arxiv.org/html/2407.01231v1#bib.bib61)]
    and reasoning capabilities [[62](https://arxiv.org/html/2407.01231v1#bib.bib62)].
    However, they also possess inherent limitations, such as their inability to provide
    up-to-date responses based on external knowledge or to perform complex mathematical
    reasoning. In response to these challenges, recent advancements have seen the
    integration of LLMs with various external tools [[63](https://arxiv.org/html/2407.01231v1#bib.bib63)].
    Notable examples include TALM [[64](https://arxiv.org/html/2407.01231v1#bib.bib64)]
    and ToolFormer [[65](https://arxiv.org/html/2407.01231v1#bib.bib65)], which utilize
    in-context learning to enhance the model’s ability to leverage different tools
    in tasks like question answering and mathematical reasoning. Chameleon [[66](https://arxiv.org/html/2407.01231v1#bib.bib66)]
    employs an LLM as a natural language planner to deduce the optimal sequence of
    tools to be used, subsequently executing these tools to generate the final output.
    AVIS [[67](https://arxiv.org/html/2407.01231v1#bib.bib67)] employs dynamic tree
    search to synthesize the most effective tool-use sequence. ToolkenGPT [[68](https://arxiv.org/html/2407.01231v1#bib.bib68)]
    integrates tool-use operators as special tokens and trains the model through sequence-to-sequence
    training. ToolLLM [[69](https://arxiv.org/html/2407.01231v1#bib.bib69)] introduces
    an instruction tuning dataset encompassing over 16,000 real-world APIs, significantly
    enhancing the model’s capability to utilize these tools effectively.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 大型语言模型（LLMs）已经展示了卓越的语言理解能力[[61](https://arxiv.org/html/2407.01231v1#bib.bib61)]和推理能力[[62](https://arxiv.org/html/2407.01231v1#bib.bib62)]。然而，它们也存在固有的局限性，比如无法基于外部知识提供最新的回答，或无法执行复杂的数学推理。为了应对这些挑战，最近的进展将LLMs与各种外部工具进行了集成[[63](https://arxiv.org/html/2407.01231v1#bib.bib63)]。一些显著的例子包括TALM[[64](https://arxiv.org/html/2407.01231v1#bib.bib64)]和ToolFormer[[65](https://arxiv.org/html/2407.01231v1#bib.bib65)]，它们利用上下文学习增强了模型在任务中使用不同工具的能力，如问答和数学推理。Chameleon[[66](https://arxiv.org/html/2407.01231v1#bib.bib66)]将LLM作为自然语言规划器，用于推断应使用的工具的最佳顺序，然后执行这些工具生成最终输出。AVIS[[67](https://arxiv.org/html/2407.01231v1#bib.bib67)]采用动态树搜索来合成最有效的工具使用顺序。ToolkenGPT[[68](https://arxiv.org/html/2407.01231v1#bib.bib68)]将工具使用操作符作为特殊标记集成，并通过序列到序列训练训练模型。ToolLLM[[69](https://arxiv.org/html/2407.01231v1#bib.bib69)]引入了一个指令调优数据集，涵盖了超过16,000个真实世界的API，大大增强了模型有效利用这些工具的能力。
- en: 5 Conclusion and Limitation
  id: totrans-138
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5 结论与局限性
- en: In conclusion, we introduce Mirai, a benchmark constructed for evaluating LLM
    agents in temporal forecasting international event with tools (APIs) to access
    an extensive historical event and news database. The results reveals the complexity
    and difficulty for current LLM Agents in generating contextually and syntax-wise
    correct code and performing complex temporal reasoning over the multi-party and
    multi-timestamped data for an effective prediction, highlighting a substantial
    space for further effects in this direction.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，我们介绍了Mirai，这是一个用于评估LLM代理在时间预测国际事件中的基准，结合了使用工具（API）访问广泛的历史事件和新闻数据库。结果揭示了当前LLM代理在生成语法和上下文正确的代码、并对多方和多时间戳的数据执行复杂的时间推理以进行有效预测方面的复杂性和困难，突出了该方向上进一步努力的巨大空间。
- en: 'Our work also has several limitations: 1) Only a few representative LLMs were
    tested, leaving broader evaluations with more open-sourced models; 2) The current
    API is basic, primarily providing functions for counting, listing, and statistical
    distribution. Future enhancements could include time series analysis and the ability
    for agents to add new functions for more comprehensive analysis. 3) The study
    was limited by cost of API usage, so we only conduct small number of experimental
    rounds and result in high variance. More extensive testing is suggested for future
    studies to achieve more stable results. Full discussion of limitation can be found
    in Appendix [C](https://arxiv.org/html/2407.01231v1#A3 "Appendix C Limitations
    ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting"). In the future,
    we plan to incorporate APIs to support more knowledge sources such as time-series
    and multimodal information, and consider testing more open-source LLMs and agent
    architectures.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的工作也有若干局限性：1）仅测试了少数具有代表性的LLM，未进行更广泛的评估，缺乏更多开源模型；2）目前的API功能较为基础，主要提供计数、列举和统计分布的功能。未来的增强可以包括时间序列分析，并允许代理添加新功能以进行更全面的分析；3）由于API使用成本的限制，我们仅进行少量实验回合，导致结果存在较大方差。建议未来的研究进行更广泛的测试，以获得更稳定的结果。有关局限性的完整讨论，请参见附录[C](https://arxiv.org/html/2407.01231v1#A3
    "附录C 局限性 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLM在工具使用中的应用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作
    ‣ 3.3 分析代理行为 ‣ 3.2 评估不同基础LLM的预测效果 ‣ 3.1 评估不同代理方法和工具的预测效果 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")。未来，我们计划整合支持更多知识源的API，如时间序列和多模态信息，并考虑测试更多开源LLM和代理架构。
- en: Acknowledgements
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 致谢
- en: Research was supported in part by NIH U24DK097771, U54HG012517, NSF 1829071,
    2106859, 2119643, 2200274, 2202693, and 2312501, DARPA HR00112490370, and Optum
    Lab.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 本研究部分由 NIH U24DK097771, U54HG012517, NSF 1829071, 2106859, 2119643, 2200274,
    2202693, 2312501，DARPA HR00112490370 和 Optum Lab 支持。
- en: References
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考文献
- en: Brown and Lee [2018] Thomas Brown and Susan Lee. Predictive analytics in economic
    sanctions and international policy. *Journal of International Economics*, 26(4):311–330,
    2018.
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brown 和 Lee [2018] Thomas Brown 和 Susan Lee. 经济制裁与国际政策中的预测分析。*国际经济学杂志*，26(4)：311-330，2018年。
- en: Smith and Doe [2020] Johnathan Smith and Jane Doe. Geopolitical risk assessment
    in international relations. *Journal of Global Politics*, 15(3):200–225, 2020.
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Smith 和 Doe [2020] Johnathan Smith 和 Jane Doe. 国际关系中的地缘政治风险评估。*全球政治杂志*，15(3)：200-225，2020年。
- en: Johnson and Roberts [2019] Emily Johnson and Mark Roberts. The role of diplomacy
    in shaping foreign policy. *Diplomatic Review*, 12(2):145–170, 2019.
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Johnson 和 Roberts [2019] Emily Johnson 和 Mark Roberts. 外交在塑造外交政策中的作用。*外交评论*，12(2)：145-170，2019年。
- en: 'Davis and Nguyen [2017] Richard Davis and Anh Nguyen. Strategic alliances and
    predictive diplomacy: A review of historical data. *Political Science Quarterly*,
    132(1):45–72, 2017.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Davis 和 Nguyen [2017] Richard Davis 和 Anh Nguyen. 战略联盟与预测外交：历史数据的回顾。*政治科学季刊*，132(1)：45-72，2017年。
- en: 'Mahdisoltani et al. [2015] Farzaneh Mahdisoltani, Joanna Biega, and Fabian M
    Suchanek. YAGO3: A Knowledge Base from Multilingual Wikipedias. January 2015.
    CIDR 2015.'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mahdisoltani 等 [2015] Farzaneh Mahdisoltani, Joanna Biega 和 Fabian M Suchanek.
    YAGO3：来自多语言维基百科的知识库。2015年1月。CIDR 2015。
- en: 'Jin et al. [2020a] Woojeong Jin, Meng Qu, Xisen Jin, and Xiang Ren. Recurrent
    Event Network: Autoregressive Structure Inference over Temporal Knowledge Graphs,
    October 2020a. EMNLP 2020.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jin 等 [2020a] Woojeong Jin, Meng Qu, Xisen Jin 和 Xiang Ren. 循环事件网络：基于时间知识图的自回归结构推理，2020年10月。EMNLP
    2020。
- en: Li et al. [2021a] Zixuan Li, Xiaolong Jin, Wei Li, Saiping Guan, Jiafeng Guo,
    Huawei Shen, Yuanzhuo Wang, and Xueqi Cheng. Temporal Knowledge Graph Reasoning
    Based on Evolutional Representation Learning, April 2021a. SIGIR 2021.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li 等 [2021a] Zixuan Li, Xiaolong Jin, Wei Li, Saiping Guan, Jiafeng Guo, Huawei
    Shen, Yuanzhuo Wang 和 Xueqi Cheng. 基于演化表示学习的时间知识图推理，2021年4月。SIGIR 2021。
- en: Zou et al. [2022] Andy Zou, Tristan Xiao, Ryan Jia, Joe Kwon, Mantas Mazeika,
    Richard Li, Dawn Song, Jacob Steinhardt, Owain Evans, and Dan Hendrycks. Forecasting
    Future World Events with Neural Networks. arXiv, October 2022. NeurIPS 2022.
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zou 等 [2022] Andy Zou, Tristan Xiao, Ryan Jia, Joe Kwon, Mantas Mazeika, Richard
    Li, Dawn Song, Jacob Steinhardt, Owain Evans 和 Dan Hendrycks. 使用神经网络预测未来世界事件。arXiv，2022年10月。NeurIPS
    2022。
- en: 'Reddy et al. [2023] Revanth Gangi Reddy, Yi R. Fung, Qi Zeng, Manling Li, Ziqi
    Wang, Paul Sullivan, and Heng Ji. SmartBook: AI-Assisted Situation Report Generation,
    March 2023. arXiv.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Reddy 等人 [2023] Revanth Gangi Reddy, Yi R. Fung, Qi Zeng, Manling Li, Ziqi
    Wang, Paul Sullivan, 和 Heng Ji. SmartBook: AI辅助的情况报告生成, 2023年3月. arXiv。'
- en: Galárraga et al. [2017] Luis Galárraga, Simon Razniewski, Antoine Amarilli,
    and Fabian M. Suchanek. Predicting completeness in knowledge bases. In Maarten
    de Rijke, Milad Shokouhi, Andrew Tomkins, and Min Zhang, editors, *Proceedings
    of the Tenth ACM International Conference on Web Search and Data Mining, WSDM
    2017, Cambridge, United Kingdom, February 6-10, 2017*, pages 375–383\. ACM, 2017.
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Galárraga 等人 [2017] Luis Galárraga, Simon Razniewski, Antoine Amarilli, 和 Fabian
    M. Suchanek. 预测知识库的完整性. 在 Maarten de Rijke, Milad Shokouhi, Andrew Tomkins, 和
    Min Zhang 编辑的 *第十届ACM国际网络搜索与数据挖掘会议（WSDM 2017），英国剑桥，2017年2月6日至10日* 会议录，页375–383.
    ACM, 2017。
- en: 'Huang et al. [2024] Zijie Huang, Jeehyun Hwang, Junkai Zhang, Jinwoo Baik,
    Weitong Zhang, Dominik Wodarz, Yizhou Sun, Quanquan Gu, and Wei Wang. Causal graph
    ODE: continuous treatment effect modeling in multi-agent dynamical systems. In
    Tat-Seng Chua, Chong-Wah Ngo, Ravi Kumar, Hady W. Lauw, and Roy Ka-Wei Lee, editors,
    *Proceedings of the ACM on Web Conference 2024, WWW 2024, Singapore, May 13-17,
    2024*, pages 4607–4617\. ACM, 2024.'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Huang 等人 [2024] Zijie Huang, Jeehyun Hwang, Junkai Zhang, Jinwoo Baik, Weitong
    Zhang, Dominik Wodarz, Yizhou Sun, Quanquan Gu, 和 Wei Wang. 因果图ODE：多智能体动态系统中的连续治疗效应建模.
    在 Tat-Seng Chua, Chong-Wah Ngo, Ravi Kumar, Hady W. Lauw, 和 Roy Ka-Wei Lee 编辑的
    *2024年ACM网络会议论文集（WWW 2024），新加坡，2024年5月13日至17日*，页4607–4617. ACM, 2024。
- en: 'Mclean et al. [2009] Dr Mclean, Alan Patterson, and John Williams. Risk assessment,
    policy-making and the limits of knowledge: The precautionary principle and international
    relations. *International Relations*, 23:548–566, 12 2009.'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mclean 等人 [2009] Dr Mclean, Alan Patterson, 和 John Williams. 风险评估、政策制定与知识的局限性：预防原则与国际关系.
    *国际关系*, 23:548–566, 2009年12月。
- en: Sumers et al. [2024] Theodore R. Sumers, Shunyu Yao, Karthik Narasimhan, and
    Thomas L. Griffiths. Cognitive Architectures for Language Agents, March 2024.
    arXiv:2309.02427 [cs].
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sumers 等人 [2024] Theodore R. Sumers, Shunyu Yao, Karthik Narasimhan, 和 Thomas
    L. Griffiths. 语言代理的认知架构, 2024年3月. arXiv:2309.02427 [cs]。
- en: 'Liu et al. [2023a] Xiao Liu, Hao Yu, Hanchen Zhang, Yifan Xu, Xuanyu Lei, Hanyu
    Lai, Yu Gu, Hangliang Ding, Kaiwen Men, Kejuan Yang, Shudan Zhang, Xiang Deng,
    Aohan Zeng, Zhengxiao Du, Chenhui Zhang, Sheng Shen, Tianjun Zhang, Yu Su, Huan
    Sun, Minlie Huang, Yuxiao Dong, and Jie Tang. AgentBench: Evaluating LLMs as Agents,
    October 2023a. arXiv:2308.03688 [cs].'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Liu 等人 [2023a] Xiao Liu, Hao Yu, Hanchen Zhang, Yifan Xu, Xuanyu Lei, Hanyu
    Lai, Yu Gu, Hangliang Ding, Kaiwen Men, Kejuan Yang, Shudan Zhang, Xiang Deng,
    Aohan Zeng, Zhengxiao Du, Chenhui Zhang, Sheng Shen, Tianjun Zhang, Yu Su, Huan
    Sun, Minlie Huang, Yuxiao Dong, 和 Jie Tang. AgentBench: 评估LLM作为代理的能力, 2023年10月a.
    arXiv:2308.03688 [cs]。'
- en: 'Weng [2023] Lilian Weng. LLM Powered Autonomous Agents, June 2023. Section:
    posts.'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Weng [2023] Lilian Weng. 基于LLM的自主代理, 2023年6月. 部分: 博文。'
- en: '[16] AutoGPT Documentation.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[16] AutoGPT文档。'
- en: 'Wang et al. [2023] Guanzhi Wang, Yuqi Xie, Yunfan Jiang, Ajay Mandlekar, Chaowei
    Xiao, Yuke Zhu, Linxi Fan, and Anima Anandkumar. Voyager: An Open-Ended Embodied
    Agent with Large Language Models, October 2023. arXiv:2305.16291 [cs].'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Wang 等人 [2023] Guanzhi Wang, Yuqi Xie, Yunfan Jiang, Ajay Mandlekar, Chaowei
    Xiao, Yuke Zhu, Linxi Fan, 和 Anima Anandkumar. Voyager: 基于大型语言模型的开放式体现代理, 2023年10月.
    arXiv:2305.16291 [cs]。'
- en: 'Shen et al. [2023] Yongliang Shen, Kaitao Song, Xu Tan, Dongsheng Li, Weiming
    Lu, and Yueting Zhuang. HuggingGPT: Solving AI Tasks with ChatGPT and its Friends
    in Hugging Face, December 2023. arXiv:2303.17580 [cs].'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Shen 等人 [2023] Yongliang Shen, Kaitao Song, Xu Tan, Dongsheng Li, Weiming Lu,
    和 Yueting Zhuang. HuggingGPT: 与ChatGPT及其Hugging Face朋友一起解决AI任务, 2023年12月. arXiv:2303.17580
    [cs]。'
- en: 'Lu et al. [2023a] Pan Lu, Baolin Peng, Hao Cheng, Michel Galley, Kai-Wei Chang,
    Ying Nian Wu, Song-Chun Zhu, and Jianfeng Gao. Chameleon: Plug-and-Play Compositional
    Reasoning with Large Language Models, October 2023a. arXiv:2304.09842 [cs].'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Lu 等人 [2023a] Pan Lu, Baolin Peng, Hao Cheng, Michel Galley, Kai-Wei Chang,
    Ying Nian Wu, Song-Chun Zhu, 和 Jianfeng Gao. Chameleon: 大型语言模型的即插即用组合推理, 2023年10月a.
    arXiv:2304.09842 [cs]。'
- en: 'Zhuang et al. [2023a] Yuchen Zhuang, Yue Yu, Kuan Wang, Haotian Sun, and Chao
    Zhang. ToolQA: A Dataset for LLM Question Answering with External Tools, June
    2023a. arXiv:2306.13304 [cs].'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Zhuang 等人 [2023a] Yuchen Zhuang, Yue Yu, Kuan Wang, Haotian Sun, 和 Chao Zhang.
    ToolQA: 一个用于外部工具的LLM问答数据集, 2023年6月a. arXiv:2306.13304 [cs]。'
- en: 'Li et al. [2023a] Minghao Li, Yingxiu Zhao, Bowen Yu, Feifan Song, Hangyu Li,
    Haiyang Yu, Zhoujun Li, Fei Huang, and Yongbin Li. API-Bank: A Comprehensive Benchmark
    for Tool-Augmented LLMs, October 2023a. arXiv:2304.08244 [cs].'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li et al. [2023a] Minghao Li, Yingxiu Zhao, Bowen Yu, Feifan Song, Hangyu Li,
    Haiyang Yu, Zhoujun Li, Fei Huang, 和 Yongbin Li. API-Bank：工具增强大型语言模型的综合基准，2023年10月。arXiv:2304.08244
    [cs]。
- en: Achiam et al. [2023] Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad,
    Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman,
    Shyamal Anadkat, et al. Gpt-4 technical report. *arXiv preprint arXiv:2303.08774*,
    2023.
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Achiam et al. [2023] Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad,
    Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman,
    Shyamal Anadkat 等人。GPT-4 技术报告。*arXiv 预印本 arXiv:2303.08774*，2023年。
- en: 'Anthropic [2023] Anthropic. Claude: An ai assistant by anthropic, 2023.'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Anthropic [2023] Anthropic. Claude：Anthropic 提供的 AI 助手，2023年。
- en: 'DeepMind [2023] Google DeepMind. Gemini: An ai model by google deepmind, 2023.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DeepMind [2023] Google DeepMind. Gemini：Google DeepMind 提供的 AI 模型，2023年。
- en: 'Touvron et al. [2023] Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier
    Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Roziere, Naman Goyal,
    Eric Hambro, Faisal Azhar, et al. Llama: Open and efficient foundation language
    models, 2023.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Touvron et al. [2023] Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier
    Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Roziere, Naman Goyal,
    Eric Hambro, Faisal Azhar 等人。Llama：开放高效的基础语言模型，2023年。
- en: Yuan et al. [2023] Siyu Yuan, Jiangjie Chen, Ziquan Fu, Xuyang Ge, Soham Shah,
    Charles Robert Jankowski, Yanghua Xiao, and Deqing Yang. Distilling Script Knowledge
    from Large Language Models for Constrained Language Planning, May 2023. arXiv:2305.05252
    [cs].
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yuan et al. [2023] Siyu Yuan, Jiangjie Chen, Ziquan Fu, Xuyang Ge, Soham Shah,
    Charles Robert Jankowski, Yanghua Xiao, 和 Deqing Yang. 从大型语言模型中提取脚本知识用于约束性语言规划，2023年5月。arXiv:2305.05252
    [cs]。
- en: 'Liu et al. [2023b] Bo Liu, Yuqian Jiang, Xiaohan Zhang, Qiang Liu, Shiqi Zhang,
    Joydeep Biswas, and Peter Stone. LLM+P: Empowering Large Language Models with
    Optimal Planning Proficiency, September 2023b. arXiv:2304.11477 [cs].'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liu et al. [2023b] Bo Liu, Yuqian Jiang, Xiaohan Zhang, Qiang Liu, Shiqi Zhang,
    Joydeep Biswas, 和 Peter Stone. LLM+P：赋能大型语言模型以实现最佳规划能力，2023年9月。arXiv:2304.11477
    [cs]。
- en: 'Valmeekam et al. [2023] Karthik Valmeekam, Matthew Marquez, Alberto Olmo, Sarath
    Sreedharan, and Subbarao Kambhampati. PlanBench: An Extensible Benchmark for Evaluating
    Large Language Models on Planning and Reasoning about Change, November 2023. arXiv:2206.10498
    [cs].'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Valmeekam et al. [2023] Karthik Valmeekam, Matthew Marquez, Alberto Olmo, Sarath
    Sreedharan, 和 Subbarao Kambhampati. PlanBench：一种可扩展的基准，用于评估大型语言模型在规划和推理变化中的表现，2023年11月。arXiv:2206.10498
    [cs]。
- en: Ma et al. [2023a] Yunshan Ma, Chenchen Ye, Zijian Wu, Xiang Wang, Yixin Cao,
    and Tat-Seng Chua. Context-aware Event Forecasting via Graph Disentanglement.
    In *Proceedings of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data
    Mining*, pages 1643–1652, August 2023a. KDD 2023.
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ma et al. [2023a] Yunshan Ma, Chenchen Ye, Zijian Wu, Xiang Wang, Yixin Cao,
    和 Tat-Seng Chua. 基于图解耦的上下文感知事件预测。在*第29届ACM SIGKDD知识发现与数据挖掘大会论文集*，第1643–1652页，2023年8月。KDD
    2023。
- en: 'Leetaru and Schrodt [2013] Kalev Leetaru and Philip A Schrodt. GDELT: Global
    Data on Events, Location and Tone,. 2013.'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Leetaru and Schrodt [2013] Kalev Leetaru 和 Philip A Schrodt. GDELT：全球事件、位置和语气数据，2013年。
- en: 'Yao et al. [2023a] Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran,
    Karthik R. Narasimhan, and Yuan Cao. React: Synergizing reasoning and acting in
    language models. In *The Eleventh International Conference on Learning Representations,
    ICLR 2023, Kigali, Rwanda, May 1-5, 2023*. OpenReview.net, 2023a.'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yao et al. [2023a] Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran,
    Karthik R. Narasimhan, 和 Yuan Cao. React：协同推理与行动的语言模型。发表于*第十一届国际学习表示会议，ICLR 2023，卢旺达基加利，2023年5月1日至5日*。OpenReview.net，2023年。
- en: Boschee et al. [2015a] Elizabeth Boschee, Jennifer Lautenschlager, Sean O’Brien,
    Steve Shellman, James Starz, and Michael Ward. Cameo.cdb.09b5.pdf. In *ICEWS Coded
    Event Data*. Harvard Dataverse, 2015a.
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Boschee et al. [2015a] Elizabeth Boschee, Jennifer Lautenschlager, Sean O’Brien,
    Steve Shellman, James Starz, 和 Michael Ward. Cameo.cdb.09b5.pdf。发表于*ICEWS 编码事件数据*。哈佛数据集，2015年。
- en: 'Yao et al. [2023b] Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran,
    Karthik Narasimhan, and Yuan Cao. ReAct: Synergizing Reasoning and Acting in Language
    Models, March 2023b. arXiv:2210.03629 [cs].'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yao et al. [2023b] Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran,
    Karthik Narasimhan, 和 Yuan Cao. ReAct：协同推理与行动的语言模型，2023年3月。arXiv:2210.03629 [cs]。
- en: 'Laurençon et al. [2023] Hugo Laurençon, Lucile Saulnier, Léo Tronchon, Stas
    Bekman, Amanpreet Singh, Anton Lozhkov, Thomas Wang, Siddharth Karamcheti, Alexander M.
    Rush, Douwe Kiela, Matthieu Cord, and Victor Sanh. OBELICS: an open web-scale
    filtered dataset of interleaved image-text documents. In Alice Oh, Tristan Naumann,
    Amir Globerson, Kate Saenko, Moritz Hardt, and Sergey Levine, editors, *Advances
    in Neural Information Processing Systems 36: Annual Conference on Neural Information
    Processing Systems 2023, NeurIPS 2023, New Orleans, LA, USA, December 10 - 16,
    2023*, 2023.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Laurençon 等人 [2023] Hugo Laurençon, Lucile Saulnier, Léo Tronchon, Stas Bekman,
    Amanpreet Singh, Anton Lozhkov, Thomas Wang, Siddharth Karamcheti, Alexander M.
    Rush, Douwe Kiela, Matthieu Cord, 和 Victor Sanh。OBELICS：一个开放的Web规模筛选数据集，包含交错的图像-文本文档。在Alice
    Oh, Tristan Naumann, Amir Globerson, Kate Saenko, Moritz Hardt, 和 Sergey Levine
    主编的*《神经信息处理系统进展36：2023年神经信息处理系统年会，NeurIPS 2023，新奥尔良，美国，2023年12月10日至16日》*中，2023年。
- en: gpt [2023] GPT-3.5-Turbo, [https://platform.openai.com/docs/models/gpt-3-5-turbo](https://platform.openai.com/docs/models/gpt-3-5-turbo),
    2023.
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gpt [2023] GPT-3.5-Turbo，[https://platform.openai.com/docs/models/gpt-3-5-turbo](https://platform.openai.com/docs/models/gpt-3-5-turbo)，2023年。
- en: Wei et al. [2023] Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Brian
    Ichter, Fei Xia, Ed Chi, Quoc Le, and Denny Zhou. Chain-of-Thought Prompting Elicits
    Reasoning in Large Language Models, January 2023. arXiv:2201.11903 [cs].
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wei 等人 [2023] Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Brian
    Ichter, Fei Xia, Ed Chi, Quoc Le, 和 Denny Zhou。链式推理提示在大语言模型中的推理激发，2023年1月。arXiv:2201.11903
    [cs]。
- en: 'Kojima et al. [2022] Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka
    Matsuo, and Yusuke Iwasawa. Large language models are zero-shot reasoners. In
    Sanmi Koyejo, S. Mohamed, A. Agarwal, Danielle Belgrave, K. Cho, and A. Oh, editors,
    *Advances in Neural Information Processing Systems 35: Annual Conference on Neural
    Information Processing Systems 2022, NeurIPS 2022, New Orleans, LA, USA, November
    28 - December 9, 2022*, 2022.'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kojima 等人 [2022] Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo,
    和 Yusuke Iwasawa。大语言模型是零-shot推理器。在Sanmi Koyejo, S. Mohamed, A. Agarwal, Danielle
    Belgrave, K. Cho, 和 A. Oh 主编的*《神经信息处理系统进展35：2022年神经信息处理系统年会，NeurIPS 2022，新奥尔良，美国，2022年11月28日-12月9日》*中，2022年。
- en: Jiang et al. [2023] Albert Q. Jiang, Alexandre Sablayrolles, Arthur Mensch,
    Chris Bamford, Devendra Singh Chaplot, Diego de las Casas, Florian Bressand, Gianna
    Lengyel, Guillaume Lample, Lucile Saulnier, Lélio Renard Lavaud, Marie-Anne Lachaux,
    Pierre Stock, Teven Le Scao, Thibaut Lavril, Thomas Wang, Timothée Lacroix, and
    William El Sayed. Mistral 7b, 2023.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jiang 等人 [2023] Albert Q. Jiang, Alexandre Sablayrolles, Arthur Mensch, Chris
    Bamford, Devendra Singh Chaplot, Diego de las Casas, Florian Bressand, Gianna
    Lengyel, Guillaume Lample, Lucile Saulnier, Lélio Renard Lavaud, Marie-Anne Lachaux,
    Pierre Stock, Teven Le Scao, Thibaut Lavril, Thomas Wang, Timothée Lacroix, 和
    William El Sayed。Mistral 7b，2023年。
- en: gpt [2024] Gpt-4o contributions. 2024.
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gpt [2024] Gpt-4o 贡献。2024年。
- en: 'Jia et al. [2018] Zhen Jia, Abdalghani Abujabal, Rishiraj Saha Roy, Jannik
    Strötgen, and Gerhard Weikum. TempQuestions: A Benchmark for Temporal Question
    Answering. In *Companion Proceedings of the The Web Conference 2018*, WWW ’18,
    pages 1057–1062, Republic and Canton of Geneva, CHE, April 2018\. International
    World Wide Web Conferences Steering Committee. ISBN 978-1-4503-5640-4. WWW 2018.'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jia 等人 [2018] Zhen Jia, Abdalghani Abujabal, Rishiraj Saha Roy, Jannik Strötgen,
    和 Gerhard Weikum。TempQuestions：时间性问题回答的基准。在*2018年网络会议的附录论文集*，WWW ’18，页面1057–1062，瑞士日内瓦，2018年4月。国际网络会议指导委员会。ISBN
    978-1-4503-5640-4。WWW 2018。
- en: 'Saxena et al. [2021] Apoorv Saxena, Soumen Chakrabarti, and Partha Talukdar.
    Question Answering Over Temporal Knowledge Graphs. In *Proceedings of the 59th
    Annual Meeting of the Association for Computational Linguistics and the 11th International
    Joint Conference on Natural Language Processing (Volume 1: Long Papers)*, pages
    6663–6676, Online, August 2021\. Association for Computational Linguistics. ACL
    2021.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Saxena 等人 [2021] Apoorv Saxena, Soumen Chakrabarti, 和 Partha Talukdar。基于时间性知识图谱的问题回答。在*第59届计算语言学协会年会暨第11届国际自然语言处理联合会议（卷1：长篇论文）*的论文集，页面6663–6676，线上，2021年8月。计算语言学协会。ACL
    2021。
- en: 'Mavromatis et al. [2021] Costas Mavromatis, Prasanna Lakkur Subramanyam, Vassilis N.
    Ioannidis, Soji Adeshina, Phillip R. Howard, Tetiana Grinberg, Nagib Hakim, and
    George Karypis. TempoQR: Temporal Question Reasoning over Knowledge Graphs. arXiv,
    December 2021. AAAI 2022.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mavromatis 等人 [2021] Costas Mavromatis, Prasanna Lakkur Subramanyam, Vassilis
    N. Ioannidis, Soji Adeshina, Phillip R. Howard, Tetiana Grinberg, Nagib Hakim,
    和 George Karypis。TempoQR：知识图谱上的时间性问题推理。arXiv，2021年12月。AAAI 2022。
- en: 'Ning et al. [2020a] Qiang Ning, Hao Wu, Rujun Han, Nanyun Peng, Matt Gardner,
    and Dan Roth. TORQUE: A Reading Comprehension Dataset of Temporal Ordering Questions.
    In *Proceedings of the 2020 Conference on Empirical Methods in Natural Language
    Processing (EMNLP)*, pages 1158–1172, Online, November 2020a. Association for
    Computational Linguistics. EMNLP 2020.'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ning 等人 [2020a] Qiang Ning, Hao Wu, Rujun Han, Nanyun Peng, Matt Gardner 和 Dan
    Roth。TORQUE：一个时间排序问题的阅读理解数据集。见于 *2020年自然语言处理实证方法会议（EMNLP）*，第1158-1172页，线上，2020年11月。计算语言学协会。EMNLP
    2020。
- en: 'Tan et al. [2023a] Qingyu Tan, Hwee Tou Ng, and Lidong Bing. Towards Benchmarking
    and Improving the Temporal Reasoning Capability of Large Language Models. In *Proceedings
    of the 61st Annual Meeting of the Association for Computational Linguistics (Volume
    1: Long Papers)*, pages 14820–14835, Toronto, Canada, July 2023a. Association
    for Computational Linguistics. ACL 2023.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tan 等人 [2023a] Qingyu Tan, Hwee Tou Ng 和 Lidong Bing。迈向基准测试并提升大型语言模型的时间推理能力。见于
    *第61届计算语言学协会年会论文集（第一卷：长篇论文）*，第14820-14835页，加拿大多伦多，2023年7月。计算语言学协会。ACL 2023。
- en: 'Wang and Zhao [2024] Yuqing Wang and Yun Zhao. TRAM: Benchmarking Temporal
    Reasoning for Large Language Models, May 2024. arXiv:2310.00835 [cs].'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wang 和 Zhao [2024] Yuqing Wang 和 Yun Zhao。TRAM：大型语言模型时间推理的基准测试，2024年5月。arXiv:2310.00835
    [cs]。
- en: Zhang et al. [2024] Zhihan Zhang, Yixin Cao, Chenchen Ye, Yunshan Ma, Lizi Liao,
    and Tat-Seng Chua. Analyzing Temporal Complex Events with Large Language Models?
    A Benchmark towards Temporal, Long Context Understanding, June 2024. arXiv:2406.02472
    [cs].
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zhang 等人 [2024] Zhihan Zhang, Yixin Cao, Chenchen Ye, Yunshan Ma, Lizi Liao
    和 Tat-Seng Chua。用大语言模型分析时间复杂事件？面向时间和长上下文理解的基准测试，2024年6月。arXiv:2406.02472 [cs]。
- en: 'Jin et al. [2021] Woojeong Jin, Rahul Khanna, Suji Kim, Dong-Ho Lee, Fred Morstatter,
    Aram Galstyan, and Xiang Ren. ForecastQA: A Question Answering Challenge for Event
    Forecasting with Temporal Text Data. In *Proceedings of the 59th Annual Meeting
    of the Association for Computational Linguistics and the 11th International Joint
    Conference on Natural Language Processing (Volume 1: Long Papers)*, pages 4636–4650,
    Online, August 2021\. Association for Computational Linguistics. ACL 2021.'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jin 等人 [2021] Woojeong Jin, Rahul Khanna, Suji Kim, Dong-Ho Lee, Fred Morstatter,
    Aram Galstyan 和 Xiang Ren。ForecastQA：一个针对事件预测的问答挑战，涉及时间文本数据。见于 *第59届计算语言学协会年会与第11届国际自然语言处理联合会议论文集（第一卷：长篇论文）*，第4636-4650页，线上，2021年8月。计算语言学协会。ACL
    2021。
- en: Halawi et al. [2024] Danny Halawi, Fred Zhang, Chen Yueh-Han, and Jacob Steinhardt.
    Approaching Human-Level Forecasting with Language Models, February 2024. URL [http://arxiv.org/abs/2402.18563](http://arxiv.org/abs/2402.18563).
    arXiv:2402.18563 [cs].
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Halawi 等人 [2024] Danny Halawi, Fred Zhang, Chen Yueh-Han 和 Jacob Steinhardt。通过语言模型接近人类水平的预测，2024年2月。网址
    [http://arxiv.org/abs/2402.18563](http://arxiv.org/abs/2402.18563)。arXiv:2402.18563
    [cs]。
- en: Boschee et al. [2015b] Elizabeth Boschee, Jennifer Lautenschlager, Sean O’Brien,
    Steve Shellman, James Starz, and Michael Ward. Icews coded event data, 2015b.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Boschee 等人 [2015b] Elizabeth Boschee, Jennifer Lautenschlager, Sean O’Brien,
    Steve Shellman, James Starz 和 Michael Ward。Icews 编码事件数据，2015b。
- en: 'Schoenegger et al. [2024] Philipp Schoenegger, Indre Tuminauskaite, Peter S.
    Park, and Philip E. Tetlock. Wisdom of the Silicon Crowd: LLM Ensemble Prediction
    Capabilities Rival Human Crowd Accuracy, May 2024. URL [http://arxiv.org/abs/2402.19379](http://arxiv.org/abs/2402.19379).
    arXiv:2402.19379 [cs].'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Schoenegger 等人 [2024] Philipp Schoenegger, Indre Tuminauskaite, Peter S. Park
    和 Philip E. Tetlock。硅谷人群的智慧：LLM 集成预测能力可与人类群体准确性相媲美，2024年5月。网址 [http://arxiv.org/abs/2402.19379](http://arxiv.org/abs/2402.19379)。arXiv:2402.19379
    [cs]。
- en: Roy and Roth [2015] Subhro Roy and Dan Roth. Solving general arithmetic word
    problems. In *Proceedings of EMNLP*, 2015.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Roy 和 Roth [2015] Subhro Roy 和 Dan Roth。解决一般的算术文字问题。见于 *EMNLP 会议论文集*，2015年。
- en: Cobbe et al. [2021] Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen,
    Heewoo Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro
    Nakano, et al. Training verifiers to solve math word problems. *arXiv preprint
    arXiv:2110.14168*, 2021.
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cobbe 等人 [2021] Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo
    Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano
    等人。训练验证器解决数学文字问题。*arXiv 预印本 arXiv:2110.14168*，2021年。
- en: Patel et al. [2021] Arkil Patel, Satwik Bhattamishra, and Navin Goyal. Are NLP
    models really able to solve simple math word problems? In *Proceedings of NAACL*,
    2021.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Patel 等人 [2021] Arkil Patel, Satwik Bhattamishra 和 Navin Goyal。NLP 模型真的能解决简单的数学文字问题吗？见于
    *NAACL 会议论文集*，2021年。
- en: 'Li et al. [2023b] Minghao Li, Yingxiu Zhao, Bowen Yu, Feifan Song, Hangyu Li,
    Haiyang Yu, Zhoujun Li, Fei Huang, and Yongbin Li. Api-bank: A comprehensive benchmark
    for tool-augmented llms. In *Proceedings of EMNLP*, 2023b.'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li 等人 [2023b] Minghao Li, Yingxiu Zhao, Bowen Yu, Feifan Song, Hangyu Li, Haiyang
    Yu, Zhoujun Li, Fei Huang 和 Yongbin Li。Api-bank：一个综合性的工具增强型大语言模型基准。发表于 *EMNLP
    会议论文集*，2023b。
- en: Xu et al. [2023a] Qiantong Xu, Fenglu Hong, Bo Li, Changran Hu, Zhengyu Chen,
    and Jian Zhang. On the tool manipulation capability of open-source large language
    models. *arXiv preprint arXiv:2305.16504*, 2023a.
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Xu 等人 [2023a] Qiantong Xu, Fenglu Hong, Bo Li, Changran Hu, Zhengyu Chen 和 Jian
    Zhang。关于开源大语言模型的工具操作能力。 *arXiv 预印本 arXiv:2305.16504*，2023a。
- en: 'Zhuang et al. [2023b] Yuchen Zhuang, Yue Yu, Kuan Wang, Haotian Sun, and Chao
    Zhang. ToolQA: A dataset for LLM question answering with external tools. In *Proceedings
    of NeurIPS*, 2023b.'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zhuang 等人 [2023b] Yuchen Zhuang, Yue Yu, Kuan Wang, Haotian Sun 和 Chao Zhang。ToolQA：一个用于大语言模型外部工具问答的数据集。发表于
    *NeurIPS 会议论文集*，2023b。
- en: 'Deng et al. [2023] Xiang Deng, Yu Gu, Boyuan Zheng, Shijie Chen, Samuel Stevens,
    Boshi Wang, Huan Sun, and Yu Su. Mind2web: Towards a generalist agent for the
    web. In *Proceedings of NeurIPS*, 2023.'
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deng 等人 [2023] Xiang Deng, Yu Gu, Boyuan Zheng, Shijie Chen, Samuel Stevens,
    Boshi Wang, Huan Sun 和 Yu Su。Mind2web：迈向通用型网络代理。发表于 *NeurIPS 会议论文集*，2023年。
- en: 'Zhou et al. [2024] Shuyan Zhou, Frank F Xu, Hao Zhu, Xuhui Zhou, Robert Lo,
    Abishek Sridhar, Xianyi Cheng, Yonatan Bisk, Daniel Fried, Uri Alon, et al. Webarena:
    A realistic web environment for building autonomous agents. In *Proceedings of
    ICLR*, 2024.'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zhou 等人 [2024] Shuyan Zhou, Frank F Xu, Hao Zhu, Xuhui Zhou, Robert Lo, Abishek
    Sridhar, Xianyi Cheng, Yonatan Bisk, Daniel Fried, Uri Alon 等人。Webarena：一个用于构建自主代理的现实网络环境。发表于
    *ICLR 会议论文集*，2024年。
- en: 'Liu et al. [2024] Xiao Liu, Hao Yu, Hanchen Zhang, Yifan Xu, Xuanyu Lei, Hanyu
    Lai, Yu Gu, Hangliang Ding, Kaiwen Men, Kejuan Yang, et al. Agentbench: Evaluating
    llms as agents. In *Proceedings of ICLR*, 2024.'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liu 等人 [2024] Xiao Liu, Hao Yu, Hanchen Zhang, Yifan Xu, Xuanyu Lei, Hanyu Lai,
    Yu Gu, Hangliang Ding, Kaiwen Men, Kejuan Yang 等人。Agentbench：评估大语言模型作为代理的能力。发表于
    *ICLR 会议论文集*，2024年。
- en: 'Xie et al. [2024] Jian Xie, Kai Zhang, Jiangjie Chen, Tinghui Zhu, Renze Lou,
    Yuandong Tian, Yanghua Xiao, and Yu Su. TravelPlanner: A Benchmark for Real-World
    Planning with Language Agents, February 2024. arXiv:2402.01622 [cs].'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Xie 等人 [2024] Jian Xie, Kai Zhang, Jiangjie Chen, Tinghui Zhu, Renze Lou, Yuandong
    Tian, Yanghua Xiao 和 Yu Su。TravelPlanner：一个用于语言代理的真实世界规划基准，2024年2月。arXiv:2402.01622
    [cs]。
- en: Radford et al. [2018] Alec Radford, Karthik Narasimhan, Tim Salimans, Ilya Sutskever,
    et al. Improving language understanding by generative pre-training. 2018.
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Radford 等人 [2018] Alec Radford, Karthik Narasimhan, Tim Salimans, Ilya Sutskever
    等人。通过生成式预训练提升语言理解能力。2018年。
- en: Wei et al. [2022] Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Brian
    Ichter, Fei Xia, Ed H. Chi, Quoc V. Le, and Denny Zhou. Chain-of-thought prompting
    elicits reasoning in large language models. In *NeurIPS*, 2022. URL [http://papers.nips.cc/paper_files/paper/2022/hash/9d5609613524ecf4f15af0f7b31abca4-Abstract-Conference.html](http://papers.nips.cc/paper_files/paper/2022/hash/9d5609613524ecf4f15af0f7b31abca4-Abstract-Conference.html).
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wei 等人 [2022] Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Brian
    Ichter, Fei Xia, Ed H. Chi, Quoc V. Le 和 Denny Zhou。链式思维提示促使大型语言模型进行推理。发表于 *NeurIPS*，2022年。URL
    [http://papers.nips.cc/paper_files/paper/2022/hash/9d5609613524ecf4f15af0f7b31abca4-Abstract-Conference.html](http://papers.nips.cc/paper_files/paper/2022/hash/9d5609613524ecf4f15af0f7b31abca4-Abstract-Conference.html)。
- en: 'Mialon et al. [2023] Grégoire Mialon, Roberto Dessì, Maria Lomeli, Christoforos
    Nalmpantis, Ram Pasunuru, Roberta Raileanu, Baptiste Rozière, Timo Schick, Jane
    Dwivedi-Yu, Asli Celikyilmaz, Edouard Grave, Yann LeCun, and Thomas Scialom. Augmented
    language models: a survey. In *arXiv preprint arXiv:2302.07842*, 2023.'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mialon 等人 [2023] Grégoire Mialon, Roberto Dessì, Maria Lomeli, Christoforos
    Nalmpantis, Ram Pasunuru, Roberta Raileanu, Baptiste Rozière, Timo Schick, Jane
    Dwivedi-Yu, Asli Celikyilmaz, Edouard Grave, Yann LeCun, 和 Thomas Scialom。增强型语言模型：一项调查。发表于
    *arXiv 预印本 arXiv:2302.07842*，2023年。
- en: 'Parisi et al. [2022] Aaron Parisi, Yao Zhao, and Noah Fiedel. Talm: Tool augmented
    language models. In *arXiv preprint arXiv:2205.12255*, 2022.'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Parisi 等人 [2022] Aaron Parisi, Yao Zhao 和 Noah Fiedel。Talm：工具增强型语言模型。发表于 *arXiv
    预印本 arXiv:2205.12255*，2022年。
- en: 'Schick et al. [2023] Timo Schick, Jane Dwivedi-Yu, Roberto Dessi, Roberta Raileanu,
    Maria Lomeli, Eric Hambro, Luke Zettlemoyer, Nicola Cancedda, and Thomas Scialom.
    Toolformer: Language models can teach themselves to use tools. In *Proceedings
    of NeurIPS*, 2023.'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Schick 等人 [2023] Timo Schick, Jane Dwivedi-Yu, Roberto Dessi, Roberta Raileanu,
    Maria Lomeli, Eric Hambro, Luke Zettlemoyer, Nicola Cancedda 和 Thomas Scialom。Toolformer：语言模型可以自学使用工具。发表于
    *NeurIPS 会议论文集*，2023年。
- en: 'Lu et al. [2023b] Pan Lu, Baolin Peng, Hao Cheng, Michel Galley, Kai-Wei Chang,
    Ying Nian Wu, Song-Chun Zhu, and Jianfeng Gao. Chameleon: Plug-and-play compositional
    reasoning with large language models. In *Proceedings of NeurIPS*, 2023b.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Lu 等人 [2023b] Pan Lu, Baolin Peng, Hao Cheng, Michel Galley, Kai-Wei Chang,
    Ying Nian Wu, Song-Chun Zhu, 和 Jianfeng Gao. Chameleon: 基于大语言模型的即插即用组合推理. 载于 *NeurIPS
    会议论文集*，2023b。'
- en: 'Hu et al. [2023] Ziniu Hu, Ahmet Iscen, Chen Sun, Kai-Wei Chang, Yizhou Sun,
    David Ross, Cordelia Schmid, and Alireza Fathi. AVIS: autonomous visual information
    seeking with large language model agent. In Alice Oh, Tristan Naumann, Amir Globerson,
    Kate Saenko, Moritz Hardt, and Sergey Levine, editors, *Advances in Neural Information
    Processing Systems 36: Annual Conference on Neural Information Processing Systems
    2023, NeurIPS 2023, New Orleans, LA, USA, December 10 - 16, 2023*, 2023. URL [http://papers.nips.cc/paper_files/paper/2023/hash/029df12a9363313c3e41047844ecad94-Abstract-Conference.html](http://papers.nips.cc/paper_files/paper/2023/hash/029df12a9363313c3e41047844ecad94-Abstract-Conference.html).'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Hu 等人 [2023] Ziniu Hu, Ahmet Iscen, Chen Sun, Kai-Wei Chang, Yizhou Sun, David
    Ross, Cordelia Schmid, 和 Alireza Fathi. AVIS: 基于大语言模型代理的自主视觉信息寻求. 载于 Alice Oh,
    Tristan Naumann, Amir Globerson, Kate Saenko, Moritz Hardt, 和 Sergey Levine 编辑的
    *《神经信息处理系统进展 36：神经信息处理系统年度会议 2023》*，NeurIPS 2023，美国路易斯安那州新奥尔良，2023年12月10日至16日。网址
    [http://papers.nips.cc/paper_files/paper/2023/hash/029df12a9363313c3e41047844ecad94-Abstract-Conference.html](http://papers.nips.cc/paper_files/paper/2023/hash/029df12a9363313c3e41047844ecad94-Abstract-Conference.html)。'
- en: 'Hao et al. [2023] Shibo Hao, Tianyang Liu, Zhen Wang, and Zhiting Hu. Toolkengpt:
    Augmenting frozen language models with massive tools via tool embeddings. In Alice
    Oh, Tristan Naumann, Amir Globerson, Kate Saenko, Moritz Hardt, and Sergey Levine,
    editors, *Advances in Neural Information Processing Systems 36: Annual Conference
    on Neural Information Processing Systems 2023, NeurIPS 2023, New Orleans, LA,
    USA, December 10 - 16, 2023*, 2023. URL [http://papers.nips.cc/paper_files/paper/2023/hash/8fd1a81c882cd45f64958da6284f4a3f-Abstract-Conference.html](http://papers.nips.cc/paper_files/paper/2023/hash/8fd1a81c882cd45f64958da6284f4a3f-Abstract-Conference.html).'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Hao 等人 [2023] Shibo Hao, Tianyang Liu, Zhen Wang, 和 Zhiting Hu. Toolkengpt:
    通过工具嵌入增强冻结语言模型与大量工具的互动. 载于 Alice Oh, Tristan Naumann, Amir Globerson, Kate Saenko,
    Moritz Hardt, 和 Sergey Levine 编辑的 *《神经信息处理系统进展 36：神经信息处理系统年度会议 2023》*，NeurIPS
    2023，美国路易斯安那州新奥尔良，2023年12月10日至16日。网址 [http://papers.nips.cc/paper_files/paper/2023/hash/8fd1a81c882cd45f64958da6284f4a3f-Abstract-Conference.html](http://papers.nips.cc/paper_files/paper/2023/hash/8fd1a81c882cd45f64958da6284f4a3f-Abstract-Conference.html)。'
- en: 'Qin et al. [2023] Yujia Qin, Shihao Liang, Yining Ye, Kunlun Zhu, Lan Yan,
    Yaxi Lu, Yankai Lin, Xin Cong, Xiangru Tang, Bill Qian, Sihan Zhao, Runchu Tian,
    Ruobing Xie, Jie Zhou, Mark Gerstein, Dahai Li, Zhiyuan Liu, and Maosong Sun.
    Toolllm: Facilitating large language models to master 16000+ real-world apis.
    *CoRR*, abs/2307.16789, 2023. doi: 10.48550/ARXIV.2307.16789. URL [https://doi.org/10.48550/arXiv.2307.16789](https://doi.org/10.48550/arXiv.2307.16789).'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Qin 等人 [2023] Yujia Qin, Shihao Liang, Yining Ye, Kunlun Zhu, Lan Yan, Yaxi
    Lu, Yankai Lin, Xin Cong, Xiangru Tang, Bill Qian, Sihan Zhao, Runchu Tian, Ruobing
    Xie, Jie Zhou, Mark Gerstein, Dahai Li, Zhiyuan Liu, 和 Maosong Sun. Toolllm: 帮助大语言模型掌握16000+真实世界API.
    *CoRR*，abs/2307.16789，2023年。doi: 10.48550/ARXIV.2307.16789。网址 [https://doi.org/10.48550/arXiv.2307.16789](https://doi.org/10.48550/arXiv.2307.16789)。'
- en: Tan et al. [2023b] Qingyu Tan, Hwee Tou Ng, and Lidong Bing. Towards benchmarking
    and improving the temporal reasoning capability of large language models. In *ACL*,
    pages 14820–14835\. Association for Computational Linguistics, 2023b.
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tan 等人 [2023b] Qingyu Tan, Hwee Tou Ng, 和 Lidong Bing. 朝着基准测试和提升大语言模型的时间推理能力迈进.
    载于 *ACL*，页面14820-14835，计算语言学协会，2023b年。
- en: 'Ning et al. [2020b] Qiang Ning, Hao Wu, Rujun Han, Nanyun Peng, Matt Gardner,
    and Dan Roth. TORQUE: A reading comprehension dataset of temporal ordering questions.
    In *EMNLP*, pages 1158–1172, 2020b.'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Ning 等人 [2020b] Qiang Ning, Hao Wu, Rujun Han, Nanyun Peng, Matt Gardner, 和
    Dan Roth. TORQUE: 一个关于时间顺序问题的阅读理解数据集. 载于 *EMNLP*，页面1158-1172，2020b年。'
- en: 'Zhou et al. [2019] Ben Zhou, Daniel Khashabi, Qiang Ning, and Dan Roth. “going
    on a vacation” takes longer than “going for a walk”: A study of temporal commonsense
    understanding. In *EMNLP*, pages 3363–3369, 2019.'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zhou 等人 [2019] Ben Zhou, Daniel Khashabi, Qiang Ning, 和 Dan Roth. “度假”比“散步”花费更长时间：时间常识理解研究.
    载于 *EMNLP*，页面3363-3369，2019年。
- en: 'Zhang and Choi [2021] Michael Zhang and Eunsol Choi. Situatedqa: Incorporating
    extra-linguistic contexts into qa. In *EMNLP*, 2021.'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Zhang 和 Choi [2021] Michael Zhang 和 Eunsol Choi. Situatedqa: 将额外语言情境融入问答系统.
    载于 *EMNLP*，2021年。'
- en: 'Wang and Zhao [2023] Yuqing Wang and Yun Zhao. Tram: Benchmarking temporal
    reasoning for large language models. 2023.'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Wang 和 Zhao [2023] Yuqing Wang 和 Yun Zhao. Tram: 大语言模型的时间推理基准测试. 2023年。'
- en: 'Jin et al. [2020b] Woojeong Jin, Meng Qu, Xisen Jin, and Xiang Ren. Recurrent
    event network: Autoregressive structure inferenceover temporal knowledge graphs.
    In *EMNLP (1)*, pages 6669–6683\. Association for Computational Linguistics, 2020b.'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Jin 等人 [2020b] Woojeong Jin、Meng Qu、Xisen Jin 和 Xiang Ren. 循环事件网络：基于时间知识图的自回归结构推理.
    载于 *EMNLP (1)*，第 6669–6683 页. 计算语言学会，2020b.
- en: Li et al. [2021b] Zixuan Li, Xiaolong Jin, Wei Li, Saiping Guan, Jiafeng Guo,
    Huawei Shen, Yuanzhuo Wang, and Xueqi Cheng. Temporal knowledge graph reasoning
    based on evolutional representation learning. In *SIGIR*, pages 408–417\. ACM,
    2021b.
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li 等人 [2021b] Zixuan Li、Xiaolong Jin、Wei Li、Saiping Guan、Jiafeng Guo、Huawei
    Shen、Yuanzhuo Wang 和 Xueqi Cheng. 基于演化表示学习的时间知识图推理. 载于 *SIGIR*，第 408–417 页. ACM，2021b.
- en: 'Park et al. [2022] Namyong Park, Fuchen Liu, Purvanshi Mehta, Dana Cristofor,
    Christos Faloutsos, and Yuxiao Dong. Evokg: Jointly modeling event time and network
    structure for reasoning over temporal knowledge graphs. In *WSDM*, pages 794–803\.
    ACM, 2022.'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Park 等人 [2022] Namyong Park、Fuchen Liu、Purvanshi Mehta、Dana Cristofor、Christos
    Faloutsos 和 Yuxiao Dong. Evokg：联合建模事件时间和网络结构以进行时间知识图推理. 载于 *WSDM*，第 794–803 页.
    ACM，2022.
- en: 'Zhu et al. [2020] Cunchao Zhu, Muhao Chen, Changjun Fan, Guangquan Cheng, and
    Yan Zhan. Learning from history: Modeling temporal knowledge graphs with sequential
    copy-generation networks. In *AAAI Conference on Artificial Intelligence*, 2020.'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zhu 等人 [2020] Cunchao Zhu、Muhao Chen、Changjun Fan、Guangquan Cheng 和 Yan Zhan.
    从历史中学习：使用序列复制生成网络对时间知识图进行建模. 载于 *AAAI 人工智能会议*，2020.
- en: 'Sun et al. [2021] Haohai Sun, Jialu Zhong, Yunpu Ma, Zhen Han, and Kun He.
    Timetraveler: Reinforcement learning for temporal knowledge graph forecasting.
    In *EMNLP*, 2021.'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sun 等人 [2021] Haohai Sun、Jialu Zhong、Yunpu Ma、Zhen Han 和 Kun He. Timetraveler：基于强化学习的时间知识图预测.
    载于 *EMNLP*，2021.
- en: 'Li et al. [2021c] Zixuan Li, Xiaolong Jin, Saiping Guan, Wei Li, Jiafeng Guo,
    Yuanzhuo Wang, and Xueqi Cheng. Search from history and reason for future: Two-stage
    reasoning on temporal knowledge graphs. In *ACL*, 2021c.'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li 等人 [2021c] Zixuan Li、Xiaolong Jin、Saiping Guan、Wei Li、Jiafeng Guo、Yuanzhuo
    Wang 和 Xueqi Cheng. 从历史中搜索并推理未来：基于时间知识图的两阶段推理. 载于 *ACL*，2021c.
- en: 'Trivedi et al. [2017] Rakshit Trivedi, Hanjun Dai, Yichen Wang, and Le Song.
    Know-evolve: deep temporal reasoning for dynamic knowledge graphs. In *ICML*,
    page 3462–3471, 2017.'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Trivedi 等人 [2017] Rakshit Trivedi、Hanjun Dai、Yichen Wang 和 Le Song. Know-evolve：用于动态知识图的深度时间推理.
    载于 *ICML*，第 3462–3471 页，2017.
- en: Ding et al. [2021] Zifeng Ding, Zhen Han, Yunpu Ma, and Volker Tresp. Temporal
    knowledge graph forecasting with neural ode. abs/2101.05151, 2021.
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ding 等人 [2021] Zifeng Ding、Zhen Han、Yunpu Ma 和 Volker Tresp. 使用神经常微分方程的时间知识图预测.
    abs/2101.05151，2021.
- en: Deng et al. [2020] Songgaojun Deng, Huzefa Rangwala, and Yue Ning. Dynamic knowledge
    graph based multi-event forecasting. In *KDD*, pages 1585–1595\. ACM, 2020.
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deng 等人 [2020] Songgaojun Deng、Huzefa Rangwala 和 Yue Ning. 基于动态知识图的多事件预测. 载于
    *KDD*，第 1585–1595 页. ACM，2020.
- en: Deng et al. [2021] Songgaojun Deng, Huzefa Rangwala, and Yue Ning. Understanding
    event predictions via contextualized multilevel feature learning. In *CIKM*, pages
    342–351\. ACM, 2021.
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Deng 等人 [2021] Songgaojun Deng、Huzefa Rangwala 和 Yue Ning. 通过上下文化的多层特征学习理解事件预测.
    载于 *CIKM*，第 342–351 页. ACM，2021.
- en: Ma et al. [2023b] Yunshan Ma, Chenchen Ye, Zijian Wu, Xiang Wang, Yixin Cao,
    and Tat-Seng Chua. Context-aware event forecasting via graph disentanglement.
    In *KDD*, pages 1643–1652\. ACM, 2023b.
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ma 等人 [2023b] Yunshan Ma、Chenchen Ye、Zijian Wu、Xiang Wang、Yixin Cao 和 Tat-Seng
    Chua. 通过图解耦进行上下文感知的事件预测. 载于 *KDD*，第 1643–1652 页. ACM，2023b.
- en: Ma et al. [2023c] Yunshan Ma, Chenchen Ye, Zijian Wu, Xiang Wang, Yixin Cao,
    Liang Pang, and Tat-Seng Chua. Structured, complex and time-complete temporal
    event forecasting. *CoRR*, abs/2312.01052, 2023c.
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ma 等人 [2023c] Yunshan Ma、Chenchen Ye、Zijian Wu、Xiang Wang、Yixin Cao、Liang Pang
    和 Tat-Seng Chua. 结构化、复杂且时间完整的时间事件预测. *CoRR*，abs/2312.01052，2023c.
- en: Xu et al. [2023b] Wenjie Xu, Ben Liu, Miao Peng, Xu Jia, and Min Peng. Pre-trained
    language model with prompts for temporal knowledge graph completion. In *ACL (Findings)*,
    pages 7790–7803\. Association for Computational Linguistics, 2023b.
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Xu 等人 [2023b] Wenjie Xu、Ben Liu、Miao Peng、Xu Jia 和 Min Peng. 使用提示的预训练语言模型进行时间知识图的补全.
    载于 *ACL (Findings)*，第 7790–7803 页. 计算语言学会，2023b.
- en: Lee et al. [2023] Dong-Ho Lee, Kian Ahrabian, Woojeong Jin, Fred Morstatter,
    and Jay Pujara. Temporal knowledge graph forecasting without knowledge using in-context
    learning. In *EMNLP*, pages 544–557\. Association for Computational Linguistics,
    2023.
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Lee 等人 [2023] Dong-Ho Lee、Kian Ahrabian、Woojeong Jin、Fred Morstatter 和 Jay Pujara.
    无需知识的时间知识图预测：基于上下文学习. 载于 *EMNLP*，第 544–557 页. 计算语言学会，2023.
- en: 'Liao et al. [2023] Ruotong Liao, Xu Jia, Yunpu Ma, and Volker Tresp. Gentkg:
    Generative forecasting on temporal knowledge graph. *CoRR*, abs/2310.07793, 2023.'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Liao et al. [2023] Ruotong Liao, Xu Jia, Yunpu Ma 和 Volker Tresp。Gentkg：基于时间知识图谱的生成预测。*CoRR*，abs/2310.07793，2023年。
- en: Shi et al. [2023] Xiaoming Shi, Siqiao Xue, Kangrui Wang, Fan Zhou, James Y.
    Zhang, JUN ZHOU, Chenhao Tan, and Hongyuan Mei. Language models can improve event
    prediction by few-shot abductive reasoning. In *NeurIPS*, 2023.
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Shi et al. [2023] Xiaoming Shi, Siqiao Xue, Kangrui Wang, Fan Zhou, James Y.
    Zhang, JUN ZHOU, Chenhao Tan 和 Hongyuan Mei。语言模型通过少量推理改善事件预测。在 *NeurIPS*，2023年。
- en: Brown et al. [2020] Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D
    Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda
    Askell, et al. Language models are few-shot learners. *Advances in neural information
    processing systems*, 33:1877–1901, 2020.
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brown et al. [2020] Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared
    D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry,
    Amanda Askell 等人。语言模型是少量学习者。*神经信息处理系统进展*，33：1877-1901，2020年。
- en: 'Chowdhery et al. [2023] Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten
    Bosma, Gaurav Mishra, Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton,
    Sebastian Gehrmann, et al. Palm: Scaling language modeling with pathways. *Journal
    of Machine Learning Research*, 24(240):1–113, 2023.'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chowdhery et al. [2023] Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten
    Bosma, Gaurav Mishra, Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton,
    Sebastian Gehrmann 等人。Palm：通过路径扩展语言建模。*机器学习研究期刊*，24(240)：1-113，2023年。
- en: Chen et al. [2021] Mark Chen, Jerry Tworek, Heewoo Jun, Qiming Yuan, Henrique
    Ponde de Oliveira Pinto, Jared Kaplan, Harri Edwards, Yuri Burda, Nicholas Joseph,
    Greg Brockman, et al. Evaluating large language models trained on code. *arXiv
    preprint arXiv:2107.03374*, 2021.
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chen et al. [2021] Mark Chen, Jerry Tworek, Heewoo Jun, Qiming Yuan, Henrique
    Ponde de Oliveira Pinto, Jared Kaplan, Harri Edwards, Yuri Burda, Nicholas Joseph,
    Greg Brockman 等人。评估训练于代码的大型语言模型。*arXiv 预印本 arXiv:2107.03374*，2021年。
- en: 'Wang et al. [2021] Yue Wang, Weishi Wang, Shafiq Joty, and Steven CH Hoi. Codet5:
    Identifier-aware unified pre-trained encoder-decoder models for code understanding
    and generation. In *Proceedings of the 2021 Conference on Empirical Methods in
    Natural Language Processing*, pages 8696–8708, 2021.'
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Wang et al. [2021] Yue Wang, Weishi Wang, Shafiq Joty 和 Steven CH Hoi。Codet5：面向代码理解和生成的标识符感知统一预训练编码器-解码器模型。在
    *2021年自然语言处理经验方法会议论文集*，第8696-8708页，2021年。
- en: 'Nijkamp et al. [2022] Erik Nijkamp, Bo Pang, Hiroaki Hayashi, Lifu Tu, Huan
    Wang, Yingbo Zhou, Silvio Savarese, and Caiming Xiong. Codegen: An open large
    language model for code with multi-turn program synthesis. *arXiv preprint arXiv:2203.13474*,
    2022.'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nijkamp et al. [2022] Erik Nijkamp, Bo Pang, Hiroaki Hayashi, Lifu Tu, Huan
    Wang, Yingbo Zhou, Silvio Savarese 和 Caiming Xiong。Codegen：用于代码的开放大型语言模型与多轮程序合成。*arXiv
    预印本 arXiv:2203.13474*，2022年。
- en: Li et al. [2022] Yujia Li, David Choi, Junyoung Chung, Nate Kushman, Julian
    Schrittwieser, Rémi Leblond, Tom Eccles, James Keeling, Felix Gimeno, Agustin
    Dal Lago, et al. Competition-level code generation with alphacode. *Science*,
    378(6624):1092–1097, 2022.
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li et al. [2022] Yujia Li, David Choi, Junyoung Chung, Nate Kushman, Julian
    Schrittwieser, Rémi Leblond, Tom Eccles, James Keeling, Felix Gimeno, Agustin
    Dal Lago 等人。竞争级别的代码生成与 Alphacode。*科学*，378(6624)：1092-1097，2022年。
- en: 'Li et al. [2023c] Raymond Li, Loubna Ben Allal, Yangtian Zi, Niklas Muennighoff,
    Denis Kocetkov, Chenghao Mou, Marc Marone, Christopher Akiki, Jia Li, Jenny Chim,
    et al. Starcoder: may the source be with you! *arXiv preprint arXiv:2305.06161*,
    2023c.'
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Li et al. [2023c] Raymond Li, Loubna Ben Allal, Yangtian Zi, Niklas Muennighoff,
    Denis Kocetkov, Chenghao Mou, Marc Marone, Christopher Akiki, Jia Li, Jenny Chim
    等人。Starcoder：愿源代码与你同在！*arXiv 预印本 arXiv:2305.06161*，2023年。
- en: 'Luo et al. [2023] Ziyang Luo, Can Xu, Pu Zhao, Qingfeng Sun, Xiubo Geng, Wenxiang
    Hu, Chongyang Tao, Jing Ma, Qingwei Lin, and Daxin Jiang. Wizardcoder: Empowering
    code large language models with evol-instruct. *arXiv preprint arXiv:2306.08568*,
    2023.'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Luo et al. [2023] Ziyang Luo, Can Xu, Pu Zhao, Qingfeng Sun, Xiubo Geng, Wenxiang
    Hu, Chongyang Tao, Jing Ma, Qingwei Lin 和 Daxin Jiang。Wizardcoder：通过 Evol-instruct
    赋能大型代码语言模型。*arXiv 预印本 arXiv:2306.08568*，2023年。
- en: Gunasekar et al. [2023] Suriya Gunasekar, Yi Zhang, Jyoti Aneja, Caio César Teodoro
    Mendes, Allie Del Giorno, Sivakanth Gopi, Mojan Javaheripi, Piero Kauffmann, Gustavo
    de Rosa, Olli Saarikivi, et al. Textbooks are all you need. *arXiv preprint arXiv:2306.11644*,
    2023.
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gunasekar et al. [2023] Suriya Gunasekar, Yi Zhang, Jyoti Aneja, Caio César
    Teodoro Mendes, Allie Del Giorno, Sivakanth Gopi, Mojan Javaheripi, Piero Kauffmann,
    Gustavo de Rosa, Olli Saarikivi 等人。教材是你所需要的一切。*arXiv 预印本 arXiv:2306.11644*，2023年。
- en: 'Roziere et al. [2023] Baptiste Roziere, Jonas Gehring, Fabian Gloeckle, Sten
    Sootla, Itai Gat, Xiaoqing Ellen Tan, Yossi Adi, Jingyu Liu, Tal Remez, Jérémy
    Rapin, et al. Code llama: Open foundation models for code. *arXiv preprint arXiv:2308.12950*,
    2023.'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Roziere 等人 [2023] Baptiste Roziere, Jonas Gehring, Fabian Gloeckle, Sten Sootla,
    Itai Gat, Xiaoqing Ellen Tan, Yossi Adi, Jingyu Liu, Tal Remez, Jérémy Rapin 等人。Code
    llama: 开放基础模型用于代码。*arXiv 预印本 arXiv:2308.12950*，2023。'
- en: Bai et al. [2023] Jinze Bai, Shuai Bai, Yunfei Chu, Zeyu Cui, Kai Dang, Xiaodong
    Deng, Yang Fan, Wenbin Ge, Yu Han, Fei Huang, et al. Qwen technical report. *arXiv
    preprint arXiv:2309.16609*, 2023.
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bai 等人 [2023] Jinze Bai, Shuai Bai, Yunfei Chu, Zeyu Cui, Kai Dang, Xiaodong
    Deng, Yang Fan, Wenbin Ge, Yu Han, Fei Huang 等人。Qwen 技术报告。*arXiv 预印本 arXiv:2309.16609*，2023。
- en: 'Guo et al. [2024] Daya Guo, Qihao Zhu, Dejian Yang, Zhenda Xie, Kai Dong, Wentao
    Zhang, Guanting Chen, Xiao Bi, Y Wu, YK Li, et al. Deepseek-coder: When the large
    language model meets programming–the rise of code intelligence. *arXiv preprint
    arXiv:2401.14196*, 2024.'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Guo 等人 [2024] Daya Guo, Qihao Zhu, Dejian Yang, Zhenda Xie, Kai Dong, Wentao
    Zhang, Guanting Chen, Xiao Bi, Y Wu, YK Li 等人。Deepseek-coder: 当大语言模型遇到编程——代码智能的崛起。*arXiv
    预印本 arXiv:2401.14196*，2024。'
- en: Austin et al. [2021] Jacob Austin, Augustus Odena, Maxwell Nye, Maarten Bosma,
    Henryk Michalewski, David Dohan, Ellen Jiang, Carrie Cai, Michael Terry, Quoc
    Le, et al. Program synthesis with large language models. *arXiv preprint arXiv:2108.07732*,
    2021.
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Austin 等人 [2021] Jacob Austin, Augustus Odena, Maxwell Nye, Maarten Bosma, Henryk
    Michalewski, David Dohan, Ellen Jiang, Carrie Cai, Michael Terry, Quoc Le 等人。使用大语言模型进行程序合成。*arXiv
    预印本 arXiv:2108.07732*，2021。
- en: Appendix
  id: totrans-247
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 附录
- en: '[1 Introduction](https://arxiv.org/html/2407.01231v1#S1 "In Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[1 引言](https://arxiv.org/html/2407.01231v1#S1 "在 Mirai: 评估 LLM 代理的事件预测")'
- en: '[2 The Mirai Benchmark](https://arxiv.org/html/2407.01231v1#S2 "In Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2 Mirai 基准](https://arxiv.org/html/2407.01231v1#S2 "在 Mirai: 评估 LLM 代理的事件预测")'
- en: '[2.1 Data and Tasks](https://arxiv.org/html/2407.01231v1#S2.SS1 "In 2 The Mirai
    Benchmark ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-250
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2.1 数据与任务](https://arxiv.org/html/2407.01231v1#S2.SS1 "在 2 Mirai 基准 ‣ Mirai:
    评估 LLM 代理的事件预测")'
- en: '[2.2 Agents and Environments](https://arxiv.org/html/2407.01231v1#S2.SS2 "In
    2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2.2 代理与环境](https://arxiv.org/html/2407.01231v1#S2.SS2 "在 2 Mirai 基准 ‣ Mirai:
    评估 LLM 代理的事件预测")'
- en: '[2.3 Database Construction](https://arxiv.org/html/2407.01231v1#S2.SS3 "In
    2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-252
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2.3 数据库构建](https://arxiv.org/html/2407.01231v1#S2.SS3 "在 2 Mirai 基准 ‣ Mirai:
    评估 LLM 代理的事件预测")'
- en: '[3 Experiments](https://arxiv.org/html/2407.01231v1#S3 "In Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3 实验](https://arxiv.org/html/2407.01231v1#S3 "在 Mirai: 评估 LLM 代理的事件预测")'
- en: '[3.1 Evaluate Forecasting with Different Agent Methods and Tools](https://arxiv.org/html/2407.01231v1#S3.SS1
    "In 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.1 使用不同代理方法和工具评估预测](https://arxiv.org/html/2407.01231v1#S3.SS1 "在 3 实验 ‣
    Mirai: 评估 LLM 代理的事件预测")'
- en: '[3.2 Evaluate Forecasting with Different Base LLMs](https://arxiv.org/html/2407.01231v1#S3.SS2
    "In 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣ 3 Experiments
    ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-255
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.2 使用不同基础 LLM 评估预测](https://arxiv.org/html/2407.01231v1#S3.SS2 "在 3.1 使用不同代理方法和工具评估预测
    ‣ 3 实验 ‣ Mirai: 评估 LLM 代理的事件预测")'
- en: '[3.3 Analyzing Agent Behaviours](https://arxiv.org/html/2407.01231v1#S3.SS3
    "In 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")'
  id: totrans-256
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.3 分析代理行为](https://arxiv.org/html/2407.01231v1#S3.SS3 "在 3.2 使用不同基础 LLM 评估预测
    ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai: 评估 LLM 代理的事件预测")'
- en: '[4 Related Work](https://arxiv.org/html/2407.01231v1#S4 "In 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-257
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4 相关工作](https://arxiv.org/html/2407.01231v1#S4 "在 3.3 分析代理行为 ‣ 3.2 使用不同基础
    LLM 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai: 评估 LLM 代理的事件预测")'
- en: '[4.1 Temporal Reasoning Benchmarks](https://arxiv.org/html/2407.01231v1#S4.SS1
    "In 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.1 时序推理基准](https://arxiv.org/html/2407.01231v1#S4.SS1 "在 4 相关工作 ‣ 3.3 分析代理行为
    ‣ 3.2 使用不同基础 LLMs 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估 LLM 代理在事件预测中的表现")'
- en: '[4.2 Evaluation of Language Agents](https://arxiv.org/html/2407.01231v1#S4.SS2
    "In 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")'
  id: totrans-259
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.2 语言代理评估](https://arxiv.org/html/2407.01231v1#S4.SS2 "在 4.1 时序推理基准 ‣ 4 相关工作
    ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础 LLMs 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估 LLM
    代理在事件预测中的表现")'
- en: '[4.3 LLMs for Tool-Use](https://arxiv.org/html/2407.01231v1#S4.SS3 "In 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-260
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.3 LLMs 用于工具使用](https://arxiv.org/html/2407.01231v1#S4.SS3 "在 4.2 语言代理评估
    ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础 LLMs 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测
    ‣ 3 实验 ‣ Mirai：评估 LLM 代理在事件预测中的表现")'
- en: '[5 Conclusion and Limitation](https://arxiv.org/html/2407.01231v1#S5 "In 4.3
    LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-261
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5 结论与局限性](https://arxiv.org/html/2407.01231v1#S5 "在 4.3 LLMs 用于工具使用 ‣ 4.2
    语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础 LLMs 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测
    ‣ 3 实验 ‣ Mirai：评估 LLM 代理在事件预测中的表现")'
- en: '[A Reproducibility Statement](https://arxiv.org/html/2407.01231v1#A1 "In Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-262
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[A 可复现性声明](https://arxiv.org/html/2407.01231v1#A1 "在 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLMs
    用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础 LLMs 评估预测
    ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估 LLM 代理在事件预测中的表现")'
- en: '[B Datasheet for MIRAI](https://arxiv.org/html/2407.01231v1#A2 "In Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-263
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[B MIRAI 数据表](https://arxiv.org/html/2407.01231v1#A2 "在 致谢 ‣ 5 结论与局限性 ‣ 4.3
    LLMs 用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础 LLMs
    评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估 LLM 代理在事件预测中的表现")'
- en: '[B.1 Motivation](https://arxiv.org/html/2407.01231v1#A2.SS1 "In Appendix B
    Datasheet for MIRAI ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[B.1 动机](https://arxiv.org/html/2407.01231v1#A2.SS1 "在 附录 B MIRAI 数据表 ‣ 致谢
    ‣ 5 结论与局限性 ‣ 4.3 LLMs 用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣
    3.2 使用不同基础 LLMs 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估 LLM 代理在事件预测中的表现")'
- en: '[B.2 Distribution](https://arxiv.org/html/2407.01231v1#A2.SS2 "In Appendix
    B Datasheet for MIRAI ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-265
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[B.2 分发](https://arxiv.org/html/2407.01231v1#A2.SS2 "在附录B MIRAI数据表 ‣ 致谢 ‣ 5
    结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[B.3 Maintenance](https://arxiv.org/html/2407.01231v1#A2.SS3 "In Appendix B
    Datasheet for MIRAI ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-266
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[B.3 维护](https://arxiv.org/html/2407.01231v1#A2.SS3 "在附录B MIRAI数据表 ‣ 致谢 ‣ 5
    结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[B.4 Composition](https://arxiv.org/html/2407.01231v1#A2.SS4 "In Appendix B
    Datasheet for MIRAI ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-267
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[B.4 组成](https://arxiv.org/html/2407.01231v1#A2.SS4 "在附录B MIRAI数据表 ‣ 致谢 ‣ 5
    结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[B.5 Collection Process](https://arxiv.org/html/2407.01231v1#A2.SS5 "In Appendix
    B Datasheet for MIRAI ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-268
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[B.5 收集过程](https://arxiv.org/html/2407.01231v1#A2.SS5 "在附录B MIRAI数据表 ‣ 致谢 ‣
    5 结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2
    使用不同基础LLM进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[B.6 Uses](https://arxiv.org/html/2407.01231v1#A2.SS6 "In Appendix B Datasheet
    for MIRAI ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-269
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[B.6 用途](https://arxiv.org/html/2407.01231v1#A2.SS6 "在附录B MIRAI数据表 ‣ 致谢 ‣ 5
    结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[C Limitations](https://arxiv.org/html/2407.01231v1#A3 "In Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-270
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[C 局限性](https://arxiv.org/html/2407.01231v1#A3 "在致谢 ‣ 5 结论与局限 ‣ 4.3 LLMs用于工具使用
    ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估
    ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[D Additional related work](https://arxiv.org/html/2407.01231v1#A4 "In Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-271
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[D 其他相关工作](https://arxiv.org/html/2407.01231v1#A4 "在致谢 ‣ 5 结论与局限 ‣ 4.3 LLMs用于工具使用
    ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLMs进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估
    ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[D.1 Temporal Event Forecasting Methods](https://arxiv.org/html/2407.01231v1#A4.SS1
    "In Appendix D Additional related work ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-272
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[D.1 时序事件预测方法](https://arxiv.org/html/2407.01231v1#A4.SS1 "附录D 其他相关工作 ‣ 致谢
    ‣ 5 结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2
    使用不同基础LLMs进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[D.2 LLMs for Code Generation](https://arxiv.org/html/2407.01231v1#A4.SS2 "In
    Appendix D Additional related work ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-273
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[D.2 LLMs用于代码生成](https://arxiv.org/html/2407.01231v1#A4.SS2 "附录D 其他相关工作 ‣ 致谢
    ‣ 5 结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2
    使用不同基础LLMs进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[E Additional Details of the Database](https://arxiv.org/html/2407.01231v1#A5
    "In Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-274
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[E 数据库的其他详细信息](https://arxiv.org/html/2407.01231v1#A5 "在致谢 ‣ 5 结论与局限 ‣ 4.3
    LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLMs进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[E.1 Countries and ISO Codes](https://arxiv.org/html/2407.01231v1#A5.SS1 "In
    Appendix E Additional Details of the Database ‣ Acknowledgements ‣ 5 Conclusion
    and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1
    Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")'
  id: totrans-275
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[E.1 国家和ISO编码](https://arxiv.org/html/2407.01231v1#A5.SS1 "附录E 数据库的其他详细信息 ‣
    致谢 ‣ 5 结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为
    ‣ 3.2 使用不同基础LLMs进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[E.2 Relations and CAMEO Codes](https://arxiv.org/html/2407.01231v1#A5.SS2
    "In Appendix E Additional Details of the Database ‣ Acknowledgements ‣ 5 Conclusion
    and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1
    Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")'
  id: totrans-276
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[E.2 关系和CAMEO编码](https://arxiv.org/html/2407.01231v1#A5.SS2 "附录E 数据库的其他详细信息
    ‣ 致谢 ‣ 5 结论与局限 ‣ 4.3 LLMs用于工具使用 ‣ 4.2 语言代理评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为
    ‣ 3.2 使用不同基础LLMs进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理用于事件预测")'
- en: '[F Details of Dataset Construction](https://arxiv.org/html/2407.01231v1#A6
    "In Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-277
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[F 数据集构建的详细信息](https://arxiv.org/html/2407.01231v1#A6 "在致谢 ‣ 5 结论与限制 ‣ 4.3
    LLMs在工具使用中的应用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLMs进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[G Term of Use for GDELT Dataset](https://arxiv.org/html/2407.01231v1#A7 "In
    Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation
    of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3
    Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs
    ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣ 3 Experiments
    ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-278
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[G GDELT数据集使用条款](https://arxiv.org/html/2407.01231v1#A7 "在致谢 ‣ 5 结论与限制 ‣ 4.3
    LLMs在工具使用中的应用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLMs进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[H Broader Impact](https://arxiv.org/html/2407.01231v1#A8 "In Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-279
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[H 更广泛的影响](https://arxiv.org/html/2407.01231v1#A8 "在致谢 ‣ 5 结论与限制 ‣ 4.3 LLMs在工具使用中的应用
    ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLMs进行预测评估 ‣ 3.1
    使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[I Additional Details about Agent Setup](https://arxiv.org/html/2407.01231v1#A9
    "In Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-280
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[I 代理设置的额外细节](https://arxiv.org/html/2407.01231v1#A9 "在致谢 ‣ 5 结论与限制 ‣ 4.3 LLMs在工具使用中的应用
    ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLMs进行预测评估 ‣ 3.1
    使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[J Additional Experimental Results and Analysis](https://arxiv.org/html/2407.01231v1#A10
    "In Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-281
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[J 额外实验结果与分析](https://arxiv.org/html/2407.01231v1#A10 "在致谢 ‣ 5 结论与限制 ‣ 4.3
    LLMs在工具使用中的应用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLMs进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[J.1 Analysis of the Final Status of Different LLM Agents](https://arxiv.org/html/2407.01231v1#A10.SS1
    "In Appendix J Additional Experimental Results and Analysis ‣ Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-282
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[J.1 不同LLM代理最终状态的分析](https://arxiv.org/html/2407.01231v1#A10.SS1 "在附录J 额外实验结果与分析
    ‣ 致谢 ‣ 5 结论与限制 ‣ 4.3 LLMs在工具使用中的应用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为
    ‣ 3.2 使用不同基础LLMs进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[J.2 Analysis on Function Types](https://arxiv.org/html/2407.01231v1#A10.SS2
    "In J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J Additional
    Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-283
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[J.2 功能类型分析](https://arxiv.org/html/2407.01231v1#A10.SS2 "在J.1 不同LLM代理的最终状态分析
    ‣ 附录J 额外的实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLM用于工具使用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣
    4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai:
    评估LLM代理在事件预测中的表现")'
- en: '[K Prompts](https://arxiv.org/html/2407.01231v1#A11 "In J.2 Analysis on Function
    Types ‣ J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J
    Additional Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion
    and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1
    Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")'
  id: totrans-284
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[K 提示](https://arxiv.org/html/2407.01231v1#A11 "在J.2 功能类型分析 ‣ J.1 不同LLM代理的最终状态分析
    ‣ 附录J 额外的实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLM用于工具使用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣
    4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai:
    评估LLM代理在事件预测中的表现")'
- en: '[K.1 System Prompts](https://arxiv.org/html/2407.01231v1#A11.SS1 "In Appendix
    K Prompts ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the Final Status
    of Different LLM Agents ‣ Appendix J Additional Experimental Results and Analysis
    ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-285
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[K.1 系统提示](https://arxiv.org/html/2407.01231v1#A11.SS1 "在附录K提示 ‣ J.2 功能类型分析
    ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 额外的实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLM用于工具使用 ‣ 4.2 语言代理的评估
    ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣
    3 实验 ‣ Mirai: 评估LLM代理在事件预测中的表现")'
- en: '[K.1.1 System Prompt for ReAct Agent with Action Type as “Single Function”](https://arxiv.org/html/2407.01231v1#A11.SS1.SSS1
    "In K.1 System Prompts ‣ Appendix K Prompts ‣ J.2 Analysis on Function Types ‣
    J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J Additional
    Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-286
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[K.1.1 具有“单一功能”动作类型的ReAct代理系统提示](https://arxiv.org/html/2407.01231v1#A11.SS1.SSS1
    "在K.1 系统提示 ‣ 附录K 提示 ‣ J.2 功能类型分析 ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 额外的实验结果与分析 ‣ 致谢 ‣
    5 结论与局限性 ‣ 4.3 LLM用于工具使用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2
    使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai: 评估LLM代理在事件预测中的表现")'
- en: '[K.1.2 System Prompt for ReAct Agent with Action Type as “Code Block”](https://arxiv.org/html/2407.01231v1#A11.SS1.SSS2
    "In K.1 System Prompts ‣ Appendix K Prompts ‣ J.2 Analysis on Function Types ‣
    J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J Additional
    Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-287
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[K.1.2 具有“代码块”动作类型的ReAct代理系统提示](https://arxiv.org/html/2407.01231v1#A11.SS1.SSS2
    "在K.1 系统提示 ‣ 附录K 提示 ‣ J.2 功能类型分析 ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 额外的实验结果与分析 ‣ 致谢 ‣
    5 结论与局限性 ‣ 4.3 工具使用的LLMs ‣ 4.2 语言代理的评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 代理行为分析 ‣ 3.2
    使用不同基础LLM进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[K.1.3 System Prompt for Direct Agent](https://arxiv.org/html/2407.01231v1#A11.SS1.SSS3
    "In K.1 System Prompts ‣ Appendix K Prompts ‣ J.2 Analysis on Function Types ‣
    J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J Additional
    Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-288
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[K.1.3 直接代理的系统提示](https://arxiv.org/html/2407.01231v1#A11.SS1.SSS3 "在K.1 系统提示
    ‣ 附录K 提示 ‣ J.2 功能类型分析 ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 额外的实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣
    4.3 工具使用的LLMs ‣ 4.2 语言代理的评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 代理行为分析 ‣ 3.2 使用不同基础LLM进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[K.1.4 System Prompt for CoT Agent](https://arxiv.org/html/2407.01231v1#A11.SS1.SSS4
    "In K.1 System Prompts ‣ Appendix K Prompts ‣ J.2 Analysis on Function Types ‣
    J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J Additional
    Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-289
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[K.1.4 CoT代理的系统提示](https://arxiv.org/html/2407.01231v1#A11.SS1.SSS4 "在K.1 系统提示
    ‣ 附录K 提示 ‣ J.2 功能类型分析 ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 额外的实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣
    4.3 工具使用的LLMs ‣ 4.2 语言代理的评估 ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 代理行为分析 ‣ 3.2 使用不同基础LLM进行预测评估
    ‣ 3.1 使用不同代理方法和工具进行预测评估 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[K.2 Query Prompt](https://arxiv.org/html/2407.01231v1#A11.SS2 "In Appendix
    K Prompts ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the Final Status
    of Different LLM Agents ‣ Appendix J Additional Experimental Results and Analysis
    ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2
    Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-290
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[K.2 查询提示](https://arxiv.org/html/2407.01231v1#A11.SS2 "在附录K 提示 ‣ J.2 功能类型分析
    ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 额外的实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 工具使用的LLMs ‣ 4.2 语言代理的评估
    ‣ 4.1 时序推理基准 ‣ 4 相关工作 ‣ 3.3 代理行为分析 ‣ 3.2 使用不同基础LLM进行预测评估 ‣ 3.1 使用不同代理方法和工具进行预测评估
    ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现")'
- en: '[K.3 Answer Extraction Prompt](https://arxiv.org/html/2407.01231v1#A11.SS3
    "In Appendix K Prompts ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the
    Final Status of Different LLM Agents ‣ Appendix J Additional Experimental Results
    and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-291
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[K.3 答案提取提示](https://arxiv.org/html/2407.01231v1#A11.SS3 "在附录K 提示 ‣ J.2 功能类型分析
    ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 附加实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 工具使用中的LLM ‣ 4.2 语言代理的评估
    ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣
    3 实验 ‣ Mirai：评估用于事件预测的LLM代理")'
- en: '[L Additional Forecasting Examples of LLM Agent](https://arxiv.org/html/2407.01231v1#A12
    "In J.2 Analysis on Function Types ‣ J.1 Analysis of the Final Status of Different
    LLM Agents ‣ Appendix J Additional Experimental Results and Analysis ‣ Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-292
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[L LLM代理的附加预测示例](https://arxiv.org/html/2407.01231v1#A12 "在J.2 功能类型分析 ‣ J.1
    不同LLM代理的最终状态分析 ‣ 附录J 附加实验结果与分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 工具使用中的LLM ‣ 4.2 语言代理的评估 ‣
    4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3
    实验 ‣ Mirai：评估用于事件预测的LLM代理")'
- en: '[L.1 GPT-4o-based Agent with ReAct and “Code Block” Action](https://arxiv.org/html/2407.01231v1#A12.SS1
    "In Appendix L Additional Forecasting Examples of LLM Agent ‣ J.2 Analysis on
    Function Types ‣ J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix
    J Additional Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion
    and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1
    Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")'
  id: totrans-293
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[L.1 基于GPT-4o的代理与ReAct及“代码块”行动](https://arxiv.org/html/2407.01231v1#A12.SS1
    "在附录L LLM代理的附加预测示例 ‣ J.2 功能类型分析 ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 附加实验结果与分析 ‣ 致谢 ‣ 5
    结论与局限性 ‣ 4.3 工具使用中的LLM ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2
    使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估用于事件预测的LLM代理")'
- en: '[L.1.1 Query Details](https://arxiv.org/html/2407.01231v1#A12.SS1.SSS1 "In
    L.1 GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-294
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[L.1.1 查询详情](https://arxiv.org/html/2407.01231v1#A12.SS1.SSS1 "在L.1 基于GPT-4o的代理与ReAct及“代码块”行动
    ‣ 附录L LLM代理的附加预测示例 ‣ J.2 功能类型分析 ‣ J.1 不同LLM代理的最终状态分析 ‣ 附录J 附加实验结果与分析 ‣ 致谢 ‣ 5
    结论与局限性 ‣ 4.3 工具使用中的LLM ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2
    使用不同基础LLM评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估用于事件预测的LLM代理")'
- en: '[L.1.2 Query Prompt](https://arxiv.org/html/2407.01231v1#A12.SS1.SSS2 "In L.1
    GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-295
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[L.1.2 查询提示](https://arxiv.org/html/2407.01231v1#A12.SS1.SSS2 "在 L.1 GPT-4o
    基础的代理与 ReAct 和“代码块”操作 ‣ 附录 L LLM 代理的额外预测示例 ‣ J.2 功能类型分析 ‣ J.1 不同 LLM 代理的最终状态分析
    ‣ 附录 J 额外实验结果和分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLM 用于工具 ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4
    相关工作 ‣ 3.3 代理行为分析 ‣ 3.2 使用不同基础 LLM 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估
    LLM 代理的事件预测")'
- en: '[L.1.3 System Prompt](https://arxiv.org/html/2407.01231v1#A12.SS1.SSS3 "In
    L.1 GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-296
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[L.1.3 系统提示](https://arxiv.org/html/2407.01231v1#A12.SS1.SSS3 "在 L.1 GPT-4o
    基础的代理与 ReAct 和“代码块”操作 ‣ 附录 L LLM 代理的额外预测示例 ‣ J.2 功能类型分析 ‣ J.1 不同 LLM 代理的最终状态分析
    ‣ 附录 J 额外实验结果和分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLM 用于工具 ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4
    相关工作 ‣ 3.3 代理行为分析 ‣ 3.2 使用不同基础 LLM 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估
    LLM 代理的事件预测")'
- en: '[L.1.4 Agent ReAct Process](https://arxiv.org/html/2407.01231v1#A12.SS1.SSS4
    "In L.1 GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-297
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[L.1.4 代理 ReAct 过程](https://arxiv.org/html/2407.01231v1#A12.SS1.SSS4 "在 L.1
    GPT-4o 基础的代理与 ReAct 和“代码块”操作 ‣ 附录 L LLM 代理的额外预测示例 ‣ J.2 功能类型分析 ‣ J.1 不同 LLM 代理的最终状态分析
    ‣ 附录 J 额外实验结果和分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLM 用于工具 ‣ 4.2 语言代理评估 ‣ 4.1 时间推理基准 ‣ 4
    相关工作 ‣ 3.3 代理行为分析 ‣ 3.2 使用不同基础 LLM 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估
    LLM 代理的事件预测")'
- en: '[M Additional Information about API](https://arxiv.org/html/2407.01231v1#A13
    "In item 1 ‣ L.1.4 Agent ReAct Process ‣ L.1 GPT-4o-based Agent with ReAct and
    “Code Block” Action ‣ Appendix L Additional Forecasting Examples of LLM Agent
    ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the Final Status of Different
    LLM Agents ‣ Appendix J Additional Experimental Results and Analysis ‣ Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")'
  id: totrans-298
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[M 关于 API 的附加信息](https://arxiv.org/html/2407.01231v1#A13 "在项目 1 ‣ L.1.4 代理
    ReAct 过程 ‣ L.1 GPT-4o 基础的代理与 ReAct 和“代码块”操作 ‣ 附录 L LLM 代理的额外预测示例 ‣ J.2 功能类型分析
    ‣ J.1 不同 LLM 代理的最终状态分析 ‣ 附录 J 额外实验结果和分析 ‣ 致谢 ‣ 5 结论与局限性 ‣ 4.3 LLM 用于工具 ‣ 4.2 语言代理评估
    ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 代理行为分析 ‣ 3.2 使用不同基础 LLM 评估预测 ‣ 3.1 使用不同代理方法和工具评估预测
    ‣ 3 实验 ‣ Mirai：评估 LLM 代理的事件预测")'
- en: '[M.1 Overview of API Data Classes and Functions](https://arxiv.org/html/2407.01231v1#A13.SS1
    "In Appendix M Additional Information about API ‣ item 1 ‣ L.1.4 Agent ReAct Process
    ‣ L.1 GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-299
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[M.1 API 数据类和函数概述](https://arxiv.org/html/2407.01231v1#A13.SS1 "附录 M 关于 API
    的额外信息 ‣ 条目 1 ‣ L.1.4 Agent ReAct 过程 ‣ L.1 基于 GPT-4o 的 Agent 与 ReAct 和“代码块”动作 ‣
    附录 L LLM Agent 的额外预测示例 ‣ J.2 函数类型分析 ‣ J.1 不同 LLM Agent 最终状态分析 ‣ 附录 J 额外实验结果与分析
    ‣ 致谢 ‣ 5 结论与局限 ‣ 4.3 LLMs 用于工具使用 ‣ 4.2 语言 Agent 的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3
    分析 Agent 行为 ‣ 3.2 使用不同基础 LLM 评估预测 ‣ 3.1 使用不同 Agent 方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估
    LLM Agent 在事件预测中的表现")'
- en: '[M.2 API Specification](https://arxiv.org/html/2407.01231v1#A13.SS2 "In Appendix
    M Additional Information about API ‣ item 1 ‣ L.1.4 Agent ReAct Process ‣ L.1
    GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-300
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[M.2 API 规范](https://arxiv.org/html/2407.01231v1#A13.SS2 "附录 M 关于 API 的额外信息
    ‣ 条目 1 ‣ L.1.4 Agent ReAct 过程 ‣ L.1 基于 GPT-4o 的 Agent 与 ReAct 和“代码块”动作 ‣ 附录 L
    LLM Agent 的额外预测示例 ‣ J.2 函数类型分析 ‣ J.1 不同 LLM Agent 最终状态分析 ‣ 附录 J 额外实验结果与分析 ‣ 致谢
    ‣ 5 结论与局限 ‣ 4.3 LLMs 用于工具使用 ‣ 4.2 语言 Agent 的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析
    Agent 行为 ‣ 3.2 使用不同基础 LLM 评估预测 ‣ 3.1 使用不同 Agent 方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估 LLM
    Agent 在事件预测中的表现")'
- en: '[M.3 API Implementation](https://arxiv.org/html/2407.01231v1#A13.SS3 "In Appendix
    M Additional Information about API ‣ item 1 ‣ L.1.4 Agent ReAct Process ‣ L.1
    GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")'
  id: totrans-301
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[M.3 API 实现](https://arxiv.org/html/2407.01231v1#A13.SS3 "附录 M 关于 API 的额外信息
    ‣ 条目 1 ‣ L.1.4 Agent ReAct 过程 ‣ L.1 基于 GPT-4o 的 Agent 与 ReAct 和“代码块”动作 ‣ 附录 L
    LLM Agent 的额外预测示例 ‣ J.2 函数类型分析 ‣ J.1 不同 LLM Agent 最终状态分析 ‣ 附录 J 额外实验结果与分析 ‣ 致谢
    ‣ 5 结论与局限 ‣ 4.3 LLMs 用于工具使用 ‣ 4.2 语言 Agent 的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析
    Agent 行为 ‣ 3.2 使用不同基础 LLM 评估预测 ‣ 3.1 使用不同 Agent 方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估 LLM
    Agent 在事件预测中的表现")'
- en: Appendix A Reproducibility Statement
  id: totrans-302
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 A 可重复性声明
- en: 'We provide detailed information and explanation of our experimental setup,
    dataset, and evaluation metrics, ensuring reproducibility. Specifically, we describe
    the following:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 我们提供了详细的信息和解释，涵盖了实验设置、数据集和评估指标，确保可重复性。具体而言，我们描述了以下内容：
- en: •
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Experimental setup (Sec. [3](https://arxiv.org/html/2407.01231v1#S3 "3 Experiments
    ‣ Mirai: Evaluating LLM Agents for Event Forecasting")): Detailed descriptions
    of the hardware and software configurations, including libraries and tools used.'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 实验设置（第 [3](https://arxiv.org/html/2407.01231v1#S3 "3 实验 ‣ Mirai：评估 LLM Agent
    在事件预测中的表现") 节）：详细描述了硬件和软件配置，包括使用的库和工具。
- en: •
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '• '
- en: 'Dataset (Sec. [2](https://arxiv.org/html/2407.01231v1#S2 "2 The Mirai Benchmark
    ‣ Mirai: Evaluating LLM Agents for Event Forecasting") & Appendix [F](https://arxiv.org/html/2407.01231v1#A6
    "Appendix F Details of Dataset Construction ‣ Acknowledgements ‣ 5 Conclusion
    and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1
    Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")): Comprehensive information on the dataset used,
    including sources, preprocessing steps, and any techniques applied.'
  id: totrans-307
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集（Sec. [2](https://arxiv.org/html/2407.01231v1#S2 "2 Mirai基准 ‣ Mirai：评估LLM代理在事件预测中的表现")
    和附录[F](https://arxiv.org/html/2407.01231v1#A6 "附录F 数据集构建的详细信息 ‣ 致谢 ‣ 5 结论与局限性
    ‣ 4.3 LLMs的工具使用 ‣ 4.2 语言代理的评估 ‣ 4.1 时间推理基准 ‣ 4 相关工作 ‣ 3.3 分析代理行为 ‣ 3.2 使用不同基础LLM评估预测
    ‣ 3.1 使用不同代理方法和工具评估预测 ‣ 3 实验 ‣ Mirai：评估LLM代理在事件预测中的表现"))：关于使用的数据集的全面信息，包括来源、预处理步骤及所应用的任何技术。
- en: •
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Evaluation Metrics (Sec. [2.3](https://arxiv.org/html/2407.01231v1#S2.SS3 "2.3
    Database Construction ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for
    Event Forecasting")): Clear definitions for the metrics chosen to evaluate performance.'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 评估指标（Sec. [2.3](https://arxiv.org/html/2407.01231v1#S2.SS3 "2.3 数据库构建 ‣ 2 Mirai基准
    ‣ Mirai：评估LLM代理在事件预测中的表现")）：选择的评估指标的明确定义。
- en: 'Additionally, we commit to releasing the following resources for the replication
    of our results:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们承诺发布以下资源，以便复现我们的结果：
- en: •
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Codebase: The complete codebase, including scripts for data preprocessing,
    model serving, and evaluation. This is made available on a public repository ([https://github.com/yecchen/MIRAI](https://github.com/yecchen/MIRAI)).'
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 代码库：完整的代码库，包括数据预处理、模型服务和评估的脚本。该代码库在公共仓库中提供（[https://github.com/yecchen/MIRAI](https://github.com/yecchen/MIRAI)）。
- en: •
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Dataset: The processed dataset, along with detailed instructions on how to
    construct the dataset ([https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing](https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing)).'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集：处理后的数据集，以及如何构建数据集的详细说明（[https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing](https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing)）。
- en: By providing these resources, we aim to ensure that our work is fully reproducible
    and can be independently verified by the research community.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 通过提供这些资源，我们旨在确保我们的工作完全可复现，并且可以被研究社区独立验证。
- en: Appendix B Datasheet for MIRAI
  id: totrans-316
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 B MIRAI 数据表
- en: B.1 Motivation
  id: totrans-317
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.1 动机
- en: '1.'
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: For what purpose was the dataset created?
  id: totrans-319
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集是为了什么目的而创建的？
- en: The MIRAI dataset was created to evaluate different capabilities of Large Language
    Model (LLM) agents in forecasting international events.
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: MIRAI数据集是为了评估大型语言模型（LLM）代理在预测国际事件方面的不同能力而创建的。
- en: '2.'
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2.'
- en: Who created the dataset and on behalf of which entity?
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集是由谁创建的，代表哪个实体？
- en: The dataset was developed by a group of university researchers studying LLM
    reasoning. All rights are held by the individuals themselves, rather than by third-party
    stakeholders.
  id: totrans-323
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集由一组研究大型语言模型推理的大学研究人员开发。所有权归个体所有，而非第三方利益相关者。
- en: '3.'
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3.'
- en: Who funded the creation of the dataset?
  id: totrans-325
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 谁资助了数据集的创建？
- en: The academic institutions support the university reasearch lab that the authors
    affiliate in.
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 学术机构支持作者所属大学的研究实验室。
- en: B.2 Distribution
  id: totrans-327
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.2 分发
- en: '1.'
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: Will the dataset be distributed to third parties outside of the entity?
  id: totrans-329
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集是否会分发给实体外的第三方？
- en: Yes, the dataset, evaluation codes and leaderboards are intended to be publicly
    available to foster future research and development.
  id: totrans-330
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是的，数据集、评估代码和排行榜旨在公开提供，以促进未来的研究与开发。
- en: '2.'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2.'
- en: How will the dataset be distributed?
  id: totrans-332
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集将如何分发？
- en: The database and codebase are currently available on [Google Drive](https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing)
    and [Github](https://github.com/yecchen/MIRAI).
  id: totrans-333
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据库和代码库目前可在[Google Drive](https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing)和[Github](https://github.com/yecchen/MIRAI)上获取。
- en: '3.'
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3.'
- en: Have any third parties imposed IP-based or other restrictions on the data associated
    with the instances?
  id: totrans-335
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是否有第三方对与实例相关的数据施加基于知识产权或其他的限制？
- en: 'No, there are no IP-based or other restrictions on the data: MIRAI is curated
    based on the GDELT⁶⁶6[GDELT Project: https://www.gdeltproject.org/](https://www.gdeltproject.org/)
    Event Database, which is an open platform for research and analysis of global
    society and all datasets released by the GDELT Project are available for unlimited
    and unrestricted use for any academic, commercial, or governmental use of any
    kind without fee; Data are allowed for any redistribution, rehost, republish,
    and mirror of the GDELT datasets in any form, with necessary citations⁷⁷7[GDELT
    Term of Use: https://www.gdeltproject.org/about.html#termsofuse](https://www.gdeltproject.org/about.html#termsofuse).'
  id: totrans-336
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不，该数据集没有基于知识产权或其他限制：MIRAI是基于GDELT⁶⁶6[GDELT项目](https://www.gdeltproject.org/)事件数据库进行策展的，这是一个开放的全球社会研究和分析平台，所有GDELT项目发布的数据集都可以无限制、无条件地用于任何学术、商业或政府用途，无需费用；数据允许以任何形式重新分发、重新托管、再发布和镜像GDELT数据集，并需提供必要的引用⁷⁷7[GDELT使用条款](https://www.gdeltproject.org/about.html#termsofuse)。
- en: '4.'
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '4.'
- en: Do any export controls or other regulatory restrictions apply to the dataset
    or to individual instances?
  id: totrans-338
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集或单个实例是否适用任何出口管制或其他监管限制？
- en: No, there are no export controls or other regulatory restrictions applied to
    this dataset.
  id: totrans-339
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不，该数据集没有施加任何出口管制或其他监管限制。
- en: '5.'
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '5.'
- en: When will the dataset be distributed?
  id: totrans-341
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集何时会分发？
- en: The dataset has been made publicly available with the [project website](https://mirai-llm.github.io/),
    [Google Drive](https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing),
    and [Github](https://github.com/yecchen/MIRAI).
  id: totrans-342
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集已经通过[项目网站](https://mirai-llm.github.io/)、[Google Drive](https://drive.google.com/file/d/1xmSEHZ_wqtBu1AwLpJ8wCDYmT-jRpfrN/view?usp=sharing)和[Github](https://github.com/yecchen/MIRAI)公开提供。
- en: '6.'
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '6.'
- en: Will the dataset be distributed under a copyright or other IP license, and/or
    under applicable terms of use (ToU)?
  id: totrans-344
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集是否会在版权或其他知识产权许可下分发，并/或在适用的使用条款（ToU）下分发？
- en: The dataset will be distributed under the CC BY-NC 4.0 license, allowing for
    use and distribution for non-commercial purposes with appropriate attribution.
  id: totrans-345
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集将以CC BY-NC 4.0许可证分发，允许在适当归属的情况下用于非商业目的的使用和分发。
- en: B.3 Maintenance
  id: totrans-346
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.3 维护
- en: '1.'
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: Who will be supporting/hosting/maintaining the dataset?
  id: totrans-348
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 谁将负责支持/托管/维护该数据集？
- en: The dataset maintenance will be supporting/hosting/maintaining by the authors.
  id: totrans-349
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集的维护将由作者负责支持/托管/维护。
- en: '2.'
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2.'
- en: How can the owner/curator/manager of the dataset be contacted?
  id: totrans-351
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如何联系数据集的所有者/策展人/管理员？
- en: The owner/curator/manager of the dataset can be contacted through the authors’
    emails.
  id: totrans-352
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集的所有者/策展人/管理员可以通过作者的电子邮件与之联系。
- en: '3.'
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3.'
- en: Will the dataset be updated? (e.g., to correct labeling errors, add new instances,
    delete instances)?
  id: totrans-354
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集是否会更新？（例如，纠正标注错误、添加新实例、删除实例等）
- en: Yes, the dataset will be updated whenever necessary to ensure accuracy, and
    announcements will be made accordingly.
  id: totrans-355
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是的，数据集将在必要时更新以确保准确性，并将相应发布公告。
- en: '4.'
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '4.'
- en: If the dataset relates to people, are there applicable limits on the retention
    of the data associated with the instances (e.g., were the individuals in question
    told that their data would be retained for a fixed period of time and then deleted?)
  id: totrans-357
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果数据集涉及人群，是否对与实例相关的数据的保存有适用的限制（例如，是否告知相关个人其数据会在固定时间内保留，然后删除）？
- en: NA. This dataset does not contain data related to individuals or personal identifiers.
  id: totrans-358
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不适用。该数据集不包含与个人或个人身份信息相关的数据。
- en: '5.'
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '5.'
- en: Will older version of the dataset continue to be supported/hosted/maintained?
    NA. Currently, there are no older versions of the dataset, as this is its first
    release. As the dataset evolves, the possibility of supporting and maintaining
    older versions will be considered based on community needs and resource availability.
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 旧版本的数据集是否会继续得到支持/托管/维护？不适用。目前，该数据集没有旧版本，这是其首次发布。随着数据集的发展，是否支持和维护旧版本将根据社区需求和资源可用性进行考虑。
- en: '6.'
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '6.'
- en: If others want to extend/augment/build on/contribute to the dataset, is there
    a mechanism for them to do so? Researchers and developers interested in extending,
    augmenting, or contributing to the dataset are encouraged to submit their changes
    through GitHub pull requests. For additional inquiries or detailed discussions,
    contacting the authors via email is recommended.
  id: totrans-362
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果其他人想扩展/增强/构建或贡献数据集，是否有机制可以让他们这样做？有意扩展、增强或贡献数据集的研究人员和开发者可以通过GitHub的拉取请求提交他们的更改。若有额外的询问或详细讨论，建议通过电子邮件联系作者。
- en: B.4 Composition
  id: totrans-363
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.4 组成
- en: '1.'
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: What do the instances that comprise the dataset represent?
  id: totrans-365
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 构成数据集的实例代表了什么？
- en: Each instance in the dataset represents a structured record of international
    events, including the date, involved countries, and type of event, along with
    associated news articles and metadata.
  id: totrans-366
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集中的每个实例代表了一个结构化的国际事件记录，包括日期、涉及的国家、事件类型，以及相关的新闻文章和元数据。
- en: '2.'
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2.'
- en: How many instances are there in total?
  id: totrans-368
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 总共有多少个实例？
- en: The database comprises 991,759 GDELT event records from January 2023 to November
    2023, corresponding to 59,161 unique events and 296,630 news articles. The test
    set contains 705 relation prediction queries, and the test subset contains 100
    queries.
  id: totrans-369
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据库包含了2023年1月到2023年11月的991,759个GDELT事件记录，涉及59,161个独特事件和296,630篇新闻文章。测试集包含705个关系预测查询，测试子集包含100个查询。
- en: '3.'
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3.'
- en: Does the dataset contain all possible instances or is it a sample of instances
    from a larger set?
  id: totrans-371
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集是否包含所有可能的实例，还是仅为来自更大集合的一个样本？
- en: The dataset represents a curated sample from the entire GDELT database. It has
    been created through meticulously designed data cleaning and preprocessing steps
    aimed at enhancing the quality and reliability of the event data.
  id: totrans-372
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集代表了来自整个GDELT数据库的一个精心挑选的样本。它是通过精心设计的数据清洗和预处理步骤创建的，旨在提高事件数据的质量和可靠性。
- en: '4.'
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '4.'
- en: Is there a label or target associated with each instance?
  id: totrans-374
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每个实例是否有标签或目标？
- en: 'Yes, each instance in the dataset is an event labeled with a relation type
    derived from the CAMEO⁸⁸8[Conflict and Mediation Event Observations (CAMEO): https://parusanalytics.com/eventdata/data.dir/cameo.html](https://parusanalytics.com/eventdata/data.dir/cameo.html)
    event taxonomy.'
  id: totrans-375
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是的，数据集中的每个实例都是一个事件，标注了来自CAMEO⁸⁸8[冲突与调解事件观察（CAMEO）：https://parusanalytics.com/eventdata/data.dir/cameo.html](https://parusanalytics.com/eventdata/data.dir/cameo.html)事件分类法派生的关系类型。
- en: '5.'
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '5.'
- en: Is any information missing from individual instances?
  id: totrans-377
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是否有个别实例缺少信息？
- en: No, all instances are complete with all available information.
  id: totrans-378
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不，所有实例都包含所有可用的信息。
- en: '6.'
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '6.'
- en: Are there recommended data splits (e.g., training, development/validation, testing)?
  id: totrans-380
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是否有推荐的数据拆分方式（例如，训练、开发/验证、测试）？
- en: The dataset includes records from January 2023 to November 2023\. The recommended
    testing set is constructed based on records from November 2023\. For testing,
    each instance utilizes all preceding records as its historical dataset to ensure
    accuracy and relevance in analysis.
  id: totrans-381
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集包含了2023年1月到2023年11月的记录。推荐的测试集是基于2023年11月的记录构建的。在测试时，每个实例使用所有之前的记录作为其历史数据集，以确保分析的准确性和相关性。
- en: '7.'
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '7.'
- en: Are there any errors, sources of noise, or redundancies in the dataset?
  id: totrans-383
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集中是否存在任何错误、噪音源或冗余？
- en: The dataset has undergone extensive cleaning and structuring to minimize errors
    and noise. However, residual noise from the original GDELT database may still
    be present.
  id: totrans-384
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集已经经过了广泛的清洗和结构化，以最小化错误和噪音。然而，原始GDELT数据库中的残留噪音可能仍然存在。
- en: '8.'
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '8.'
- en: Is the dataset self-contained, or does it link to or otherwise rely on external
    resources (e.g., websites, tweets, other datasets)?
  id: totrans-386
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集是自包含的，还是依赖于外部资源（例如，网站、推文、其他数据集）？
- en: While the dataset is primarily self-contained, it includes URLs to news articles,
    providing links to external resources for further context and verification.
  id: totrans-387
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 虽然数据集主要是自包含的，但它包含指向新闻文章的URL，提供了外部资源的链接，供进一步的背景和验证使用。
- en: '9.'
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '9.'
- en: Does the dataset contain data that might be considered confidential?
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集是否包含可能被视为机密的数据？
- en: No, the dataset contains publicly available data and does not include confidential
    information.
  id: totrans-390
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不，数据集包含公开可用的数据，不包括机密信息。
- en: '10.'
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '10.'
- en: Does the dataset contain data that, if viewed directly, might be offensive,
    insulting, threatening, or might otherwise cause anxiety?
  id: totrans-392
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集是否包含直接查看可能会冒犯、侮辱、威胁或可能引起焦虑的数据？
- en: The dataset may include descriptions of sensitive events, such as global conflicts,
    due to its focus on international relations. However, thorough checks such as
    flagging word ratios are employed during the data cleaning process to identify
    and potentially exclude inappropriate paragraphs or entire news articles and events.
    This ensures the minimization of distressing content while maintaining the integrity
    and relevance of the dataset for academic study.
  id: totrans-393
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于数据集侧重于国际关系，它可能包含敏感事件的描述，例如全球冲突。然而，在数据清理过程中采用了如标记词汇比率等严格检查方法，以识别并可能排除不适当的段落或整篇新闻文章及事件。这确保了在保持数据集学术研究完整性和相关性的同时，最大限度地减少令人不安的内容。
- en: B.5 Collection Process
  id: totrans-394
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.5 收集过程
- en: '1.'
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: How was the data associated with each instance acquired?
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每个实例的数据是如何获取的？
- en: 'Data for each instance was sourced from the GDELT project, which aggregates
    global event data and news articles from various worldwide media. Detailed information
    can be found in Section [2.3](https://arxiv.org/html/2407.01231v1#S2.SS3 "2.3
    Database Construction ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents for
    Event Forecasting") and Appendix [F](https://arxiv.org/html/2407.01231v1#A6 "Appendix
    F Details of Dataset Construction ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")
    of the paper.'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '每个实例的数据来源于GDELT项目，该项目从全球各种媒体聚合全球事件数据和新闻文章。详细信息可参见第[2.3](https://arxiv.org/html/2407.01231v1#S2.SS3
    "2.3 Database Construction ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting")节和附录[F](https://arxiv.org/html/2407.01231v1#A6 "Appendix
    F Details of Dataset Construction ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")中的相关内容。'
- en: '2.'
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2.'
- en: 'What mechanisms or procedures were used to collect the data (e.g., hardware
    apparatus or sensor, manual human curation, software program, software API)? Data
    collection was facilitated through software programs that aggregate event data
    and news articles from various sources. This automated collection is followed
    by data cleaning processes to enhance completeness and reliability. For a detailed
    description of the collection and cleaning methods, please refer to Section [2.3](https://arxiv.org/html/2407.01231v1#S2.SS3
    "2.3 Database Construction ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting") and Appendix [F](https://arxiv.org/html/2407.01231v1#A6
    "Appendix F Details of Dataset Construction ‣ Acknowledgements ‣ 5 Conclusion
    and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1
    Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting") of the paper. All dataset construction scripts
    are available in [Github](https://github.com/yecchen/MIRAI) and also described
    in the README.'
  id: totrans-399
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '用于收集数据的机制或程序是什么？（例如，硬件设备或传感器、人工人工策划、软件程序、软件API）数据收集通过软件程序进行，这些程序聚合来自各种来源的事件数据和新闻文章。这一自动化收集过程随后会进行数据清理，以增强完整性和可靠性。有关收集和清理方法的详细描述，请参见第[2.3](https://arxiv.org/html/2407.01231v1#S2.SS3
    "2.3 Database Construction ‣ 2 The Mirai Benchmark ‣ Mirai: Evaluating LLM Agents
    for Event Forecasting")节和附录[F](https://arxiv.org/html/2407.01231v1#A6 "Appendix
    F Details of Dataset Construction ‣ Acknowledgements ‣ 5 Conclusion and Limitation
    ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning
    Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")中的相关内容。所有数据集构建脚本可在[Github](https://github.com/yecchen/MIRAI)中找到，并在README文件中进行了描述。'
- en: '3.'
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3.'
- en: Who was involved in the data collection process? (e.g., students, crowdworkers,
    contractors) and how were they compensated (e.g., how much were crowdworkers paid)
  id: totrans-401
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据收集过程涉及哪些人员？（例如，学生、众包工作者、承包商）以及他们如何获得报酬（例如，众包工作者的薪酬是多少）
- en: The data collection and preprocessing were conducted by the authors, who are
    university researchers. This work was performed as part of their academic research
    activities.
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据收集和预处理由作者进行，作者为大学研究人员。这项工作是他们学术研究活动的一部分。
- en: '4.'
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '4.'
- en: Does the dataset relate to people?
  id: totrans-404
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集与个人有关吗？
- en: No. The dataset does not contain personal data or directly relate to individual
    people.
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不。该数据集不包含个人数据，也与个人无直接关联。
- en: '5.'
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '5.'
- en: Did you collect the data from the individuals in questions directly, or obtain
    it via third parties or other sources (e.g., websites)?
  id: totrans-407
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你是否直接从相关个人收集了数据，还是通过第三方或其他来源（例如，网站）获取的？
- en: The dataset does not involve data collected from individuals directly. Instead,
    it is curated from the GDELT project, which aggregates information from various
    global news media sources.
  id: totrans-408
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集不涉及直接从个人收集的数据。相反，它是从GDELT项目中整理而来，GDELT项目汇集了来自全球各大新闻媒体的各种信息。
- en: B.6 Uses
  id: totrans-409
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: B.6 用途
- en: '1.'
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: Has the dataset been used for any tasks already?
  id: totrans-411
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集是否已经用于某些任务？
- en: The dataset has not been used for any tasks other than the ones proposed and
    examined in this current paper, specifically for benchmarking the forecasting
    capabilities of LLM agents in predicting international relations.
  id: totrans-412
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集除了当前论文中提出和审查的任务外，并未用于其他任何任务，具体来说，它被用于评估LLM代理在预测国际关系方面的预测能力。
- en: '2.'
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '2.'
- en: What (other) tasks could the dataset be used for?
  id: totrans-414
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该数据集还可以用于哪些（其他）任务？
- en: In addition to benchmarking LLM agents, the dataset could be valuable for research
    in geopolitics, the development of other event prediction algorithms, sentiment
    analysis of international events, and trend analysis in global political dynamics.
  id: totrans-415
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 除了用作LLM代理的基准测试外，该数据集还可能对地缘政治研究、其他事件预测算法的开发、国际事件的情感分析以及全球政治动态的趋势分析具有重要价值。
- en: '3.'
  id: totrans-416
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '3.'
- en: Is there anything about the composition of the dataset or the way it was collected
    and preprocessed/cleaned/labeled that might impact future uses? The dataset was
    meticulously collected and preprocessed to ensure high quality and reliability.
    However, the reliance on the GDELT project as the primary data source and the
    specific cleaning process applied might influence its applicability to certain
    tasks. Users should consider these factors when applying the dataset to different
    research areas or methodologies.
  id: totrans-417
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 数据集的组成或其收集、预处理/清理/标注方式是否可能影响未来的使用？该数据集经过精心收集和预处理，以确保高质量和可靠性。然而，依赖于GDELT项目作为主要数据源以及应用的特定清理过程可能会影响其在某些任务中的适用性。用户在将数据集应用于不同的研究领域或方法时应考虑这些因素。
- en: '4.'
  id: totrans-418
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '4.'
- en: Are there tasks for which the dataset should not be used? The dataset should
    not be used for any tasks that violate the terms of use associated with the GDELT
    project.
  id: totrans-419
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 是否有不应该使用该数据集的任务？该数据集不应应用于任何违反GDELT项目使用条款的任务。
- en: Appendix C Limitations
  id: totrans-420
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录C 限制
- en: We acknowledge a few limitations in our current work. Firstly, the forecasting
    events in the test set might have been exposed to the most recently published
    LLMs, such as the gpt-4-turbo-2024-04-09, which has training data up to December
    2023\. While the background knowledge of LLMs about international relations matters
    for accurate forecasting, this benchmark still challenges them in retrieving grounded
    facts from the database and performing reliable forecasting. Secondly, many other
    base LLMs are not tested in the experiments. However, we chose some representative
    models for both open-source and closed-source LLMs, leaving more comprehensive
    tests for future work. Thirdly, while the current API covers functions like count,
    listing, and basic distribution statistics of events and news articles, more functionality
    can be added to the function pool in the future. For example, to further encourage
    the agent to analyze based on temporal trends, functions related to time series
    could be added to the API. We could also allow agents to generate and add useful
    functions to the API during their reasoning process to support a more diverse
    toolset. Fourthly, current experiments are limited by cost and time considerations.
    More rounds of experiments should be added for each different LLM and various
    settings. We observe some large variance in the experimental results, which may
    be caused by the current model temperature of 0.4 and the limited number of 5
    rounds per experiment.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 我们承认当前工作中的一些局限性。首先，测试集中的预测事件可能已被暴露给最新发布的 LLM，例如 gpt-4-turbo-2024-04-09，其训练数据更新至
    2023 年 12 月。尽管 LLM 对国际关系的背景知识对准确预测至关重要，但该基准测试仍然挑战其从数据库中检索实际事实并执行可靠预测的能力。其次，许多其他基础
    LLM 在实验中未被测试。然而，我们选择了一些具有代表性的模型，包括开源和闭源 LLM，未来将进行更全面的测试。第三，当前 API 覆盖了诸如计数、列出和事件与新闻文章的基本分布统计等功能，但未来可以向功能池中添加更多功能。例如，为了进一步鼓励代理基于时间趋势进行分析，可以向
    API 中添加与时间序列相关的功能。我们还可以允许代理在推理过程中生成并添加有用的功能到 API 中，以支持更为多样的工具集。第四，当前实验受到成本和时间的限制。每个不同的
    LLM 和各种设置应添加更多轮次的实验。我们观察到实验结果存在较大差异，这可能是由于当前模型温度为 0.4 且每个实验仅进行 5 轮的限制。
- en: Appendix D Additional related work
  id: totrans-422
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 D 相关工作补充
- en: D.1 Temporal Event Forecasting Methods
  id: totrans-423
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: D.1 时间事件预测方法
- en: LLMs have been tested for their temporal understanding through tasks such as
    temporal event ordering or storyline comprehension [[70](https://arxiv.org/html/2407.01231v1#bib.bib70),
    [71](https://arxiv.org/html/2407.01231v1#bib.bib71), [72](https://arxiv.org/html/2407.01231v1#bib.bib72),
    [73](https://arxiv.org/html/2407.01231v1#bib.bib73), [74](https://arxiv.org/html/2407.01231v1#bib.bib74)].
    In the context of temporal forecasting, LLMs have also been evaluated on recent
    text-based temporal forecasting benchmarks [[8](https://arxiv.org/html/2407.01231v1#bib.bib8),
    [46](https://arxiv.org/html/2407.01231v1#bib.bib46)]. However, these evaluations
    typically involve providing LLMs with retrieved context for in-context learning
    and then directly answering the forecast question. This approach limits the interaction
    between the LLM and the database and lacks important intermediate thinking and
    reasoning steps crucial for accurate forecasting. In contrast, Mirai establishes
    a comprehensive environment that enables an LLM to act as an agent, interacting
    with the database through multiple rounds of thinking, retrieving diverse information,
    and providing a complete reasoning path to the final forecast answer. This setup
    allows for a more thorough evaluation of the LLM’s temporal reasoning capabilities
    and its ability to effectively retrieving and analyzing the available information.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: LLMs 已通过诸如时间事件排序或故事情节理解等任务来测试其时间理解能力[[70](https://arxiv.org/html/2407.01231v1#bib.bib70),
    [71](https://arxiv.org/html/2407.01231v1#bib.bib71), [72](https://arxiv.org/html/2407.01231v1#bib.bib72),
    [73](https://arxiv.org/html/2407.01231v1#bib.bib73), [74](https://arxiv.org/html/2407.01231v1#bib.bib74)]。在时间预测的背景下，LLMs
    也已在近期基于文本的时间预测基准上进行了评估[[8](https://arxiv.org/html/2407.01231v1#bib.bib8), [46](https://arxiv.org/html/2407.01231v1#bib.bib46)]。然而，这些评估通常涉及为
    LLMs 提供检索到的上下文进行上下文学习，然后直接回答预测问题。这种方法限制了 LLM 与数据库之间的互动，缺乏重要的中间思维和推理步骤，而这些步骤对于准确的预测至关重要。相比之下，Mirai
    建立了一个综合的环境，使 LLM 作为一个代理与数据库进行多轮思考、检索多样化的信息，并提供完整的推理路径以得出最终的预测答案。该设置允许更全面地评估 LLM
    的时间推理能力以及其有效地检索和分析可用信息的能力。
- en: Significant research has also been conducted in the field of structured event
    temporal forecasting. Various methods have been proposed, including aggregating
    temporal and relational information among entities [[75](https://arxiv.org/html/2407.01231v1#bib.bib75),
    [76](https://arxiv.org/html/2407.01231v1#bib.bib76), [77](https://arxiv.org/html/2407.01231v1#bib.bib77)],
    retrieving relevant historical events [[78](https://arxiv.org/html/2407.01231v1#bib.bib78),
    [79](https://arxiv.org/html/2407.01231v1#bib.bib79), [80](https://arxiv.org/html/2407.01231v1#bib.bib80)],
    and modeling the continuous time evolution of events [[81](https://arxiv.org/html/2407.01231v1#bib.bib81),
    [82](https://arxiv.org/html/2407.01231v1#bib.bib82)]. Efforts have also been made
    to incorporate textual event information into Temporal Knowledge Graphs (TKGs).
    Glean [[83](https://arxiv.org/html/2407.01231v1#bib.bib83)] and CMF [[84](https://arxiv.org/html/2407.01231v1#bib.bib84)]
    integrate textual embeddings into graph edges, while SeCoGD [[85](https://arxiv.org/html/2407.01231v1#bib.bib85)]
    employs textual topic modeling to separate subgraphs. The MidEast-TE dataset and
    LoGo model [[86](https://arxiv.org/html/2407.01231v1#bib.bib86)] utilize text
    clustering to construct complex events for forecasting with local and global contexts.
    However, these methods still perform forecast reasoning solely on graphs using
    graph-based techniques. Recent studies have explored the use of LLMs for temporal
    event forecasting by transforming the TKG formulation into text sequences and
    converting missing object prediction into next token prediction [[87](https://arxiv.org/html/2407.01231v1#bib.bib87)].
    GPT-NeoX-ICL [[88](https://arxiv.org/html/2407.01231v1#bib.bib88)] employs in-context
    learning of LLMs and constructs prompts as a list of historical events in quadruplet
    format. GENTKG [[89](https://arxiv.org/html/2407.01231v1#bib.bib89)] enhances
    the selection of historical event inputs using a temporal logical rule-based retrieval
    strategy, while LAMP [[90](https://arxiv.org/html/2407.01231v1#bib.bib90)] applies
    LLMs to perform abductive reasoning to assist the retrieval process. However,
    these works only investigate LLMs with in-context learning or simple task-specific
    fine-tuning. In contrast, Mirai explores forecasting with an LLM agent that supports
    explicit information gathering and reasoning steps, enabling a hybrid approach
    that leverages both text and graph data.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 在结构化事件时间预测领域也进行了大量研究。提出了多种方法，包括汇总实体之间的时间和关系信息[[75](https://arxiv.org/html/2407.01231v1#bib.bib75)、[76](https://arxiv.org/html/2407.01231v1#bib.bib76)、[77](https://arxiv.org/html/2407.01231v1#bib.bib77)]，检索相关的历史事件[[78](https://arxiv.org/html/2407.01231v1#bib.bib78)、[79](https://arxiv.org/html/2407.01231v1#bib.bib79)、[80](https://arxiv.org/html/2407.01231v1#bib.bib80)]，以及对事件的连续时间演化进行建模[[81](https://arxiv.org/html/2407.01231v1#bib.bib81)、[82](https://arxiv.org/html/2407.01231v1#bib.bib82)]。还有一些努力试图将文本事件信息融入到时间知识图谱（TKGs）中。Glean[[83](https://arxiv.org/html/2407.01231v1#bib.bib83)]和CMF[[84](https://arxiv.org/html/2407.01231v1#bib.bib84)]将文本嵌入集成到图边中，而SeCoGD[[85](https://arxiv.org/html/2407.01231v1#bib.bib85)]采用文本主题建模来分离子图。MidEast-TE数据集和LoGo模型[[86](https://arxiv.org/html/2407.01231v1#bib.bib86)]利用文本聚类构建复杂事件，以便在本地和全球背景下进行预测。然而，这些方法仍然仅依靠图形技术在图谱上进行预测推理。最近的研究探讨了利用LLMs进行时间事件预测，通过将TKG表述转化为文本序列，并将缺失对象预测转化为下一个token的预测[[87](https://arxiv.org/html/2407.01231v1#bib.bib87)]。GPT-NeoX-ICL[[88](https://arxiv.org/html/2407.01231v1#bib.bib88)]使用LLMs的上下文学习，并以四元组格式构建历史事件列表作为提示。GENTKG[[89](https://arxiv.org/html/2407.01231v1#bib.bib89)]通过基于时间逻辑规则的检索策略增强了历史事件输入的选择，而LAMP[[90](https://arxiv.org/html/2407.01231v1#bib.bib90)]应用LLMs执行溯因推理以辅助检索过程。然而，这些研究仅调查了具有上下文学习或简单任务特定微调的LLMs。相比之下，Mirai探索了通过支持显式信息收集和推理步骤的LLM代理进行预测，采用了一种混合方法，既利用文本数据，也利用图形数据。
- en: D.2 LLMs for Code Generation
  id: totrans-426
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: D.2 LLMs用于代码生成
- en: Early advancements in LLMs have greatly impacted the field of code generation.
    Notable early models such as GPT-3 [[91](https://arxiv.org/html/2407.01231v1#bib.bib91)]
    and PALM [[92](https://arxiv.org/html/2407.01231v1#bib.bib92)] have demonstrated
    the potential of LLMs to assist in code completion and generation. Subsequent
    models have built upon the foundation of pre-trained LLMs, further refining capabilities
    specific to code generation. This has led to the development of code-specific
    LLMs such as Codex [[93](https://arxiv.org/html/2407.01231v1#bib.bib93)], Code
    T5 [[94](https://arxiv.org/html/2407.01231v1#bib.bib94)], CodeGen [[95](https://arxiv.org/html/2407.01231v1#bib.bib95)],
    AlphaCode [[96](https://arxiv.org/html/2407.01231v1#bib.bib96)], StarCoder [[97](https://arxiv.org/html/2407.01231v1#bib.bib97)],
    WizardCoder [[98](https://arxiv.org/html/2407.01231v1#bib.bib98)], and phi-1 [[99](https://arxiv.org/html/2407.01231v1#bib.bib99)].
    Moreover, code from open-source platforms such as GitHub has increasingly been
    incorporated into the pre-training data for recent LLMs [[25](https://arxiv.org/html/2407.01231v1#bib.bib25),
    [22](https://arxiv.org/html/2407.01231v1#bib.bib22)]. This integration has led
    to improved performance of LLMs such as Code Llama [[100](https://arxiv.org/html/2407.01231v1#bib.bib100)],
    Code-Qwen [[101](https://arxiv.org/html/2407.01231v1#bib.bib101)], and DeepSeek-Coder
    [[102](https://arxiv.org/html/2407.01231v1#bib.bib102)] on popular code-related
    tasks [[93](https://arxiv.org/html/2407.01231v1#bib.bib93), [103](https://arxiv.org/html/2407.01231v1#bib.bib103)].
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 早期LLM的进展对代码生成领域产生了深远的影响。著名的早期模型如GPT-3 [[91](https://arxiv.org/html/2407.01231v1#bib.bib91)]和PALM
    [[92](https://arxiv.org/html/2407.01231v1#bib.bib92)]展示了LLM在代码补全和生成方面的潜力。随后的模型在预训练LLM的基础上进一步发展，精细化了特定于代码生成的能力。这促成了专门针对代码的LLM的开发，如Codex
    [[93](https://arxiv.org/html/2407.01231v1#bib.bib93)]、Code T5 [[94](https://arxiv.org/html/2407.01231v1#bib.bib94)]、CodeGen
    [[95](https://arxiv.org/html/2407.01231v1#bib.bib95)]、AlphaCode [[96](https://arxiv.org/html/2407.01231v1#bib.bib96)]、StarCoder
    [[97](https://arxiv.org/html/2407.01231v1#bib.bib97)]、WizardCoder [[98](https://arxiv.org/html/2407.01231v1#bib.bib98)]
    和phi-1 [[99](https://arxiv.org/html/2407.01231v1#bib.bib99)]。此外，GitHub等开源平台的代码越来越多地被纳入到最近的LLM预训练数据中[[25](https://arxiv.org/html/2407.01231v1#bib.bib25)，[22](https://arxiv.org/html/2407.01231v1#bib.bib22)]。这种整合提高了LLM在流行的与代码相关任务上的表现，如Code
    Llama [[100](https://arxiv.org/html/2407.01231v1#bib.bib100)]、Code-Qwen [[101](https://arxiv.org/html/2407.01231v1#bib.bib101)]和DeepSeek-Coder
    [[102](https://arxiv.org/html/2407.01231v1#bib.bib102)] [[93](https://arxiv.org/html/2407.01231v1#bib.bib93)、[103](https://arxiv.org/html/2407.01231v1#bib.bib103)]。
- en: Appendix E Additional Details of the Database
  id: totrans-428
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录E 数据库的附加详细信息
- en: E.1 Countries and ISO Codes
  id: totrans-429
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: E.1 国家和ISO代码
- en: 'We show the ISO 3166 Alpha-3 country codes and names in Table [4](https://arxiv.org/html/2407.01231v1#A5.T4
    "Table 4 ‣ E.1 Countries and ISO Codes ‣ Appendix E Additional Details of the
    Database ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting") and Table [5](https://arxiv.org/html/2407.01231v1#A5.T5
    "Table 5 ‣ E.1 Countries and ISO Codes ‣ Appendix E Additional Details of the
    Database ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting").'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: '我们在表格[4](https://arxiv.org/html/2407.01231v1#A5.T4 "Table 4 ‣ E.1 Countries
    and ISO Codes ‣ Appendix E Additional Details of the Database ‣ Acknowledgements
    ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language
    Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent
    Behaviours ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate
    Forecasting with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating
    LLM Agents for Event Forecasting")和表格[5](https://arxiv.org/html/2407.01231v1#A5.T5
    "Table 5 ‣ E.1 Countries and ISO Codes ‣ Appendix E Additional Details of the
    Database ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")中展示了ISO 3166
    Alpha-3国家代码和名称。'
- en: 'Table 4: List of Countries and their ISO-3166 Alpha-3 Codes (Part 1)'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 表格 4：国家及其ISO-3166 Alpha-3代码列表（第一部分）
- en: '| Code | Country | Code | Country | Code | Country |'
  id: totrans-432
  prefs: []
  type: TYPE_TB
  zh: '| 代码 | 国家 | 代码 | 国家 | 代码 | 国家 |'
- en: '| AND | Andorra | ARE | United Arab Emirates | AFG | Afghanistan |'
  id: totrans-433
  prefs: []
  type: TYPE_TB
  zh: '| AND | 安道尔 | ARE | 阿联酋 | AFG | 阿富汗 |'
- en: '| ATG | Antigua and Barbuda | AIA | Anguilla | ALB | Albania |'
  id: totrans-434
  prefs: []
  type: TYPE_TB
  zh: '| ATG | 安提瓜和巴布达 | AIA | 安圭拉 | ALB | 阿尔巴尼亚 |'
- en: '| ARM | Armenia | AGO | Angola | ATA | Antarctica |'
  id: totrans-435
  prefs: []
  type: TYPE_TB
  zh: '| ARM | 亚美尼亚 | AGO | 安哥拉 | ATA | 南极洲 |'
- en: '| ARG | Argentina | ASM | American Samoa | AUT | Austria |'
  id: totrans-436
  prefs: []
  type: TYPE_TB
  zh: '| ARG | 阿根廷 | ASM | 美属萨摩亚 | AUT | 奥地利 |'
- en: '| AUS | Australia | ABW | Aruba | ALA | Åland |'
  id: totrans-437
  prefs: []
  type: TYPE_TB
  zh: '| AUS | 澳大利亚 | ABW | 阿鲁巴 | ALA | 奥兰群岛 |'
- en: '| AZE | Azerbaijan | BIH | Bosnia and Herzegovina | BRB | Barbados |'
  id: totrans-438
  prefs: []
  type: TYPE_TB
  zh: '| AZE | 阿塞拜疆 | BIH | 波斯尼亚和黑塞哥维那 | BRB | 巴巴多斯 |'
- en: '| BGD | Bangladesh | BEL | Belgium | BFA | Burkina Faso |'
  id: totrans-439
  prefs: []
  type: TYPE_TB
  zh: '| BGD | 孟加拉国 | BEL | 比利时 | BFA | 布基纳法索 |'
- en: '| BGR | Bulgaria | BHR | Bahrain | BDI | Burundi |'
  id: totrans-440
  prefs: []
  type: TYPE_TB
  zh: '| BGR | 保加利亚 | BHR | 巴林 | BDI | 布隆迪 |'
- en: '| BEN | Benin | BLM | Saint Barthélemy | BMU | Bermuda |'
  id: totrans-441
  prefs: []
  type: TYPE_TB
  zh: '| BEN | 贝宁 | BLM | 圣巴瑟勒米岛 | BMU | 百慕大 |'
- en: '| BRN | Brunei | BOL | Bolivia | BES | Bonaire, Sint Eustatius, and Saba |'
  id: totrans-442
  prefs: []
  type: TYPE_TB
  zh: '| BRN | 文莱 | BOL | 玻利维亚 | BES | 博内尔岛、圣尤斯塔蒂乌斯岛和萨巴岛 |'
- en: '| BRA | Brazil | BHS | Bahamas | BTN | Bhutan |'
  id: totrans-443
  prefs: []
  type: TYPE_TB
  zh: '| BRA | 巴西 | BHS | 巴哈马 | BTN | 不丹 |'
- en: '| BVT | Bouvet Island | BWA | Botswana | BLR | Belarus |'
  id: totrans-444
  prefs: []
  type: TYPE_TB
  zh: '| BVT | 布维岛 | BWA | 博茨瓦纳 | BLR | 白俄罗斯 |'
- en: '| BLZ | Belize | CAN | Canada | CCK | Cocos (Keeling) Islands |'
  id: totrans-445
  prefs: []
  type: TYPE_TB
  zh: '| BLZ | 伯利兹 | CAN | 加拿大 | CCK | 科科斯（基林）群岛 |'
- en: '| COD | DR Congo | CAF | Central African Republic | COG | Congo Republic |'
  id: totrans-446
  prefs: []
  type: TYPE_TB
  zh: '| COD | 刚果民主共和国 | CAF | 中非共和国 | COG | 刚果共和国 |'
- en: '| CHE | Switzerland | CIV | Ivory Coast | COK | Cook Islands |'
  id: totrans-447
  prefs: []
  type: TYPE_TB
  zh: '| CHE | 瑞士 | CIV | 象牙海岸 | COK | 库克群岛 |'
- en: '| CHL | Chile | CMR | Cameroon | CHN | China |'
  id: totrans-448
  prefs: []
  type: TYPE_TB
  zh: '| CHL | 智利 | CMR | 喀麦隆 | CHN | 中国 |'
- en: '| COL | Colombia | CRI | Costa Rica | CUB | Cuba |'
  id: totrans-449
  prefs: []
  type: TYPE_TB
  zh: '| COL | 哥伦比亚 | CRI | 哥斯达黎加 | CUB | 古巴 |'
- en: '| CPV | Cabo Verde | CUW | Curaçao | CXR | Christmas Island |'
  id: totrans-450
  prefs: []
  type: TYPE_TB
  zh: '| CPV | 佛得角 | CUW | 库拉索岛 | CXR | 圣诞岛 |'
- en: '| CYP | Cyprus | CZE | Czechia | DEU | Germany |'
  id: totrans-451
  prefs: []
  type: TYPE_TB
  zh: '| CYP | 塞浦路斯 | CZE | 捷克 | DEU | 德国 |'
- en: '| DJI | Djibouti | DNK | Denmark | DMA | Dominica |'
  id: totrans-452
  prefs: []
  type: TYPE_TB
  zh: '| DJI | 吉布提 | DNK | 丹麦 | DMA | 多米尼加 |'
- en: '| DOM | Dominican Republic | DZA | Algeria | ECU | Ecuador |'
  id: totrans-453
  prefs: []
  type: TYPE_TB
  zh: '| DOM | 多米尼加共和国 | DZA | 阿尔及利亚 | ECU | 厄瓜多尔 |'
- en: '| EST | Estonia | EGY | Egypt | ESH | Western Sahara |'
  id: totrans-454
  prefs: []
  type: TYPE_TB
  zh: '| EST | 爱沙尼亚 | EGY | 埃及 | ESH | 西撒哈拉 |'
- en: '| ERI | Eritrea | ESP | Spain | ETH | Ethiopia |'
  id: totrans-455
  prefs: []
  type: TYPE_TB
  zh: '| ERI | 厄立特里亚 | ESP | 西班牙 | ETH | 埃塞俄比亚 |'
- en: '| FIN | Finland | FJI | Fiji | FLK | Falkland Islands |'
  id: totrans-456
  prefs: []
  type: TYPE_TB
  zh: '| FIN | 芬兰 | FJI | 斐济 | FLK | 福克兰群岛 |'
- en: '| FSM | Micronesia | FRO | Faroe Islands | FRA | France |'
  id: totrans-457
  prefs: []
  type: TYPE_TB
  zh: '| FSM | 密克罗尼西亚 | FRO | 法罗群岛 | FRA | 法国 |'
- en: '| GAB | Gabon | GBR | United Kingdom | GRD | Grenada |'
  id: totrans-458
  prefs: []
  type: TYPE_TB
  zh: '| GAB | 加蓬 | GBR | 英国 | GRD | 格林纳达 |'
- en: '| GEO | Georgia | GUF | French Guiana | GGY | Guernsey |'
  id: totrans-459
  prefs: []
  type: TYPE_TB
  zh: '| GEO | 格鲁吉亚 | GUF | 法属圭亚那 | GGY | 根西岛 |'
- en: '| GHA | Ghana | GIB | Gibraltar | GRL | Greenland |'
  id: totrans-460
  prefs: []
  type: TYPE_TB
  zh: '| GHA | 加纳 | GIB | 吉布提 | GRL | 格林兰 |'
- en: '| GMB | The Gambia | GIN | Guinea | GLP | Guadeloupe |'
  id: totrans-461
  prefs: []
  type: TYPE_TB
  zh: '| GMB | 冈比亚 | GIN | 几内亚 | GLP | 瓦卢普岛 |'
- en: '| GNQ | Equatorial Guinea | GRC | Greece | SGS | South Georgia and South Sandwich
    Islands |'
  id: totrans-462
  prefs: []
  type: TYPE_TB
  zh: '| GNQ | 赤道几内亚 | GRC | 希腊 | SGS | 南乔治亚岛和南桑威奇群岛 |'
- en: '| GTM | Guatemala | GUM | Guam | GNB | Guinea-Bissau |'
  id: totrans-463
  prefs: []
  type: TYPE_TB
  zh: '| GTM | 危地马拉 | GUM | 关岛 | GNB | 几内亚比绍 |'
- en: '| GUY | Guyana | HKG | Hong Kong | HMD | Heard and McDonald Islands |'
  id: totrans-464
  prefs: []
  type: TYPE_TB
  zh: '| GUY | 圭亚那 | HKG | 香港 | HMD | 赫德和麦克唐纳群岛 |'
- en: '| HND | Honduras | HRV | Croatia | HTI | Haiti |'
  id: totrans-465
  prefs: []
  type: TYPE_TB
  zh: '| HND | 洪都拉斯 | HRV | 克罗地亚 | HTI | 海地 |'
- en: '| HUN | Hungary | IDN | Indonesia | IRL | Ireland |'
  id: totrans-466
  prefs: []
  type: TYPE_TB
  zh: '| HUN | 匈牙利 | IDN | 印度尼西亚 | IRL | 爱尔兰 |'
- en: '| ISR | Israel | IMN | Isle of Man | IND | India |'
  id: totrans-467
  prefs: []
  type: TYPE_TB
  zh: '| ISR | 以色列 | IMN | 马恩岛 | IND | 印度 |'
- en: '| IOT | British Indian Ocean Territory | IRQ | Iraq | IRN | Iran |'
  id: totrans-468
  prefs: []
  type: TYPE_TB
  zh: '| IOT | 英属印度洋领地 | IRQ | 伊拉克 | IRN | 伊朗 |'
- en: '| ISL | Iceland | ITA | Italy | JEY | Jersey |'
  id: totrans-469
  prefs: []
  type: TYPE_TB
  zh: '| ISL | 冰岛 | ITA | 意大利 | JEY | 泽西岛 |'
- en: '| JAM | Jamaica | JOR | Jordan | JPN | Japan |'
  id: totrans-470
  prefs: []
  type: TYPE_TB
  zh: '| JAM | 牙买加 | JOR | 约旦 | JPN | 日本 |'
- en: '| KEN | Kenya | KGZ | Kyrgyzstan | KHM | Cambodia |'
  id: totrans-471
  prefs: []
  type: TYPE_TB
  zh: '| KEN | 肯尼亚 | KGZ | 吉尔吉斯斯坦 | KHM | 柬埔寨 |'
- en: '| KIR | Kiribati | COM | Comoros | KNA | St Kitts and Nevis |'
  id: totrans-472
  prefs: []
  type: TYPE_TB
  zh: '| KIR | 基里巴斯 | COM | 科摩罗 | KNA | 圣基茨和尼维斯 |'
- en: '| PRK | North Korea | KOR | South Korea | KWT | Kuwait |'
  id: totrans-473
  prefs: []
  type: TYPE_TB
  zh: '| PRK | 朝鲜 | KOR | 韩国 | KWT | 科威特 |'
- en: '| CYM | Cayman Islands | KAZ | Kazakhstan | LAO | Laos |'
  id: totrans-474
  prefs: []
  type: TYPE_TB
  zh: '| CYM | 开曼群岛 | KAZ | 哈萨克斯坦 | LAO | 老挝 |'
- en: '| LBN | Lebanon | LCA | Saint Lucia | LIE | Liechtenstein |'
  id: totrans-475
  prefs: []
  type: TYPE_TB
  zh: '| LBN | 黎巴嫩 | LCA | 圣卢西亚 | LIE | 列支敦士登 |'
- en: '| LKA | Sri Lanka | LBR | Liberia | LSO | Lesotho |'
  id: totrans-476
  prefs: []
  type: TYPE_TB
  zh: '| LKA | 斯里兰卡 | LBR | 利比里亚 | LSO | 莱索托 |'
- en: '| LTU | Lithuania | LUX | Luxembourg | LVA | Latvia |'
  id: totrans-477
  prefs: []
  type: TYPE_TB
  zh: '| LTU | 立陶宛 | LUX | 卢森堡 | LVA | 拉脱维亚 |'
- en: '| LBY | Libya | MAR | Morocco | MCO | Monaco |'
  id: totrans-478
  prefs: []
  type: TYPE_TB
  zh: '| LBY | 利比亚 | MAR | 摩洛哥 | MCO | 摩纳哥 |'
- en: '| MDA | Moldova | MNE | Montenegro | MAF | Saint Martin |'
  id: totrans-479
  prefs: []
  type: TYPE_TB
  zh: '| MDA | 摩尔多瓦 | MNE | 黑山 | MAF | 圣马丁 |'
- en: '| MDG | Madagascar | MHL | Marshall Islands | MKD | North Macedonia |'
  id: totrans-480
  prefs: []
  type: TYPE_TB
  zh: '| MDG | 马达加斯加 | MHL | 马绍尔群岛 | MKD | 北马其顿 |'
- en: '| MLI | Mali | MMR | Myanmar | MNG | Mongolia |'
  id: totrans-481
  prefs: []
  type: TYPE_TB
  zh: '| MLI | 马里 | MMR | 缅甸 | MNG | 蒙古 |'
- en: '| MAC | Macao | MNP | Northern Mariana Islands | MTQ | Martinique |'
  id: totrans-482
  prefs: []
  type: TYPE_TB
  zh: '| MAC | 澳门 | MNP | 北马里亚纳群岛 | MTQ | 马提尼克 |'
- en: '| MRT | Mauritania | MSR | Montserrat | MLT | Malta |'
  id: totrans-483
  prefs: []
  type: TYPE_TB
  zh: '| MRT | 毛里塔尼亚 | MSR | 蒙特塞拉特 | MLT | 马耳他 |'
- en: '| MUS | Mauritius | MDV | Maldives | MWI | Malawi |'
  id: totrans-484
  prefs: []
  type: TYPE_TB
  zh: '| MUS | 毛里求斯 | MDV | 马尔代夫 | MWI | 马拉维 |'
- en: '| MEX | Mexico | MYS | Malaysia | MOZ | Mozambique |'
  id: totrans-485
  prefs: []
  type: TYPE_TB
  zh: '| MEX | 墨西哥 | MYS | 马来西亚 | MOZ | 莫桑比克 |'
- en: '| NAM | Namibia | NCL | New Caledonia | NER | Niger |'
  id: totrans-486
  prefs: []
  type: TYPE_TB
  zh: '| NAM | 纳米比亚 | NCL | 新喀里多尼亚 | NER | 尼日尔 |'
- en: '| NFK | Norfolk Island | NGA | Nigeria | NIC | Nicaragua |'
  id: totrans-487
  prefs: []
  type: TYPE_TB
  zh: '| NFK | 诺福克岛 | NGA | 尼日利亚 | NIC | 尼加拉瓜 |'
- en: '| NLD | The Netherlands | NOR | Norway | NPL | Nepal |'
  id: totrans-488
  prefs: []
  type: TYPE_TB
  zh: '| NLD | 荷兰 | NOR | 挪威 | NPL | 尼泊尔 |'
- en: '| NRU | Nauru | NIU | Niue | NZL | New Zealand |'
  id: totrans-489
  prefs: []
  type: TYPE_TB
  zh: '| NRU | 瑙鲁 | NIU | 纽埃 | NZL | 新西兰 |'
- en: '| OMN | Oman | PAN | Panama | PER | Peru |'
  id: totrans-490
  prefs: []
  type: TYPE_TB
  zh: '| OMN | 阿曼 | PAN | 巴拿马 | PER | 秘鲁 |'
- en: '| PYF | French Polynesia | PNG | Papua New Guinea | PHL | Philippines |'
  id: totrans-491
  prefs: []
  type: TYPE_TB
  zh: '| PYF | 法属波利尼西亚 | PNG | 巴布亚新几内亚 | PHL | 菲律宾 |'
- en: '| PAK | Pakistan | POL | Poland | SPM | Saint Pierre and Miquelon |'
  id: totrans-492
  prefs: []
  type: TYPE_TB
  zh: '| PAK | 巴基斯坦 | POL | 波兰 | SPM | 圣皮埃尔和密克隆群岛 |'
- en: '| PCN | Pitcairn Islands | PRI | Puerto Rico | PSE | Palestine |'
  id: totrans-493
  prefs: []
  type: TYPE_TB
  zh: '| PCN | 皮特凯恩群岛 | PRI | 波多黎各 | PSE | 巴勒斯坦 |'
- en: '| PRT | Portugal | PLW | Palau | PRY | Paraguay |'
  id: totrans-494
  prefs: []
  type: TYPE_TB
  zh: '| PRT | 葡萄牙 | PLW | 帕劳 | PRY | 巴拉圭 |'
- en: '| QAT | Qatar | REU | Réunion | ROU | Romania |'
  id: totrans-495
  prefs: []
  type: TYPE_TB
  zh: '| QAT | 卡塔尔 | REU | 留尼旺 | ROU | 罗马尼亚 |'
- en: '| SRB | Serbia | RUS | Russia | RWA | Rwanda |'
  id: totrans-496
  prefs: []
  type: TYPE_TB
  zh: '| SRB | 塞尔维亚 | RUS | 俄罗斯 | RWA | 卢旺达 |'
- en: '| SAU | Saudi Arabia | SLB | Solomon Islands | SYC | Seychelles |'
  id: totrans-497
  prefs: []
  type: TYPE_TB
  zh: '| SAU | 沙特阿拉伯 | SLB | 所罗门群岛 | SYC | 塞舌尔 |'
- en: '| SDN | Sudan | SWE | Sweden | SGP | Singapore |'
  id: totrans-498
  prefs: []
  type: TYPE_TB
  zh: '| SDN | 苏丹 | SWE | 瑞典 | SGP | 新加坡 |'
- en: '| SHN | Saint Helena | SVN | Slovenia | SJM | Svalbard and Jan Mayen |'
  id: totrans-499
  prefs: []
  type: TYPE_TB
  zh: '| SHN | 圣赫勒拿 | SVN | 斯洛文尼亚 | SJM | 斯瓦尔巴群岛与扬马延岛 |'
- en: '| SVK | Slovakia | SLE | Sierra Leone | SMR | San Marino |'
  id: totrans-500
  prefs: []
  type: TYPE_TB
  zh: '| SVK | 斯洛伐克 | SLE | 塞拉利昂 | SMR | 圣马力诺 |'
- en: 'Table 5: List of Countries and their ISO-3166 Alpha-3 Codes (Part 2)'
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: 表5：国家及其ISO-3166 Alpha-3代码列表（第二部分）
- en: '| Code | Country | Code | Country | Code | Country |'
  id: totrans-502
  prefs: []
  type: TYPE_TB
  zh: '| 代码 | 国家 | 代码 | 国家 | 代码 | 国家 |'
- en: '| SEN | Senegal | SOM | Somalia | SUR | Suriname |'
  id: totrans-503
  prefs: []
  type: TYPE_TB
  zh: '| SEN | 塞内加尔 | SOM | 索马里 | SUR | 苏里南 |'
- en: '| SSD | South Sudan | STP | São Tomé and Príncipe | SLV | El Salvador |'
  id: totrans-504
  prefs: []
  type: TYPE_TB
  zh: '| SSD | 南苏丹 | STP | 圣多美和普林西比 | SLV | 萨尔瓦多 |'
- en: '| SXM | Sint Maarten | SYR | Syria | SWZ | Eswatini |'
  id: totrans-505
  prefs: []
  type: TYPE_TB
  zh: '| SXM | 荷属圣马丁 | SYR | 叙利亚 | SWZ | Eswatini |'
- en: '| TCA | Turks and Caicos Islands | TCD | Chad | ATF | French Southern Territories
    |'
  id: totrans-506
  prefs: []
  type: TYPE_TB
  zh: '| TCA | 特克斯和凯科斯群岛 | TCD | 查德 | ATF | 法属南部领土 |'
- en: '| TGO | Togo | THA | Thailand | TJK | Tajikistan |'
  id: totrans-507
  prefs: []
  type: TYPE_TB
  zh: '| TGO | 多哥 | THA | 泰国 | TJK | 塔吉克斯坦 |'
- en: '| TKL | Tokelau | TLS | Timor-Leste | TKM | Turkmenistan |'
  id: totrans-508
  prefs: []
  type: TYPE_TB
  zh: '| TKL | 托克劳 | TLS | 东帝汶 | TKM | 土库曼斯坦 |'
- en: '| TUN | Tunisia | TON | Tonga | TUR | Türkiye |'
  id: totrans-509
  prefs: []
  type: TYPE_TB
  zh: '| TUN | 突尼斯 | TON | 汤加 | TUR | 土耳其 |'
- en: '| TTO | Trinidad and Tobago | TUV | Tuvalu | TWN | Taiwan |'
  id: totrans-510
  prefs: []
  type: TYPE_TB
  zh: '| TTO | 特立尼达和多巴哥 | TUV | 图瓦卢 | TWN | 台湾 |'
- en: '| TZA | Tanzania | UKR | Ukraine | UGA | Uganda |'
  id: totrans-511
  prefs: []
  type: TYPE_TB
  zh: '| TZA | 坦桑尼亚 | UKR | 乌克兰 | UGA | 乌干达 |'
- en: '| UMI | U.S. Outlying Islands | USA | United States | URY | Uruguay |'
  id: totrans-512
  prefs: []
  type: TYPE_TB
  zh: '| UMI | 美国本土外岛 | USA | 美国 | URY | 乌拉圭 |'
- en: '| UZB | Uzbekistan | VAT | Vatican City | VCT | St Vincent and Grenadines |'
  id: totrans-513
  prefs: []
  type: TYPE_TB
  zh: '| UZB | 乌兹别克斯坦 | VAT | 梵蒂冈 | VCT | 圣文森特和格林纳丁斯 |'
- en: '| VEN | Venezuela | VGB | British Virgin Islands | VIR | U.S. Virgin Islands
    |'
  id: totrans-514
  prefs: []
  type: TYPE_TB
  zh: '| VEN | 委内瑞拉 | VGB | 英属维尔京群岛 | VIR | 美国维尔京群岛 |'
- en: '| VNM | Vietnam | VUT | Vanuatu | WLF | Wallis and Futuna |'
  id: totrans-515
  prefs: []
  type: TYPE_TB
  zh: '| VNM | 越南 | VUT | 瓦努阿图 | WLF | 瓦利斯和富图纳 |'
- en: '| WSM | Samoa | XKX | Kosovo | YEM | Yemen |'
  id: totrans-516
  prefs: []
  type: TYPE_TB
  zh: '| WSM | 萨摩亚 | XKX | 科索沃 | YEM | 也门 |'
- en: '| MYT | Mayotte | ZAF | South Africa | ZMB | Zambia |'
  id: totrans-517
  prefs: []
  type: TYPE_TB
  zh: '| MYT | 马约特 | ZAF | 南非 | ZMB | 赞比亚 |'
- en: '| ZWE | Zimbabwe |  |  |  |  |'
  id: totrans-518
  prefs: []
  type: TYPE_TB
  zh: '| ZWE | 津巴布韦 |  |  |  |  |'
- en: E.2 Relations and CAMEO Codes
  id: totrans-519
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: E.2 关系和CAMEO代码
- en: 'We show the CAMEO relation codes and names, where the first-level relations
    are in two digits, and the second-level relations are in three digits with the
    first two digits be the same as its parent relation:'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: 我们展示了CAMEO关系代码和名称，其中一级关系为两位数字，二级关系为三位数字，且前两位数字与其父级关系相同：
- en: •
  id: totrans-521
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '01: Make public statement'
  id: totrans-522
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '01: 发表公开声明'
- en: –
  id: totrans-523
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '010: Make statement, not specified'
  id: totrans-524
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '010: 发表声明，未指定'
- en: –
  id: totrans-525
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '011: Decline comment'
  id: totrans-526
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '011: 拒绝评论'
- en: –
  id: totrans-527
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '012: Make pessimistic comment'
  id: totrans-528
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '012: 做出悲观评论'
- en: –
  id: totrans-529
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '013: Make optimistic comment'
  id: totrans-530
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '013: 做出乐观评论'
- en: –
  id: totrans-531
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '014: Consider policy option'
  id: totrans-532
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '014: 考虑政策选项'
- en: –
  id: totrans-533
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '015: Acknowledge or claim responsibility'
  id: totrans-534
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '015: 承认或声明责任'
- en: –
  id: totrans-535
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '016: Reject accusation or deny responsibility'
  id: totrans-536
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '016: 否认指控或拒绝承担责任'
- en: –
  id: totrans-537
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '017: Engage in symbolic act'
  id: totrans-538
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '017: 进行象征性行为'
- en: –
  id: totrans-539
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '018: Make empathetic comment'
  id: totrans-540
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '018: 做出同情评论'
- en: –
  id: totrans-541
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '019: Express accord'
  id: totrans-542
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '019: 表达一致意见'
- en: •
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '02: Appeal'
  id: totrans-544
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '02: 呼吁'
- en: –
  id: totrans-545
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '020: Make an appeal or request, not specified'
  id: totrans-546
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '020: 发出呼吁或请求，未指定'
- en: –
  id: totrans-547
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '021: Appeal for material cooperation'
  id: totrans-548
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '021: 呼吁物质合作'
- en: –
  id: totrans-549
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '022: Appeal for diplomatic cooperation'
  id: totrans-550
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '022: 呼吁外交合作'
- en: –
  id: totrans-551
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '023: Appeal for material aid'
  id: totrans-552
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '023: 呼吁提供物质援助'
- en: –
  id: totrans-553
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '024: Appeal for political reform'
  id: totrans-554
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '024: 呼吁政治改革'
- en: –
  id: totrans-555
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '025: Appeal to yield'
  id: totrans-556
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '025: 呼吁让步'
- en: –
  id: totrans-557
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '026: Appeal to others to meet or negotiate'
  id: totrans-558
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '026: 呼吁他人会面或谈判'
- en: –
  id: totrans-559
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '027: Appeal to others to settle dispute'
  id: totrans-560
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '027: 呼吁他人解决争端'
- en: –
  id: totrans-561
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '028: Appeal to others to engage in or accept mediation'
  id: totrans-562
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '028: 呼吁他人参与或接受调解'
- en: •
  id: totrans-563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '03: Express intent to cooperate'
  id: totrans-564
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '03: 表示合作意向'
- en: –
  id: totrans-565
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '030: Express intent to cooperate, not specified'
  id: totrans-566
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '030: 表示合作意向，未指定'
- en: –
  id: totrans-567
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '031: Express intent to engage in material cooperation'
  id: totrans-568
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '031: 表示愿意进行物质合作'
- en: –
  id: totrans-569
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '032: Express intent to engage in diplomatic cooperation'
  id: totrans-570
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '032: 表示愿意进行外交合作'
- en: –
  id: totrans-571
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '033: Express intent to provide material aid'
  id: totrans-572
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '033: 表示提供物质援助的意图'
- en: –
  id: totrans-573
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '034: Express intent to institute political reform'
  id: totrans-574
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '034: 表示进行政治改革的意图'
- en: –
  id: totrans-575
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '035: Express intent to yield'
  id: totrans-576
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '035: 表示愿意让步'
- en: –
  id: totrans-577
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '036: Express intent to meet or negotiate'
  id: totrans-578
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '036: 表示会面或谈判的意图'
- en: –
  id: totrans-579
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '037: Express intent to settle dispute'
  id: totrans-580
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '037: 表示解决争端的意图'
- en: –
  id: totrans-581
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '038: Express intent to accept mediation'
  id: totrans-582
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '038: 表示接受调解的意图'
- en: –
  id: totrans-583
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '039: Express intent to mediate'
  id: totrans-584
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '039: 表示调解意图'
- en: •
  id: totrans-585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '04: Consult'
  id: totrans-586
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '04: 协商'
- en: –
  id: totrans-587
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '040: Consult, not specified'
  id: totrans-588
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '040: 协商，未指定'
- en: –
  id: totrans-589
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '041: Discuss by telephone'
  id: totrans-590
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '041: 电话讨论'
- en: –
  id: totrans-591
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '042: Make a visit'
  id: totrans-592
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '042: 进行访问'
- en: –
  id: totrans-593
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '043: Host a visit'
  id: totrans-594
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '043: 主办访问'
- en: –
  id: totrans-595
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '044: Meet at a third location'
  id: totrans-596
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '044: 在第三地会面'
- en: –
  id: totrans-597
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '045: Engage in mediation'
  id: totrans-598
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '045: 从事调解'
- en: –
  id: totrans-599
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '046: Engage in negotiation'
  id: totrans-600
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '046: 从事谈判'
- en: •
  id: totrans-601
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '05: Engage in diplomatic cooperation'
  id: totrans-602
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '05: 从事外交合作'
- en: –
  id: totrans-603
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: 050:Engage in diplomatic cooperation, not specified
  id: totrans-604
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '050: 从事外交合作，未指定'
- en: –
  id: totrans-605
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '051: Praise or endorse'
  id: totrans-606
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '051: 赞扬或支持'
- en: –
  id: totrans-607
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '052: Defend verbally'
  id: totrans-608
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '052: 口头辩护'
- en: –
  id: totrans-609
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '053: Rally support on behalf of'
  id: totrans-610
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '053: 号召支持'
- en: –
  id: totrans-611
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '054: Grant diplomatic recognition'
  id: totrans-612
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '054: 授予外交承认'
- en: –
  id: totrans-613
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '055: Apologize'
  id: totrans-614
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '055: 道歉'
- en: –
  id: totrans-615
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '056: Forgive'
  id: totrans-616
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '056: 原谅'
- en: –
  id: totrans-617
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '057: Sign formal agreement'
  id: totrans-618
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '057: 签署正式协议'
- en: •
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '06: Engage in material cooperation'
  id: totrans-620
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '06: 从事物质合作'
- en: –
  id: totrans-621
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '060: Engage in material cooperation, not specified'
  id: totrans-622
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '060: 从事物质合作，未指定'
- en: –
  id: totrans-623
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '061: Cooperate economically'
  id: totrans-624
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '061: 在经济上合作'
- en: –
  id: totrans-625
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '062: Cooperate militarily'
  id: totrans-626
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '062: 在军事上合作'
- en: –
  id: totrans-627
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '063: Engage in judicial cooperation'
  id: totrans-628
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '063: 从事司法合作'
- en: –
  id: totrans-629
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '064: Share intelligence or information'
  id: totrans-630
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '064: 共享情报或信息'
- en: •
  id: totrans-631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '07: Provide aid'
  id: totrans-632
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '07: 提供援助'
- en: –
  id: totrans-633
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '070: Provide aid, not specified'
  id: totrans-634
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '070: 提供援助，未指定'
- en: –
  id: totrans-635
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '071: Provide economic aid'
  id: totrans-636
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '071: 提供经济援助'
- en: –
  id: totrans-637
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '072: Provide military aid'
  id: totrans-638
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '072: 提供军事援助'
- en: –
  id: totrans-639
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '073: Provide humanitarian aid'
  id: totrans-640
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '073: 提供人道援助'
- en: –
  id: totrans-641
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '074: Provide military protection or peacekeeping'
  id: totrans-642
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '074: 提供军事保护或维和'
- en: –
  id: totrans-643
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '075: Grant asylum'
  id: totrans-644
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '075: 提供庇护'
- en: •
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '08: Yield'
  id: totrans-646
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '08: 让步'
- en: –
  id: totrans-647
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '080: Yield, not specified'
  id: totrans-648
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '080: 让步，未指定'
- en: –
  id: totrans-649
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '081: Ease administrative sanctions'
  id: totrans-650
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '081: 放宽行政制裁'
- en: –
  id: totrans-651
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '082: Ease political dissent'
  id: totrans-652
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '082: 缓解政治异见'
- en: –
  id: totrans-653
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '083: Accede to requests or demands for political reform'
  id: totrans-654
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '083: 同意政治改革的请求或要求'
- en: –
  id: totrans-655
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '084: Return or release'
  id: totrans-656
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '084: 归还或释放'
- en: –
  id: totrans-657
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '085: Ease economic sanction or boycott or embargo'
  id: totrans-658
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '085: 放宽经济制裁、抵制或禁运'
- en: –
  id: totrans-659
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '086: Allow international involvement'
  id: totrans-660
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '086: 允许国际参与'
- en: –
  id: totrans-661
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '087: De-escalate military engagement'
  id: totrans-662
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '087: 降低军事冲突'
- en: •
  id: totrans-663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '09: Investigate'
  id: totrans-664
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '09: 调查'
- en: –
  id: totrans-665
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '090: Investigate, not specified'
  id: totrans-666
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '090: 调查，未指定'
- en: –
  id: totrans-667
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '091: Investigate crime or corruption'
  id: totrans-668
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '091: 调查犯罪或腐败'
- en: –
  id: totrans-669
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '092: Investigate human rights abuses'
  id: totrans-670
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '092: 调查人权侵犯'
- en: –
  id: totrans-671
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '093: Investigate military action'
  id: totrans-672
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '093: 调查军事行动'
- en: –
  id: totrans-673
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '094: Investigate war crimes'
  id: totrans-674
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '094: 调查战争罪'
- en: •
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '10: Demand'
  id: totrans-676
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '10: 要求'
- en: –
  id: totrans-677
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '100: Demand, not specified'
  id: totrans-678
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '100: 要求，未指定'
- en: –
  id: totrans-679
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '101: Demand material cooperation'
  id: totrans-680
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '101: 要求物质合作'
- en: –
  id: totrans-681
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '102: Demand for diplomatic cooperation'
  id: totrans-682
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '102: 要求外交合作'
- en: –
  id: totrans-683
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '103: Demand material aid'
  id: totrans-684
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '103: 要求物质援助'
- en: –
  id: totrans-685
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '104: Demand political reform'
  id: totrans-686
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '104: 要求政治改革'
- en: –
  id: totrans-687
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '105: Demand that target yield'
  id: totrans-688
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '105: 要求目标让步'
- en: –
  id: totrans-689
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '106: Demand meeting or negotiation'
  id: totrans-690
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '106: 要求会晤或谈判'
- en: –
  id: totrans-691
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '107: Demand settling of dispute'
  id: totrans-692
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '107: 要求解决争端'
- en: –
  id: totrans-693
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '108: Demand mediation'
  id: totrans-694
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '108: 要求调解'
- en: •
  id: totrans-695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '11: Disapprove'
  id: totrans-696
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '11: 不批准'
- en: –
  id: totrans-697
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '110: Disapprove, not specified'
  id: totrans-698
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '110: 不批准，未指定'
- en: –
  id: totrans-699
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '111: Criticize or denounce'
  id: totrans-700
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '111: 批评或谴责'
- en: –
  id: totrans-701
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '112: Accuse'
  id: totrans-702
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '112: 指控'
- en: –
  id: totrans-703
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '113: Rally opposition against'
  id: totrans-704
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '113: 号召反对'
- en: –
  id: totrans-705
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '114: Complain officially'
  id: totrans-706
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '114: 正式投诉'
- en: –
  id: totrans-707
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '115: Bring lawsuit against'
  id: totrans-708
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '115: 提起诉讼'
- en: –
  id: totrans-709
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '116: Find guilty or liable (legally)'
  id: totrans-710
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '116: 判定有罪或负有法律责任'
- en: •
  id: totrans-711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '12: Reject'
  id: totrans-712
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '12: 拒绝'
- en: –
  id: totrans-713
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '120: All rejections and refusals'
  id: totrans-714
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '120: 所有拒绝和拒绝的情况'
- en: –
  id: totrans-715
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '121: Reject material cooperation'
  id: totrans-716
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '121: 拒绝物质合作'
- en: –
  id: totrans-717
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '122: Reject request or demand for material aid'
  id: totrans-718
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '122: 拒绝物质援助的请求或要求'
- en: –
  id: totrans-719
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '123: Reject request or demand for political reform'
  id: totrans-720
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '123: 拒绝政治改革的请求或要求'
- en: –
  id: totrans-721
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '124: Refuse to yield'
  id: totrans-722
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '124: 拒绝让步'
- en: –
  id: totrans-723
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '125: Reject proposal to meet or discuss or negotiate'
  id: totrans-724
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '125: 拒绝会面、讨论或谈判的提议'
- en: –
  id: totrans-725
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '126: Reject mediation'
  id: totrans-726
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '126: 拒绝调解'
- en: –
  id: totrans-727
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '127: Reject plan or agreement to settle dispute'
  id: totrans-728
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '127: 拒绝解决争端的计划或协议'
- en: –
  id: totrans-729
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '128: Defy norms or law'
  id: totrans-730
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '128: 违抗规范或法律'
- en: –
  id: totrans-731
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '129: Veto'
  id: totrans-732
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '129: 否决'
- en: •
  id: totrans-733
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '13: Threaten'
  id: totrans-734
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '13: 威胁'
- en: –
  id: totrans-735
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '130: Threaten, not specified'
  id: totrans-736
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '130: 威胁，未指定'
- en: –
  id: totrans-737
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '131: Threaten non-force'
  id: totrans-738
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '131: 威胁非武力手段'
- en: –
  id: totrans-739
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '132: Threaten with administrative sanctions'
  id: totrans-740
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '132: 威胁行政制裁'
- en: –
  id: totrans-741
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '133: Threaten political dissent'
  id: totrans-742
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '133: 威胁政治异见'
- en: –
  id: totrans-743
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '134: Threaten to halt negotiations'
  id: totrans-744
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '134: 威胁停止谈判'
- en: –
  id: totrans-745
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '135: Threaten to halt mediation'
  id: totrans-746
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '135: 威胁停止调解'
- en: –
  id: totrans-747
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '136: Threaten to halt international involvement'
  id: totrans-748
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '136: 威胁停止国际参与'
- en: –
  id: totrans-749
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '137: Threaten with repression'
  id: totrans-750
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '137: 用镇压手段威胁'
- en: –
  id: totrans-751
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '138: Threaten with military force'
  id: totrans-752
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '138: 用军事力量威胁'
- en: –
  id: totrans-753
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '139: Give ultimatum'
  id: totrans-754
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '139: 发出最后通牒'
- en: •
  id: totrans-755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '14: Protest'
  id: totrans-756
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '14: 抗议'
- en: –
  id: totrans-757
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '140: Engage in political dissent, not specified'
  id: totrans-758
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '140: 进行政治异议活动，未指定'
- en: –
  id: totrans-759
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '141: Demonstrate or rally'
  id: totrans-760
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '141: 示威或集会'
- en: –
  id: totrans-761
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '142: Conduct hunger strike'
  id: totrans-762
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '142: 进行绝食抗议'
- en: –
  id: totrans-763
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '143: Conduct strike or boycott'
  id: totrans-764
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '143: 进行罢工或抵制'
- en: –
  id: totrans-765
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '144: Obstruct passage or block'
  id: totrans-766
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '144: 阻碍通行或封锁'
- en: –
  id: totrans-767
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '145: Protest violently or riot'
  id: totrans-768
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '145: 强烈抗议或暴乱'
- en: •
  id: totrans-769
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '15: Exhibit military posture'
  id: totrans-770
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '15: 展示军事姿态'
- en: –
  id: totrans-771
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '150: Exhibit military or police power, not specified'
  id: totrans-772
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '150: 展示军事或警察力量，未指定'
- en: –
  id: totrans-773
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '151: Increase police alert status'
  id: totrans-774
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '151: 提高警察警戒状态'
- en: –
  id: totrans-775
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '152: Increase military alert status'
  id: totrans-776
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '152: 提高军事警戒状态'
- en: –
  id: totrans-777
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '153: Mobilize or increase police power'
  id: totrans-778
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '153: 动员或增加警察力量'
- en: –
  id: totrans-779
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '154: Mobilize or increase armed forces'
  id: totrans-780
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '154: 动员或增加武装力量'
- en: –
  id: totrans-781
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '155: Mobilize or increase cyber-forces'
  id: totrans-782
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '155: 动员或增加网络力量'
- en: •
  id: totrans-783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '16: Reduce relations'
  id: totrans-784
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '16: 降低关系'
- en: –
  id: totrans-785
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '160: Reduce relations, not specified'
  id: totrans-786
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '160: 降低关系，未指定'
- en: –
  id: totrans-787
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '161: Reduce or break diplomatic relations'
  id: totrans-788
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '161: 降低或断绝外交关系'
- en: –
  id: totrans-789
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '162: Reduce or stop material aid'
  id: totrans-790
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '162: 减少或停止物资援助'
- en: –
  id: totrans-791
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '163: Impose embargo or boycott or sanctions'
  id: totrans-792
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '163: 实施禁运或抵制或制裁'
- en: –
  id: totrans-793
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '164: Halt negotiations'
  id: totrans-794
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '164: 停止谈判'
- en: –
  id: totrans-795
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '165: Halt mediation'
  id: totrans-796
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '165: 停止调解'
- en: –
  id: totrans-797
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '166: Expel or withdraw'
  id: totrans-798
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '166: 驱逐或撤离'
- en: •
  id: totrans-799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '17: Coerce'
  id: totrans-800
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '17: 强迫'
- en: –
  id: totrans-801
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '170: Coerce'
  id: totrans-802
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '170: 强迫'
- en: –
  id: totrans-803
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '171: Seize or damage property'
  id: totrans-804
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '171: 强行占有或破坏财产'
- en: –
  id: totrans-805
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '172: Impose administrative sanctions'
  id: totrans-806
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '172: 实施行政制裁'
- en: –
  id: totrans-807
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '173: Arrest or detain'
  id: totrans-808
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '173: 逮捕或拘留'
- en: –
  id: totrans-809
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '174: Expel or deport individuals'
  id: totrans-810
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '174: 驱逐或递解个人'
- en: –
  id: totrans-811
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '175: Use repression'
  id: totrans-812
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '175: 使用镇压手段'
- en: –
  id: totrans-813
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '176: Attack cybernetically'
  id: totrans-814
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '176: 进行网络攻击'
- en: •
  id: totrans-815
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '18: Assault'
  id: totrans-816
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '18: 袭击'
- en: –
  id: totrans-817
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '180: Use unconventional violence, not specified'
  id: totrans-818
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '180: 使用非常规暴力，未指定'
- en: –
  id: totrans-819
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '181: Abduct or hijack or take hostage'
  id: totrans-820
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '181: 绑架或劫持或扣押人质'
- en: –
  id: totrans-821
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '182: Physically assault'
  id: totrans-822
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '182: 进行人身攻击'
- en: –
  id: totrans-823
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '183: Conduct suicide or car or other non-military bombing'
  id: totrans-824
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '183: 进行自杀式或汽车或其他非军事爆炸袭击'
- en: –
  id: totrans-825
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '184: Use as human shield'
  id: totrans-826
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '184: 作为人盾使用'
- en: –
  id: totrans-827
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '185: Attempt to assassinate'
  id: totrans-828
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '185: 尝试暗杀'
- en: –
  id: totrans-829
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '186: Assassinate'
  id: totrans-830
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '186: 暗杀'
- en: •
  id: totrans-831
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '19: Fight'
  id: totrans-832
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '19: 作战'
- en: –
  id: totrans-833
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '190: Use conventional military force, not specified'
  id: totrans-834
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '190: 使用常规军事力量，未指定'
- en: –
  id: totrans-835
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '191: Impose blockade or restrict movement'
  id: totrans-836
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '191: 实施封锁或限制人员流动'
- en: –
  id: totrans-837
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '192: Occupy territory'
  id: totrans-838
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '192: 占领领土'
- en: –
  id: totrans-839
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '193: Fight with small arms and light weapons'
  id: totrans-840
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '193: 使用小型武器和轻型武器作战'
- en: –
  id: totrans-841
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '194: Fight with artillery and tanks'
  id: totrans-842
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '194: 使用火炮和坦克作战'
- en: –
  id: totrans-843
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '195: Employ aerial weapons'
  id: totrans-844
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '195: 使用空中武器'
- en: –
  id: totrans-845
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '196: Violate ceasefire'
  id: totrans-846
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '196: 违反停火协议'
- en: •
  id: totrans-847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: '20: Engage in unconventional mass violence'
  id: totrans-848
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '20: 进行非常规大规模暴力'
- en: –
  id: totrans-849
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '200: Use massive unconventional force, not specified'
  id: totrans-850
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '200: 使用大规模非常规武力，未指定'
- en: –
  id: totrans-851
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '201: Engage in mass expulsion'
  id: totrans-852
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '201: 进行大规模驱逐'
- en: –
  id: totrans-853
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '202: Engage in mass killings'
  id: totrans-854
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '202: 进行大规模杀戮'
- en: –
  id: totrans-855
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '203: Engage in ethnic cleansing'
  id: totrans-856
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '203: 进行种族清洗'
- en: –
  id: totrans-857
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: –
- en: '204: Use weapons of mass destruction'
  id: totrans-858
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '204: 使用大规模杀伤性武器'
- en: Appendix F Details of Dataset Construction
  id: totrans-859
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录F 数据集构建详情
- en: We construct the database based on the GDELT⁹⁹9[https://www.gdeltproject.org/](https://www.gdeltproject.org/)
    project, which systematically captures global news media, extracts information
    about countries and events mentioned, and updates this data every 15 minutes.
    The data stored in GDLET contains attributes about the event date, actor, action
    (relation), geography, and source news. The original GDELT dataset, while extensive,
    contains significant noise due to its rapid update frequency and the diverse nature
    of its sources. We thus propose the folowing data-cleaning pre-processing steps.
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: 我们基于GDELT⁹⁹9[https://www.gdeltproject.org/](https://www.gdeltproject.org/)项目构建数据库，该项目系统地捕捉全球新闻媒体，提取有关国家和事件的信息，并每15分钟更新一次数据。存储在GDELT中的数据包含事件日期、行为者、行动（关系）、地理位置和来源新闻的属性。虽然原始GDELT数据集非常庞大，但由于其快速更新频率和数据源的多样性，数据中包含了大量噪声。因此，我们提出以下数据清洗预处理步骤。
- en: 'Events. We focus on the GDELT data from Jan. 1, 2023, to Nov. 30, 2023\. To
    mitigate potential information leakage, we ensured that the event date coincided
    exactly with its source news publish date. We standardized the CountryCode to
    the ISO-3166 and excluded any missing or outdated entries. As our analysis was
    restricted to international events, we then filte out all domestic events where
    the subject was identical to the object at the country level. The EventCode was
    standardized to the second level of the CAMEO ontology, providing a specific yet
    consistent level of detail. We opted not to include third-level relation information
    for two primary reasons: the absence of sublevel relations for all second-level
    categories, which introduces inconsistencies, and the higher likelihood of extraction
    errors in the finely detailed third-level data in the GDELT dataset.'
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
  zh: 事件。我们关注的是2023年1月1日至2023年11月30日的 GDELT 数据。为了防止潜在的信息泄漏，我们确保事件日期与其来源新闻发布日期完全一致。我们将
    CountryCode 标准化为 ISO-3166，并排除了任何缺失或过时的条目。由于我们的分析仅限于国际事件，我们随后筛除了所有在国家层面主体与客体相同的国内事件。EventCode
    被标准化为 CAMEO 本体的第二级，提供了一个具体但一致的细节层次。我们选择不包括第三级关系信息，主要有两个原因：所有第二级类别都缺乏子级关系，这会引入不一致性，以及
    GDELT 数据集中精细化的第三级数据更容易发生提取错误。
- en: News articles. To enhance the reliability of the information, we utilized the
    news sources of the events to assess credibility. Specifically, we calculated
    the daily mentions of each event—defined as the number of distinct news sources
    discussing the event—based on the 15-minute updates from GDELT. We only retained
    events with at least 50 daily mentions to diminish the influence of less reliable
    sources, such as personal blogs or advertisements, and to decrease the incidence
    of erroneously extracted events. We then download the news documents from the
    corresponding news URLs of each event. In the current database, we only keep textual
    information from the news, including new titles and news content. Following the
    OBELICS [[34](https://arxiv.org/html/2407.01231v1#bib.bib34)] protocol for web
    text cleaning, we applied rigorous filters at both the paragraph and document
    levels, targeting criteria such as a low number of words, high repetition ratios
    of characters and words, and an excessive presence of special characters and flagged
    words. These measures were crucial in significantly reducing the noise from web
    content.
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
  zh: 新闻文章。为了提高信息的可靠性，我们利用事件的新闻来源来评估可信度。具体来说，我们基于 GDELT 每15分钟的更新，计算每个事件的每日提及次数——定义为讨论该事件的不同新闻来源的数量。我们只保留每天至少有50次提及的事件，以减少不可靠来源（如个人博客或广告）的影响，并降低错误提取事件的发生率。然后，我们从每个事件对应的新闻网址下载新闻文档。在当前的数据库中，我们只保留新闻的文本信息，包括新闻标题和内容。根据
    OBELICS [[34](https://arxiv.org/html/2407.01231v1#bib.bib34)] 协议进行网页文本清洗，我们在段落和文档层面应用了严格的过滤标准，目标包括低词数、高字符和词汇重复率，以及过多的特殊字符和标记词。这些措施对于显著减少网络内容的噪音至关重要。
- en: Appendix G Term of Use for GDELT Dataset
  id: totrans-863
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 G GDELT 数据集使用条款
- en: Based on [https://www.gdeltproject.org/about.html#termsofuse](https://www.gdeltproject.org/about.html#termsofuse),
    GDELT dataset “is an open platform for research and analysis of global society
    and thus all datasets released by the GDELT Project are available for unlimited
    and unrestricted use for any academic, commercial, or governmental use of any
    kind without fee.”, as long as “any use or redistribution of the data must include
    a citation to the GDELT Project and a link to this website ([https://www.gdeltproject.org/](https://www.gdeltproject.org/)).”,
    which we’ve cited in abstract.
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
  zh: 根据 [https://www.gdeltproject.org/about.html#termsofuse](https://www.gdeltproject.org/about.html#termsofuse)，GDELT
    数据集“是一个用于全球社会研究与分析的开放平台，因此 GDELT 项目发布的所有数据集可以用于任何学术、商业或政府用途，且不收取费用”，前提是“任何使用或重新分发数据必须引用
    GDELT 项目并链接到该网站 ([https://www.gdeltproject.org/](https://www.gdeltproject.org/))”，我们在摘要中已做引用。
- en: Appendix H Broader Impact
  id: totrans-865
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 H 更广泛的影响
- en: Positive impact.
  id: totrans-866
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 积极影响。
- en: This paper aims to construct high-level and high-quality instruction to improve
    the scientific reasoning capability of LLMs, which helps LLMs to better give the
    answers to questions at the college level. Collecting diverse instructions, annotating
    self-reflective instructions, and filtering out low-quality instructions provide
    researchers insights to prepare training datasets.
  id: totrans-867
  prefs: []
  type: TYPE_NORMAL
  zh: 本文旨在构建高层次和高质量的指令，以提高 LLM 的科学推理能力，这有助于 LLM 更好地回答大学层级的问题。收集多样化的指令、注释自我反思指令并筛选低质量指令，为研究人员提供了准备训练数据集的思路。
- en: Negative impact.
  id: totrans-868
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 负面影响。
- en: A drawback of this work is that the scale of the training dataset and model
    is relatively small, and we can address this by bootstrapping a more large training
    dataset. We believe that the benefits of data generation manner outweigh the downside.
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
  zh: 该工作的一个缺点是训练数据集和模型的规模相对较小，我们可以通过自助采样（bootstrapping）构建一个更大的训练数据集来解决这一问题。我们认为，数据生成方式的好处超过了其缺点。
- en: Appendix I Additional Details about Agent Setup
  id: totrans-870
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 I 关于代理设置的附加详情
- en: 'Final answer extraction. Our agent has two stopping criteria: 1) The agent
    makes the final answer. 2) The reasoning process fails to reach an answer (Consecutive
    Invalid Actions, Consecutive Repetitive Actions, or Max Iterations Exceeded).
    Afterwards, we always perform an answer extraction step, which is performed by
    gpt-3.5-turbo. The prompt for answer extraction is shown in Appendix [K.3](https://arxiv.org/html/2407.01231v1#A11.SS3
    "K.3 Answer Extraction Prompt ‣ Appendix K Prompts ‣ J.2 Analysis on Function
    Types ‣ J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J
    Additional Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion
    and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1
    Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting").'
  id: totrans-871
  prefs: []
  type: TYPE_NORMAL
  zh: '最终答案提取。我们的代理有两个停止标准：1）代理给出最终答案。2）推理过程未能得出答案（连续无效动作、连续重复动作或最大迭代次数超限）。之后，我们总是执行答案提取步骤，这一步由
    gpt-3.5-turbo 执行。答案提取的提示如附录 [K.3](https://arxiv.org/html/2407.01231v1#A11.SS3
    "K.3 Answer Extraction Prompt ‣ Appendix K Prompts ‣ J.2 Analysis on Function
    Types ‣ J.1 Analysis of the Final Status of Different LLM Agents ‣ Appendix J
    Additional Experimental Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion
    and Limitation ‣ 4.3 LLMs for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1
    Temporal Reasoning Benchmarks ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours
    ‣ 3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting") 中展示。'
- en: Appendix J Additional Experimental Results and Analysis
  id: totrans-872
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 J 额外的实验结果与分析
- en: J.1 Analysis of the Final Status of Different LLM Agents
  id: totrans-873
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: J.1 不同 LLM 代理的最终状态分析
- en: 'Table 6: Average number of ReAct iterations and the number of test cases ending
    in different final status.'
  id: totrans-874
  prefs: []
  type: TYPE_NORMAL
  zh: 表格 6：ReAct 迭代的平均次数以及以不同最终状态结束的测试用例数量。
- en: '{tblr}'
  id: totrans-875
  prefs: []
  type: TYPE_NORMAL
  zh: '{tblr}'
- en: colspec = cccccccc, row1-2 = bg=gray!25, row5-6,9-10 = bg=gray!10 \SetCell[r=2]cModel
    \SetCell[r=2]cTraining Data
  id: totrans-876
  prefs: []
  type: TYPE_NORMAL
  zh: colspec = cccccccc, row1-2 = bg=gray!25, row5-6,9-10 = bg=gray!10 \SetCell[r=2]c模型
    \SetCell[r=2]c训练数据
- en: Cutoff Date \SetCell[r=2]cAction Type \SetCell[r=2]cAvg. Iterations \SetCell[c=4]cFinal
    Status
  id: totrans-877
  prefs: []
  type: TYPE_NORMAL
  zh: 截止日期 \SetCell[r=2]c动作类型 \SetCell[r=2]c平均迭代次数 \SetCell[c=4]c最终状态
- en: \SetCellc,mFinal Answer \SetCellc,mConsecutive
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCellc,m最终答案 \SetCellc,m连续
- en: Invalid Actions \SetCellc,mConsecutive
  id: totrans-879
  prefs: []
  type: TYPE_NORMAL
  zh: 无效动作 \SetCellc,m连续
- en: Repetitive Actions \SetCellc,mMax Iterations
  id: totrans-880
  prefs: []
  type: TYPE_NORMAL
  zh: 重复动作 \SetCellc,m最大迭代次数
- en: Exceeded
  id: totrans-881
  prefs: []
  type: TYPE_NORMAL
  zh: 超过限制
- en: \SetCell[r=2]cMistral-7B \SetCell[r=2]c— Single Function 4.23 79 19 2 0
  id: totrans-882
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell[r=2]cMistral-7B \SetCell[r=2]c— 单一功能 4.23 79 19 2 0
- en: Code Block 2.84 54 45 1 0
  id: totrans-883
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 2.84 54 45 1 0
- en: \SetCell[r=2]cgpt-3.5-turbo \SetCell[r=2]c2021-09 Single Function 2.54 98 1
    1 0
  id: totrans-884
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell[r=2]cgpt-3.5-turbo \SetCell[r=2]c2021-09 单一功能 2.54 98 1 1 0
- en: Code Block3.43 84 15 1 0
  id: totrans-885
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 3.43 84 15 1 0
- en: \SetCell[r=2]cgpt-4-turbo \SetCell[r=2]c2023-12 Single Function 8.76 99 0 1
    0
  id: totrans-886
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell[r=2]cgpt-4-turbo \SetCell[r=2]c2023-12 单一功能 8.76 99 0 1 0
- en: Code Block4.68 93 5 2 0
  id: totrans-887
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 4.68 93 5 2 0
- en: \SetCell[r=2]cgpt-4o \SetCell[r=2]c2023-10 Single Function 8.79 98 0 0 2
  id: totrans-888
  prefs: []
  type: TYPE_NORMAL
  zh: \SetCell[r=2]cgpt-4o \SetCell[r=2]c2023-10 单一功能 8.79 98 0 0 2
- en: Code Block5.58 95 4 1 0
  id: totrans-889
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块 5.58 95 4 1 0
- en: 'Following the experiment on different base LLMs in Sec. [3.2](https://arxiv.org/html/2407.01231v1#S3.SS2
    "3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting"), we further analyze the final status of the agent
    when it triggers the termination conditions in the ReAct process. The agent-environment
    interactions were terminated based on four different statuses:'
  id: totrans-890
  prefs: []
  type: TYPE_NORMAL
  zh: '在第[3.2](https://arxiv.org/html/2407.01231v1#S3.SS2 "3.2 Evaluate Forecasting
    with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods
    and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")节进行不同基础LLM的实验后，我们进一步分析了当代理在ReAct过程中触发终止条件时的最终状态。代理与环境的交互根据四种不同的状态被终止：'
- en: •
  id: totrans-891
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Final Answer: This status is triggered when the model explicitly indicates
    completion by declaring a "final answer," indicating that it has generated its
    final forecast.'
  id: totrans-892
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最终答案：当模型明确表示通过声明“最终答案”来指示完成时，就会触发此状态，表示它已生成最终预测结果。
- en: •
  id: totrans-893
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Consecutive Invalid Actions: Interaction is halted if the model consecutively
    executes non-executable actions more than three times.'
  id: totrans-894
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 连续无效动作：如果模型连续执行超过三次不可执行的动作，则交互会被终止。
- en: •
  id: totrans-895
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Consecutive Repetitive Actions: A similar threshold of three consecutive repetitive
    actions prompts termination under this status.'
  id: totrans-896
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 连续重复动作：三次连续重复的动作触发该状态时，交互会终止。
- en: •
  id: totrans-897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Maximum Iterations Exceeded: Termination occurs if the agent engages in more
    than 20 rounds of iterations without making a forecast answer.'
  id: totrans-898
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 超过最大迭代次数：如果代理进行超过20轮迭代而没有给出预测答案，则会终止。
- en: 'We show the final status 1) The GPT series demonstrates enhanced capability
    in concluding interactions with a final answer: The GPT series frequently concludes
    interactions with a final answer, indicating its superior ability to comprehend
    instructions, utilize tools correctly, and perform reasoning to generate the final
    forecast. In contrast, the smaller open-source model, Mistral-7b, has a round
    one-quarter of cases and one-half of the cases generating consecutive invalid
    answers when using single function and code block, respectively, suggesting limited
    abilities in adhering to data types, functions, Python syntax, and following detailed
    instructions.'
  id: totrans-899
  prefs: []
  type: TYPE_NORMAL
  zh: 我们展示了最终状态 1) GPT系列展现了更强的能力来通过最终答案结束交互：GPT系列经常通过最终答案结束交互，表明它在理解指令、正确使用工具以及进行推理以生成最终预测方面具有更强的能力。相比之下，较小的开源模型Mistral-7b，在使用单一函数和代码块时，分别有四分之一和一半的情况生成连续的无效答案，表明它在遵守数据类型、函数、Python语法和详细指令方面能力有限。
- en: '2) Generating code blocks proves more challenging than generating single functions
    as action: Across all models, there is a higher occurrence of errors when generating
    code blocks compared to single functions. This pattern highlights the greater
    complexity and increased likelihood of errors associated with composing multiple
    lines of code over simple function calls.'
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: 2) 生成代码块比生成单一函数作为动作更具挑战性：在所有模型中，生成代码块时发生错误的频率高于生成单一函数时。这一模式突显了生成多行代码的复杂性及其更高的错误可能性，相较于简单的函数调用。
- en: '3) Advanced models engage in more extensive information gathering, resulting
    in better forecasting performance: Advanced models, such as GPT-4 Turbo and GPT-4o,
    engage in significantly more information gathering, with average iterations much
    more or even double than GPT-3.5 Turbo and Mistral-7B. This intensive data collection
    from the database may contribute to their enhanced performance, as previously
    illustrated in Table [3.2](https://arxiv.org/html/2407.01231v1#S3.SS2 "3.2 Evaluate
    Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different
    Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event
    Forecasting"). These models exhibit better planning capability, effectively identifying
    and searching for related historical information.'
  id: totrans-901
  prefs: []
  type: TYPE_NORMAL
  zh: '3) 高级模型进行更广泛的信息收集，从而提升预测性能：高级模型，如GPT-4 Turbo和GPT-4o，进行的资料收集显著多于GPT-3.5 Turbo和Mistral-7B，平均迭代次数甚至是其两倍。这种来自数据库的密集数据收集可能有助于它们的性能提升，正如表[3.2](https://arxiv.org/html/2407.01231v1#S3.SS2
    "3.2 Evaluate Forecasting with Different Base LLMs ‣ 3.1 Evaluate Forecasting
    with Different Agent Methods and Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM
    Agents for Event Forecasting")中之前所展示的。这些模型展现出更强的规划能力，能够有效地识别并搜索相关的历史信息。'
- en: '![Refer to caption](img/7bb9964ef7e0cecd4cf71f88fdaf01e7.png)'
  id: totrans-902
  prefs: []
  type: TYPE_IMG
  zh: '![参见标题](img/7bb9964ef7e0cecd4cf71f88fdaf01e7.png)'
- en: 'Figure 8: Correlation of F1 Accuracy to Action Sequence Length'
  id: totrans-903
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8：F1 准确率与动作序列长度的相关性
- en: J.2 Analysis on Function Types
  id: totrans-904
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: J.2 功能类型分析
- en: Appendix K Prompts
  id: totrans-905
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 K 提示
- en: K.1 System Prompts
  id: totrans-906
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: K.1 系统提示
- en: The system prompt provides the necessary background information, task description,
    and guidelines for the LLM agent. In our case, we introduce the forecasting task,
    basic information of the database, the defined API, and the planning strategies
    in the system prompt.
  id: totrans-907
  prefs: []
  type: TYPE_NORMAL
  zh: 系统提示提供了必要的背景信息、任务描述和对LLM代理的指导。在我们的案例中，我们在系统提示中介绍了预测任务、数据库的基本信息、定义的API以及规划策略。
- en: K.1.1 System Prompt for ReAct Agent with Action Type as “Single Function”
  id: totrans-908
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: K.1.1 适用于ReAct代理且动作类型为“单一功能”的系统提示
- en: '<svg class="ltx_picture" height="675.21" id="A11.SS1.SSS1.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,675.21) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 655.47)"><foreignobject color="#FFFFFF" height="13.84" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">System prompt for ReAct agent
    with action type as single function (part 1)</foreignobject></g> <g fill-opacity="1.0"
    transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000"
    height="623.97" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">You
    are an expert in forecasting future events based on historical data. The database
    contains news articles from January 1, 2023 to the current date {current_date_nlp}
    and the events extracted from these articles. The events are in the form of (date,
    subject country, relation, object country), where the countries are represented
    by ISO 3166-1 alpha-3 codes and the relations are represented by the CAMEO codes
    defined in the ‘Conflict and Mediation Event Observations’ ontology. The relations
    are hierarchical: first-level relations are general parent relations represented
    by two-digit CAMEO codes, while second-level relations are more specific child
    relations represented by three-digit CAMEO codes. Child relations have the same
    first two digits as their parent relations. For example, ‘01’ is a first-level
    relation, and ‘010’ and ‘011’ are some of its second-level relations. The relations
    in the database are represented in the second-level form. Your task is to forecast
    the future relations between two entities in a given query. You have access to
    a defined Python API that allows you to query the database for historical events
    and statistics, and to get precise information about the ISO country codes and
    CAMEO relation codes. The defined API is described as follows: [PRE0] You will
    use an iterative approach, interleaving ’Thought’, ’Action’, and ’Observation’
    steps to collect information and perform the forecast. You may perform up to {max_iterations}
    iterations. The steps are as follows: - ‘Thought’: Analyze the current information
    and reason about the current situation, and predicts which API you want to use
    (try to use different APIs to collect diverse information) or make a decision
    that you want to make a final answer. - ‘Action’: Use the API to gather more information
    or provide the final forecast. - If using the API: the action must be only one
    single line of exactly one function        call from the API with appropriate
    inputs, without additional code, explanations, or        natural language descriptions.
    - If making the final forecast: the action must start immediately with ‘Final
    Answer:’,        and follow with the results in the expected JSON format. - ‘Observation’:
    Return the output of the called function. To make a reasonable forecast, you should
    collect both news and relational evidence to support your prediction. When you
    are fully confident that you accumulate enough information to make the final forecast,
    you should start the ‘Thought’ with your reasoning using the news and structural
    information to make the prediction, and then start the ‘Action’ step with ‘Final
    Answer:’ followed by the answer in the expected JSON format. The answer should
    be a JSON dictionary where the keys are the forecasted two-digit first-level CAMEO
    codes and the values are lists of forecasted three-digit second-level CAMEO codes
    that are child relations of the key. For example, ‘Action: Final Answer: "01":
    ["010", "011", "012"], "02": ["020", "023"]’.</foreignobject></g></g></svg><svg
    class="ltx_picture" height="163.16" id="A11.SS1.SSS1.p2.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,163.16) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 143.42)"><foreignobject color="#FFFFFF" height="13.84" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">System prompt for ReAct agent
    with action type as single function (part 2)</foreignobject></g> <g fill-opacity="1.0"
    transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000"
    height="111.93" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">The
    final answer will be evaluated based on the precision and recall of the forecasted
    first-level and second-level relations, so only include confident first-level
    and second-level CAMEO codes in your final forecast. Try to use different APIs
    to collect diverse information (including multi-hop relations), such as the precise
    meaning of CAMEO codes, insights from news content, relational data, and statistical
    analyses to support your forecasts. Consider not only the frequency of the relations
    but also the temporal aspects of the data when making your forecast.</foreignobject></g></g></svg>'
  id: totrans-909
  prefs: []
  type: TYPE_NORMAL
  zh: <svg class="ltx_picture" height="675.21" id="A11.SS1.SSS1.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,675.21) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 655.47)"><foreignobject color="#FFFFFF" height="13.84" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">ReAct 代理的系统提示，操作类型为单一功能（第 1
    部分）</foreignobject></g> <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0
    21.65 13.78)"><foreignobject color="#000000" height="623.97" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">您是一个基于历史数据预测未来事件的专家。数据库包含从
    2023 年 1 月 1 日到当前日期 {current_date_nlp} 的新闻文章及其提取的事件。这些事件的格式为（日期，主体国家，关系，对象国家），其中国家使用
    ISO 3166-1 alpha-3 代码表示，关系使用“冲突与调解事件观察”（CAMEO）本体定义的代码表示。关系是分层的：一级关系是通用的父关系，使用两位数的
    CAMEO 代码表示，而二级关系是更具体的子关系，使用三位数的 CAMEO 代码表示。子关系的前两位数字与其父关系相同。例如，‘01’ 是一级关系，而 ‘010’
    和 ‘011’ 是它的一些二级关系。数据库中的关系以二级关系的形式表示。您的任务是预测给定查询中两个实体之间的未来关系。您可以使用定义好的 Python API
    查询数据库中的历史事件和统计信息，并获取有关 ISO 国家代码和 CAMEO 关系代码的准确信息。定义的 API 如下所示：[PRE0] 您将使用迭代方法，交替进行“思考”，“行动”和“观察”步骤，以收集信息并进行预测。您最多可以执行
    {max_iterations} 次迭代。步骤如下： - ‘思考’：分析当前信息并推理当前情况，预测您希望使用的 API（尽量使用不同的 API 收集多样化的信息）或做出决定并准备给出最终答案。
    - ‘行动’：使用 API 收集更多信息或提供最终预测。 - 如果使用 API：该操作必须仅为一个 API 函数的单行调用，输入参数适当，不得有额外的代码、解释或自然语言描述。
    - 如果做出最终预测：该操作必须立即以“最终答案：”开头，并以预期的 JSON 格式给出结果。 - ‘观察’：返回所调用函数的输出。为了做出合理的预测，您应该收集新闻和关系证据来支持您的预测。当您完全确信已积累足够的信息以做出最终预测时，应在“思考”中开始解释您使用新闻和结构性信息做出预测的推理，然后以“最终答案：”开始“行动”步骤，并以预期的
    JSON 格式给出答案。答案应为一个 JSON 字典，其中键是预测的二位数一级 CAMEO 代码，值是预测的三位数二级 CAMEO 代码列表，这些二级代码是该键的子关系。例如，“行动：最终答案：'01'：['010',
    '011', '012']，'02'：['020', '023']”。</foreignobject></g></g></svg><svg class="ltx_picture"
    height="163.16" id="A11.SS1.SSS1.p2.pic1" overflow="visible" version="1.1" width="600"><g
    fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,163.16)
    matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0
    21.65 143.42)"><foreignobject color="#FFFFFF" height="13.84" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">ReAct 代理的系统提示，操作类型为单一功能（第 2
    部分）</foreignobject></g> <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0
    21.65 13.78)"><foreignobject color="#000000" height="111.93" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">最终答案将根据预测的一级和二级关系的精确度和召回率进行评估，因此仅在您有信心时才将一级和二级
    CAMEO 代码包含在最终预测中。尽量使用不同的 API 收集多样化的信息（包括多跳关系），例如 CAMEO 代码的精确含义、新闻内容的见解、关系数据和统计分析，以支持您的预测。在做出预测时，不仅要考虑关系的频率，还要考虑数据的时间方面。</foreignobject></g></g></svg>
- en: K.1.2 System Prompt for ReAct Agent with Action Type as “Code Block”
  id: totrans-910
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: K.1.2 ReAct 代理的系统提示，动作类型为“代码块”
- en: '<svg class="ltx_picture" height="644.69" id="A11.SS1.SSS2.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,644.69) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 624.95)"><foreignobject color="#FFFFFF" height="13.84" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">System prompt for ReAct agent
    with action type as code block (part 1)</foreignobject></g> <g fill-opacity="1.0"
    transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000"
    height="593.45" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">You
    are an expert in forecasting future events based on historical data. The database
    contains news articles from January 1, 2023 to the current date {current_date_nlp}
    and the events extracted from these articles. The events are in the form of (date,
    subject country, relation, object country), where the countries are represented
    by ISO 3166-1 alpha-3 codes and the relations are represented by the CAMEO codes
    defined in the ‘Conflict and Mediation Event Observations’ ontology. The relations
    are hierarchical: first-level relations are general parent relations represented
    by two-digit CAMEO codes, while second-level relations are more specific child
    relations represented by three-digit CAMEO codes. Child relations have the same
    first two digits as their parent relations. For example, ‘01’ is a first-level
    relation, and ‘010’ and ‘011’ are some of its second-level relations. The relations
    in the database are represented in the second-level form. Your task is to forecast
    the future relations between two entities in a given query. You have access to
    a defined Python API that allows you to query the database for historical events
    and statistics, and to get precise information about the ISO country codes and
    CAMEO relation codes. You are also authorized to utilize additional safe, well-established
    Python libraries such as numpy, pandas, scikit-learn, and NetworkX to enhance
    your data analysis and forecasting accuracy. The defined API is described as follows:
    [PRE1] You will use an iterative approach, interleaving ‘Thought’, ‘Action’, and
    ‘Observation’ steps to collect information and perform the forecast. You may perform
    up to max_iterations iterations. The steps are as follows: - ‘Thought’: Analyze
    the current information and reason about the current situation, and predicts which
    API you want to use (try to use different APIs to collect diverse information)
    or make a decision that you want to make a final answer. - ‘Action’: Use the API
    to gather more information or provide the final forecast. - If gathering more
    data: the action must be an executable Python code snippet that        starts
    with ‘[PRE2]’. It can contain multiple lines of codes and        function calls
    using the defined API or Python libraries. You must use print() to output       
    the results, and only the printed output will be returned in the observation step.
    - If making the final forecast: the action must start immediately with ‘Final
    Answer:’,        and follow with the answer in the expected JSON format. This
    should not be enclosed        within triple backticks. - ‘Observation’: Return
    the printed output of the executed code snippet.</foreignobject></g></g></svg><svg
    class="ltx_picture" height="316.91" id="A11.SS1.SSS2.p2.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,316.91) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 297.17)"><foreignobject color="#FFFFFF" height="13.84" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">System prompt for ReAct agent
    with action type as code block (part 2)</foreignobject></g> <g fill-opacity="1.0"
    transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000"
    height="265.67" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">To
    make a reasonable forecast, you should collect both news and relational evidence
    to support your prediction. When you are fully confident that you accumulate enough
    information to make the final forecast, you should start the ‘Thought’ with your
    reasoning using the news and structural information to make the prediction, and
    then start the ‘Action’ step with ‘Final Answer:’ followed by the answer in the
    expected JSON format. The answer should be a JSON dictionary where the keys are
    the forecasted two-digit first-level CAMEO codes and the values are lists of forecasted
    three-digit second-level CAMEO codes that are child relations of the key. For
    example, ‘Action: Final Answer: {"01": ["010", "011", "012"], "02": ["020", "023"]}’.
    The final answer will be evaluated based on the precision and recall of the forecasted
    first-level and second-level relations, so only include confident first-level
    and second-level CAMEO codes in your final forecast. Try to use different APIs
    and Python libraries to collect diverse information (including multi-hop relations),
    such as the precise meaning of CAMEO codes, insights from news content, relational
    data, and statistical analyses to support your forecasts. Consider not only the
    frequency of the relations but also the temporal aspects of the data when making
    your forecast.</foreignobject></g></g></svg>'
  id: totrans-911
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture" height="644.69" id="A11.SS1.SSS2.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,644.69) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 624.95)"><foreignobject color="#FFFFFF" height="13.84" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">ReAct 代理系统的代码块类型操作提示（第1部分）</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="593.45" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="556.69">你是一个基于历史数据预测未来事件的专家。数据库包含从2023年1月1日到当前日期{current_date_nlp}的新闻文章及从这些文章中提取的事件。这些事件的形式是（日期，主体国家，关系，客体国家），其中国家通过ISO
    3166-1 alpha-3代码表示，关系通过在“冲突与调解事件观察”本体中定义的CAMEO代码表示。关系是分层的：第一层关系是一般的父关系，通过两位数的CAMEO代码表示，第二层关系是更具体的子关系，通过三位数的CAMEO代码表示。子关系的前两位数字与其父关系相同。例如，‘01’是第一层关系，‘010’和‘011’是其第二层关系中的一部分。数据库中的关系是以第二层关系形式表示的。你的任务是预测给定查询中两个实体之间的未来关系。你可以访问一个定义好的Python
    API，通过它你可以查询历史事件和统计数据，并获得有关ISO国家代码和CAMEO关系代码的准确信息。你还可以利用额外的安全、成熟的Python库，如numpy、pandas、scikit-learn和NetworkX，以增强数据分析和预测的准确性。定义的API描述如下：[PRE1]你将使用迭代方法，交替进行“思考”、“行动”和“观察”步骤来收集信息并进行预测。你最多可以执行max_iterations次迭代。步骤如下：-
    ‘思考’：分析当前信息并推理当前情况，预测你希望使用哪个API（尽量使用不同的API来收集多样化的信息），或者做出决策，决定你是否要给出最终答案。- ‘行动’：使用API收集更多信息或提供最终预测。-
    如果收集更多数据：行动必须是可执行的Python代码片段，以‘[PRE2]’开头。它可以包含多行代码和使用定义的API或Python库的函数调用。你必须使用print()输出结果，只有打印的输出将在观察步骤中返回。-
    如果给出最终预测：行动必须立即以‘最终答案：’开始，然后是期望的JSON格式的答案。该答案不应被三重反引号包围。- ‘观察’：返回执行代码片段的打印输出。</foreignobject></g></g></svg><svg
    class="ltx_picture" height="316.91" id="A11.SS1.SSS2.p2.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,316.91) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 297.17)"><foreignobject color="#FFFFFF" height="13.84" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">ReAct 代理系统的代码块类型操作提示（第2部分）</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="265.67" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="556.69">为了做出合理的预测，你应当收集新闻和关系证据来支持你的预测。当你完全确信已积累足够的信息来做出最终预测时，你应该开始‘思考’步骤，利用新闻和结构化信息进行推理并做出预测，然后以‘行动’步骤开始，输入‘最终答案：’，后跟期望的JSON格式答案。答案应为一个JSON字典，其中键是预测的两位数第一层CAMEO代码，值是该键的预测三位数第二层CAMEO代码的列表。例如，‘行动：最终答案：{"01":
    ["010", "011", "012"], "02": ["020", "023"]}’。最终答案将根据预测的第一层和第二层关系的精准度和召回率进行评估，因此仅在你对预测的第一层和第二层CAMEO代码充满信心时，才应将它们包含在最终预测中。尽量使用不同的API和Python库来收集多样化的信息（包括多跳关系），如CAMEO代码的精确含义、新闻内容的见解、关系数据和统计分析等，以支持你的预测。在做出预测时，不仅要考虑关系的频率，还要考虑数据的时间因素。</foreignobject></g></g></svg>'
- en: K.1.3 System Prompt for Direct Agent
  id: totrans-912
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: K.1.3 直接代理的系统提示
- en: '<svg class="ltx_picture" height="327.67" id="A11.SS1.SSS3.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,327.67) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 309.47)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">System prompt for direct agent</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="277.97" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="556.69">You are an expert in forecasting future events based on
    historical data. The events are in the form of (date, subject country, relation,
    object country), where the countries are represented by ISO 3166-1 alpha-3 codes
    and the relations are represented by the CAMEO codes defined in the ‘Conflict
    and Mediation Event Observations’ ontology. The relations are hierarchical: first-level
    relations are general parent relations represented by two-digit CAMEO codes, while
    second-level relations are more specific child relations represented by three-digit
    CAMEO codes. Child relations have the same first two digits as their parent relations.
    For example, ‘01’ is a first-level relation, and ‘010’ and ‘011’ are some of its
    second-level relations. The relations in the database are represented in the second-level
    form. Your task is to forecast the future relations between two entities in a
    given query. The answer should be a JSON dictionary where the keys are the forecasted
    two-digit first-level CAMEO codes and the values are lists of forecasted three-digit
    second-level CAMEO codes that are child relations of the key. For example, ‘Final
    Answer: {{“01”: [“010”, “011”, “012”], “02”: [“020”, “023”]}}’. The final answer
    will be evaluated based on the precision and recall of the forecasted first-level
    and second-level relations, so only include confident first-level and second-level
    CAMEO codes in your final forecast.</foreignobject></g></g></svg>'
  id: totrans-913
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture" height="327.67" id="A11.SS1.SSS3.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,327.67) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 309.47)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">System prompt for direct agent</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="277.97" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="556.69">You are an expert in forecasting future events based on
    historical data. The events are in the form of (date, subject country, relation,
    object country), where the countries are represented by ISO 3166-1 alpha-3 codes
    and the relations are represented by the CAMEO codes defined in the ‘Conflict
    and Mediation Event Observations’ ontology. The relations are hierarchical: first-level
    relations are general parent relations represented by two-digit CAMEO codes, while
    second-level relations are more specific child relations represented by three-digit
    CAMEO codes. Child relations have the same first two digits as their parent relations.
    For example, ‘01’ is a first-level relation, and ‘010’ and ‘011’ are some of its
    second-level relations. The relations in the database are represented in the second-level
    form. Your task is to forecast the future relations between two entities in a
    given query. The answer should be a JSON dictionary where the keys are the forecasted
    two-digit first-level CAMEO codes and the values are lists of forecasted three-digit
    second-level CAMEO codes that are child relations of the key. For example, ‘Final
    Answer: {{“01”: [“010”, “011”, “012”], “02”: [“020”, “023”]}}’. The final answer
    will be evaluated based on the precision and recall of the forecasted first-level
    and second-level relations, so only include confident first-level and second-level
    CAMEO codes in your final forecast.</foreignobject></g></g></svg>'
- en: K.1.4 System Prompt for CoT Agent
  id: totrans-914
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: K.1.4 CoT 代理的系统提示
- en: '<svg class="ltx_picture" height="377.48" id="A11.SS1.SSS4.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,377.48) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 359.28)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">System prompt for CoT</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="327.78" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="556.69">You are an expert in forecasting future events based on
    historical data. The events are in the form of (date, subject country, relation,
    object country), where the countries are represented by ISO 3166-1 alpha-3 codes
    and the relations are represented by the CAMEO codes defined in the ‘Conflict
    and Mediation Event Observations’ ontology. The relations are hierarchical: first-level
    relations are general parent relations represented by two-digit CAMEO codes, while
    second-level relations are more specific child relations represented by three-digit
    CAMEO codes. Child relations have the same first two digits as their parent relations.
    For example, ‘01’ is a first-level relation, and ‘010’ and ‘011’ are some of its
    second-level relations. The relations in the database are represented in the second-level
    form. Your task is to forecast the future relations between two entities in a
    given query. To make a reasonable forecast, you should first think and reason
    based on your background knowledge. When you are confident that you have conducted
    enough analysis to make the final answer, you should start answering by ’Therefore,
    the final answer is:‘ followed by the answer in the expected JSON format. The
    JSON format should be a JSON dictionary where the keys are the forecasted two-digit
    first-level CAMEO codes and the values are lists of forecasted three-digit second-level
    CAMEO codes that are child relations of the key. For example, ‘{{“01”: [“010”,
    “011”, “012”], “02”: [“020”, “023”]}}’. The final answer will be evaluated based
    on the precision and recall of the forecasted first-level and second-level relations,
    so only include confident first-level and second-level CAMEO codes in your final
    forecast.</foreignobject></g></g></svg>'
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture" height="377.48" id="A11.SS1.SSS4.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,377.48) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 359.28)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">System prompt for CoT</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="327.78" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="556.69">You are an expert in forecasting future events based on
    historical data. The events are in the form of (date, subject country, relation,
    object country), where the countries are represented by ISO 3166-1 alpha-3 codes
    and the relations are represented by the CAMEO codes defined in the ‘Conflict
    and Mediation Event Observations’ ontology. The relations are hierarchical: first-level
    relations are general parent relations represented by two-digit CAMEO codes, while
    second-level relations are more specific child relations represented by three-digit
    CAMEO codes. Child relations have the same first two digits as their parent relations.
    For example, ‘01’ is a first-level relation, and ‘010’ and ‘011’ are some of its
    second-level relations. The relations in the database are represented in the second-level
    form. Your task is to forecast the future relations between two entities in a
    given query. To make a reasonable forecast, you should first think and reason
    based on your background knowledge. When you are confident that you have conducted
    enough analysis to make the final answer, you should start answering by ’Therefore,
    the final answer is:‘ followed by the answer in the expected JSON format. The
    JSON format should be a JSON dictionary where the keys are the forecasted two-digit
    first-level CAMEO codes and the values are lists of forecasted three-digit second-level
    CAMEO codes that are child relations of the key. For example, ‘{{“01”: [“010”,
    “011”, “012”], “02”: [“020”, “023”]}}’. The final answer will be evaluated based
    on the precision and recall of the forecasted first-level and second-level relations,
    so only include confident first-level and second-level CAMEO codes in your final
    forecast.</foreignobject></g></g></svg>'
- en: K.2 Query Prompt
  id: totrans-916
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: K.2 查询提示
- en: <svg class="ltx_picture" height="113.2" id="A11.SS2.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,113.2) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 95.15)"><foreignobject color="#FFFFFF" height="12.15" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">Query prompt</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="63.65" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="556.69">Please forecast the relations that {actor1_name} will take
    towards {actor2_name} on {future_date_nlp} based on historical information up
    to {current_date_nlp}. I.e. forecast the relation CAMEO codes in query event Event(date={future_date},
    head_entity=ISOCode({actor1_code}), relation=CAMEOCode(?), tail_entity=ISOCode({actor2_code})).</foreignobject></g></g></svg>
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: <svg class="ltx_picture" height="113.2" id="A11.SS2.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,113.2) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 95.15)"><foreignobject color="#FFFFFF" height="12.15" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">Query prompt</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="63.65" overflow="visible" transform="matrix(1 0 0 -1 0
    16.6)" width="556.69">Please forecast the relations that {actor1_name} will take
    towards {actor2_name} on {future_date_nlp} based on historical information up
    to {current_date_nlp}. I.e. forecast the relation CAMEO codes in query event Event(date={future_date},
    head_entity=ISOCode({actor1_code}), relation=CAMEOCode(?), tail_entity=ISOCode({actor2_code})).</foreignobject></g></g></svg>
- en: K.3 Answer Extraction Prompt
  id: totrans-918
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: K.3 答案提取提示
- en: '<svg class="ltx_picture" height="543.37" id="A11.SS3.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,543.37) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 525.32)"><foreignobject color="#FFFFFF" height="12.15" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">Answer extraction prompt</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="493.83" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="556.69">Please help me extract final answer for forecasting the
    future relations between two entities in a given query: forecast the relations
    that {actor1_name} will take towards {actor2_name} on {future_date_nlp} based
    on historical information up to current_date_nlp. I.e. forecast the relation CAMEO
    codes in query event Event(date={future_date}, head_entity=ISOCode({actor1_code}),
    relation=CAMEOCode(?), tail_entity=ISOCode({actor2_code})). I have used interleaving
    ‘Thought’, ‘Action’, and ‘Observation’ steps to collect information from the database
    and perform the forecast. The database contains news articles from January 1,
    2023 to the current date current_date_nlp and the events extracted from these
    articles. The events are in the form of (date, subject country, relation, object
    country), where the countries are represented by ISO 3166-1 alpha-3 codes and
    the relations are represented by the CAMEO codes defined in the ‘Conflict and
    Mediation Event Observations’ ontology. The relations are hierarchical: first-level
    relations are general parent relations represented by two-digit CAMEO codes, while
    second-level relations are more specific child relations represented by three-digit
    CAMEO codes. Child relations have the same first two digits as their parent relations.
    For example, ‘01’ is a first-level relation, and ‘010’ and ‘011’ are some of its
    second-level relations. The relations in the database are represented in the second-level
    form. The final forecast answer need to forecast both first-level and second-level
    CAMEO codes, and will be evaluated based on the precision and recall of both levels
    of relations. The final answer content should be a JSON dictionary where the keys
    are the forecasted two-digit first-level CAMEO codes and the values are lists
    of forecasted three-digit second-level CAMEO codes that are child relations of
    the key. For example, {{“01”: [“010”, “011”, “012”], “02”: [“020”, “023”]}}. The
    latest information and forecast I have collected is as follows: {info} If final
    forecast answer has been made in the collected information indicated by "Final
    Answer:", you must only reformat the final forecast answer in the expected JSON
    dictionary format inside XML tags. For example: <answer>{{“01”: [“010”, “011”,
    “012”], “02”: [“020”, “023”]}}</answer>. Otherwise, if no final forecast is made,
    you must reason based on the information you have collected and generate a confident
    final forecast answer to the query, and then reformat your answer in the expected
    JSON dictionary format inside XML tags.</foreignobject></g></g></svg>'
  id: totrans-919
  prefs: []
  type: TYPE_NORMAL
  zh: '<svg class="ltx_picture" height="543.37" id="A11.SS3.p1.pic1" overflow="visible"
    version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt"
    transform="translate(0,543.37) matrix(1 0 0 -1 0 0)"><g fill-opacity="1.0" transform="matrix(1.0
    0.0 0.0 1.0 21.65 525.32)"><foreignobject color="#FFFFFF" height="12.15" overflow="visible"
    transform="matrix(1 0 0 -1 0 16.6)" width="556.69">Answer extraction prompt</foreignobject></g>
    <g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject
    color="#000000" height="493.83" overflow="visible" transform="matrix(1 0 0 -1
    0 16.6)" width="556.69">Please help me extract final answer for forecasting the
    future relations between two entities in a given query: forecast the relations
    that {actor1_name} will take towards {actor2_name} on {future_date_nlp} based
    on historical information up to current_date_nlp. I.e. forecast the relation CAMEO
    codes in query event Event(date={future_date}, head_entity=ISOCode({actor1_code}),
    relation=CAMEOCode(?), tail_entity=ISOCode({actor2_code})). I have used interleaving
    ‘Thought’, ‘Action’, and ‘Observation’ steps to collect information from the database
    and perform the forecast. The database contains news articles from January 1,
    2023 to the current date current_date_nlp and the events extracted from these
    articles. The events are in the form of (date, subject country, relation, object
    country), where the countries are represented by ISO 3166-1 alpha-3 codes and
    the relations are represented by the CAMEO codes defined in the ‘Conflict and
    Mediation Event Observations’ ontology. The relations are hierarchical: first-level
    relations are general parent relations represented by two-digit CAMEO codes, while
    second-level relations are more specific child relations represented by three-digit
    CAMEO codes. Child relations have the same first two digits as their parent relations.
    For example, ‘01’ is a first-level relation, and ‘010’ and ‘011’ are some of its
    second-level relations. The relations in the database are represented in the second-level
    form. The final forecast answer need to forecast both first-level and second-level
    CAMEO codes, and will be evaluated based on the precision and recall of both levels
    of relations. The final answer content should be a JSON dictionary where the keys
    are the forecasted two-digit first-level CAMEO codes and the values are lists
    of forecasted three-digit second-level CAMEO codes that are child relations of
    the key. For example, {{“01”: [“010”, “011”, “012”], “02”: [“020”, “023”]}}. The
    latest information and forecast I have collected is as follows: {info} If final
    forecast answer has been made in the collected information indicated by "Final
    Answer:", you must only reformat the final forecast answer in the expected JSON
    dictionary format inside XML tags. For example: <answer>{{“01”: [“010”, “011”,
    “012”], “02”: [“020”, “023”]}}</answer>. Otherwise, if no final forecast is made,
    you must reason based on the information you have collected and generate a confident
    final forecast answer to the query, and then reformat your answer in the expected
    JSON dictionary format inside XML tags.</foreignobject></g></g></svg>'
- en: Appendix L Additional Forecasting Examples of LLM Agent
  id: totrans-920
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 L LLM 代理的额外预测示例
- en: 'In this section, we show examples of how LLM agents perform reasoning for the
    forecasting query. The query-specific values are highlighted in yellow in the
    system prompt and query prompt, which follows the prompt templates shown in Appendix [K](https://arxiv.org/html/2407.01231v1#A11
    "Appendix K Prompts ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the Final
    Status of Different LLM Agents ‣ Appendix J Additional Experimental Results and
    Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting"). For simplicity,
    we use {api_description} as a placeholder for the API specification in the prompt,
    which is replaced by the actual contents shown in Appendix [M](https://arxiv.org/html/2407.01231v1#A13
    "Appendix M Additional Information about API ‣ item 1 ‣ L.1.4 Agent ReAct Process
    ‣ L.1 GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting") in
    experiments.'
  id: totrans-921
  prefs: []
  type: TYPE_NORMAL
  zh: '在本节中，我们展示了LLM代理如何对预测查询进行推理的示例。查询特定的值在系统提示和查询提示中以黄色高亮显示，遵循附录[K](https://arxiv.org/html/2407.01231v1#A11
    "Appendix K Prompts ‣ J.2 Analysis on Function Types ‣ J.1 Analysis of the Final
    Status of Different LLM Agents ‣ Appendix J Additional Experimental Results and
    Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs for Tool-Use
    ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks ‣ 4 Related
    Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with Different
    Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and Tools ‣
    3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")中展示的提示模板。为了简便，我们使用{api_description}作为提示中的占位符，实际内容请参见附录[M](https://arxiv.org/html/2407.01231v1#A13
    "Appendix M Additional Information about API ‣ item 1 ‣ L.1.4 Agent ReAct Process
    ‣ L.1 GPT-4o-based Agent with ReAct and “Code Block” Action ‣ Appendix L Additional
    Forecasting Examples of LLM Agent ‣ J.2 Analysis on Function Types ‣ J.1 Analysis
    of the Final Status of Different LLM Agents ‣ Appendix J Additional Experimental
    Results and Analysis ‣ Acknowledgements ‣ 5 Conclusion and Limitation ‣ 4.3 LLMs
    for Tool-Use ‣ 4.2 Evaluation of Language Agents ‣ 4.1 Temporal Reasoning Benchmarks
    ‣ 4 Related Work ‣ 3.3 Analyzing Agent Behaviours ‣ 3.2 Evaluate Forecasting with
    Different Base LLMs ‣ 3.1 Evaluate Forecasting with Different Agent Methods and
    Tools ‣ 3 Experiments ‣ Mirai: Evaluating LLM Agents for Event Forecasting")中展示的实际内容。'
- en: L.1 GPT-4o-based Agent with ReAct and “Code Block” Action
  id: totrans-922
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: L.1 基于 GPT-4o 的代理，结合 ReAct 和“代码块”动作
- en: L.1.1 Query Details
  id: totrans-923
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: L.1.1 查询详情
- en: •
  id: totrans-924
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Query Quadruplet: (2023-11-03, AUS, ?, CHN)'
  id: totrans-925
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 查询四元组： (2023-11-03, AUS, ?, CHN)
- en: •
  id: totrans-926
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Temporal Distance: 1; therefore, the current date is 2023-11-02'
  id: totrans-927
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 时间距离：1；因此当前日期为 2023年11月02日
- en: •
  id: totrans-928
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: •
- en: 'Agent Max Steps: 20'
  id: totrans-929
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 代理最大步骤：20
- en: L.1.2 Query Prompt
  id: totrans-930
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: L.1.2 查询提示
- en: Please forecast the relations that Australia will take towards China on November
    03, 2023 based on historical information up to November 02, 2023. I.e. forecast
    the relation CAMEO codes in query event Event(date=2023-11-03, head_entity=ISOCode(AUS),
    relation=CAMEOCode(?), tail_entity=ISOCode(CHN)).
  id: totrans-931
  prefs: []
  type: TYPE_NORMAL
  zh: 请基于截至 2023年11月02日的历史信息，预测澳大利亚在 2023年11月03日对中国的关系。即预测查询事件中的关系 CAMEO 代码：Event(date=2023-11-03,
    head_entity=ISOCode(AUS), relation=CAMEOCode(?), tail_entity=ISOCode(CHN))。
- en: L.1.3 System Prompt
  id: totrans-932
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: L.1.3 系统提示
- en: 'You are an expert in forecasting future events based on historical data. The
    database contains news articles from January 1, 2023 to the current date November
    02, 2023 and the events extracted from these articles. The events are in the form
    of (date, subject country, relation, object country), where the countries are
    represented by ISO 3166-1 alpha-3 codes and the relations are represented by the
    CAMEO codes defined in the "Conflict and Mediation Event Observations" ontology.
    The relations are hierarchical: first-level relations are general parent relations
    represented by two-digit CAMEO codes, while second-level relations are more specific
    child relations represented by three-digit CAMEO codes. Child relations have the
    same first two digits as their parent relations. For example, "01" is a first-level
    relation, and "010" and "011" are some of its second-level relations. The relations
    in the database are represented in the second-level form.'
  id: totrans-933
  prefs: []
  type: TYPE_NORMAL
  zh: 你是一个基于历史数据预测未来事件的专家。数据库包含从2023年1月1日到当前日期（2023年11月2日）的新闻文章以及从这些文章中提取的事件。这些事件的形式为（日期、主题国家、关系、对象国家），其中国家由ISO
    3166-1 alpha-3代码表示，关系由“冲突与调解事件观察”本体中定义的CAMEO代码表示。关系是层次化的：一级关系是一般的父关系，用两位数的CAMEO代码表示，而二级关系是更具体的子关系，用三位数的CAMEO代码表示。子关系的前两位数字与其父关系相同。例如，“01”是一级关系，“010”和“011”是其二级关系之一。数据库中的关系以二级形式表示。
- en: Your task is to forecast the future relations between two entities in a given
    query. You have access to a defined Python API that allows you to query the database
    for historical events and statistics, and to get precise information about the
    ISO country codes and CAMEO relation codes. You are also authorized to utilize
    additional safe, well-established Python libraries such as numpy, pandas, scikit-learn,
    and NetworkX to enhance your data analysis and forecasting accuracy.
  id: totrans-934
  prefs: []
  type: TYPE_NORMAL
  zh: 你的任务是预测在给定查询中两个实体之间的未来关系。你可以访问一个定义好的Python API，通过该API查询历史事件和统计数据，并获取关于ISO国家代码和CAMEO关系代码的准确信息。你还被授权使用其他安全的、成熟的Python库，如numpy、pandas、scikit-learn和NetworkX，以提高数据分析和预测的准确性。
- en: 'The defined API is described as follows:'
  id: totrans-935
  prefs: []
  type: TYPE_NORMAL
  zh: 定义好的API如下所示：
- en: '[PRE3]'
  id: totrans-936
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'You will use an iterative approach, interleaving "Thought", "Action", and "Observation"
    steps to collect information and perform the forecast. You may perform up to 20
    iterations. The steps are as follows:'
  id: totrans-937
  prefs: []
  type: TYPE_NORMAL
  zh: 你将使用一种迭代的方法，交替进行“思考”、“行动”和“观察”步骤，以收集信息并进行预测。你最多可以进行20次迭代。步骤如下：
- en: '- "Thought": Analyze the current information and reason about the current situation,
    and predicts which API you want to use (try to use different APIs to collect diverse
    information) or make a decision that you want to make a final answer.'
  id: totrans-938
  prefs: []
  type: TYPE_NORMAL
  zh: '- “思考”：分析当前信息并推理当前情况，预测你想要使用的API（尽量使用不同的API收集多样化的信息）或做出你想要做出的最终决定。'
- en: '- "Action": Use the API to gather more information or provide the final forecast.'
  id: totrans-939
  prefs: []
  type: TYPE_NORMAL
  zh: '- “行动”：使用API收集更多信息或提供最终预测。'
- en: '- If gathering more data: the action must be an executable Python code snippet
    that starts with [PRE4]. It can contain multiple lines of codes and function calls
    using the defined API or Python libraries. You must use print() to output the
    results, and only the printed output will be returned in the observation step.'
  id: totrans-940
  prefs: []
  type: TYPE_NORMAL
  zh: '- 如果需要收集更多数据：该操作必须是一个可执行的Python代码片段，且以[PRE4]开头。它可以包含多行代码和使用定义的API或Python库的函数调用。你必须使用print()来输出结果，只有打印的输出才会在观察步骤中返回。'
- en: '- If making the final forecast: the action must start immediately with "Final
    Answer:", and follow with the answer in the expected JSON format. This should
    not be enclosed within triple backticks.'
  id: totrans-941
  prefs: []
  type: TYPE_NORMAL
  zh: '- 如果做出最终预测：该操作必须以“Final Answer:”开头，后跟按预期JSON格式的答案。此内容不应被三个反引号括起来。'
- en: '- "Observation": Return the printed output of the executed code snippet.'
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: '- “观察”：返回已执行代码片段的打印输出。'
- en: 'To make a reasonable forecast, you should collect both news and relational
    evidence to support your prediction. When you are fully confident that you accumulate
    enough information to make the final forecast, you should start the "Thought"
    with your reasoning using the news and structural information to make the prediction,
    and then start the "Action" step with "Final Answer:" followed by the answer in
    the expected JSON format. The answer should be a JSON dictionary where the keys
    are the forecasted two-digit first-level CAMEO codes and the values are lists
    of forecasted three-digit second-level CAMEO codes that are child relations of
    the key. For example, "Action: Final Answer: {"01": ["010", "011", "012"], "02":
    ["020", "023"]}".'
  id: totrans-943
  prefs: []
  type: TYPE_NORMAL
  zh: '为了做出合理的预测，您应收集新闻和关系证据来支持您的预测。当您完全确信已收集足够的信息来做出最终预测时，您应该开始“思考”步骤，使用新闻和结构性信息进行推理，并做出预测，然后以“行动”步骤开始，并以“最终答案：”开头，后跟按预期JSON格式的答案。答案应为一个JSON字典，其中键是预测的两位数一级CAMEO代码，值是预测的三级CAMEO代码列表，作为该键的子关系。例如，“行动：最终答案：{"01":
    ["010", "011", "012"], "02": ["020", "023"]}"。'
- en: The final answer will be evaluated based on the precision and recall of the
    forecasted first-level and second-level relations, so only include confident first-level
    and second-level CAMEO codes in your final forecast.
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: 最终答案将基于预测的一级和二级关系的精准度和召回率进行评估，因此在最终预测中只包括有信心的一级和二级CAMEO代码。
- en: Try to use different APIs and Python libraries to collect diverse information
    (including multi-hop relations), such as the precise meaning of CAMEO codes, insights
    from news content, relational data, and statistical analyses to support your forecasts.
    Consider not only the frequency of the relations but also the temporal aspects
    of the data when making your forecast.
  id: totrans-945
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试使用不同的API和Python库来收集多样化的信息（包括多跳关系），例如CAMEO代码的精确定义、新闻内容的见解、关系数据和统计分析，以支持您的预测。在做出预测时，不仅要考虑关系的频率，还要考虑数据的时间方面。
- en: L.1.4 Agent ReAct Process
  id: totrans-946
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: L.1.4 代理人反应过程
- en: '1.'
  id: totrans-947
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '1.'
- en: 'Thought: To forecast the relations that Australia will take towards China on
    November 03, 2023, we need to gather historical data on the interactions between
    these two countries. This includes examining the frequency and types of relations
    observed in the past, as well as any recent trends or significant events that
    might influence future relations.'
  id: totrans-948
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 思考：为了预测澳大利亚在2023年11月03日对中国的关系，我们需要收集这两个国家之间互动的历史数据。这包括检查过去观察到的关系的频率和类型，以及可能影响未来关系的任何近期趋势或重大事件。
- en: 'We will proceed with the following steps:'
  id: totrans-949
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们将按照以下步骤进行：
- en: (a)
  id: totrans-950
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: (a)
- en: 'Retrieve Historical Events: Gather events involving Australia (AUS) and China
    (CHN) to understand the context and types of relations that have occurred in the
    past.'
  id: totrans-951
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 检索历史事件：收集涉及澳大利亚（AUS）和中国（CHN）的事件，以了解过去发生的关系的背景和类型。
- en: (b)
  id: totrans-952
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: (b)
- en: 'Analyze Relation Distribution: Analyze the distribution of different CAMEO
    codes in these events to identify the most common types of interactions.'
  id: totrans-953
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 分析关系分布：分析这些事件中不同CAMEO代码的分布，以识别最常见的互动类型。
- en: (c)
  id: totrans-954
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: (c)
- en: 'Examine Recent Trends: Focus on recent events to detect any emerging trends
    or shifts in relations.'
  id: totrans-955
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 检查近期趋势：关注近期事件，以发现关系中出现的任何新趋势或变化。
- en: (d)
  id: totrans-956
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: (d)
- en: 'Contextual Analysis: Review news articles to gain insights into the context
    and underlying reasons for these relations.'
  id: totrans-957
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 背景分析：查看新闻文章，以获取对这些关系的背景和潜在原因的洞察。
- en: Let"s start by retrieving historical events between Australia and China.
  id: totrans-958
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们从检索澳大利亚与中国之间的历史事件开始。
- en: 'Action:'
  id: totrans-959
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 行动：
- en: '[⬇](data:text/plain;base64,ZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCiMgRGVmaW5lIHRoZSBkYXRlIHJhbmdlIGZvciB0aGUgaGlzdG9yaWNhbCBkYXRhIGNvbGxlY3Rpb24Kc3RhcnRfZGF0ZSA9IERhdGUoIjIwMjMtMDEtMDEiKQplbmRfZGF0ZSA9IERhdGUoIjIwMjMtMTEtMDIiKQpkYXRlX3JhbmdlID0gRGF0ZVJhbmdlKHN0YXJ0X2RhdGU9c3RhcnRfZGF0ZSwgZW5kX2RhdGU9ZW5kX2RhdGUpCgojIERlZmluZSB0aGUgSVNPIGNvZGVzIGZvciBBdXN0cmFsaWEgYW5kIENoaW5hCmF1c19jb2RlID0gSVNPQ29kZSgiQVVTIikKY2huX2NvZGUgPSBJU09Db2RlKCJDSE4iKQoKIyBSZXRyaWV2ZSBoaXN0b3JpY2FsIGV2ZW50cyBpbnZvbHZpbmcgQXVzdHJhbGlhIGFuZCBDaGluYQpldmVudHMgPSBnZXRfZXZlbnRzKGRhdGVfcmFuZ2U9ZGF0ZV9yYW5nZSwgaGVhZF9lbnRpdGllcz1bYXVzX2NvZGVdLCB0YWlsX2VudGl0aWVzPVtjaG5fY29kZV0pCgojIFByaW50IHRoZSByZXRyaWV2ZWQgZXZlbnRzCmZvciBldmVudCBpbiBldmVudHM6CiAgICBwcmludChldmVudClcZW5ke2xzdGxpc3Rpbmd9CiAgICBcdGV4dGJme09ic2VydmF0aW9ufToKICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMS0wMiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMS0wMiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDAiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMS0wMiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMS0wMSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMS0wMSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIxNzMiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMS0wMSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0zMSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0zMSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0zMSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0zMCIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0zMCIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0zMCIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yOSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yNyIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yNyIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yNiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIxNzMiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yNiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNjEiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yNiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yNSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMyIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMyIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMyIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzEiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMyIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNjEiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDAiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNjEiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwMzYiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDMiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMiIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDIiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpCkV2ZW50KGRhdGU9RGF0ZSgiMjAyMy0xMC0yMSIpLCBoZWFkX2VudGl0eT1JU09Db2RlKCJBVVMiKSwgcmVsYXRpb249Q0FNRU9Db2RlKCIwNDAiKSwgdGFpbF9lbnRpdHk9SVNPQ29kZSgiQ0hOIikpXGVuZHtsc3RsaXN0aW5nfQogICAgXGl0ZW0gXHRleHRiZntUaG91Z2h0fToKICAgIFRoZSByZXRyaWV2ZWQgZXZlbnRzIGluZGljYXRlIGEgdmFyaWV0eSBvZiByZWxhdGlvbnMgYmV0d2VlbiBBdXN0cmFsaWEgYW5kIENoaW5hLiBUbyBmb3JlY2FzdCB0aGUgZnV0dXJlIHJlbGF0aW9ucywgd2UgbmVlZCB0byBhbmFseXplIHRoZSBkaXN0cmlidXRpb24gb2YgdGhlc2UgcmVsYXRpb25zIHRvIGlkZW50aWZ5IHRoZSBtb3N0IGNvbW1vbiB0eXBlcyBhbmQgYW55IHJlY2VudCB0cmVuZHMuCgogICAgTmV4dCwgd2Ugd2lsbCBhbmFseXplIHRoZSBkaXN0cmlidXRpb24gb2YgdGhlIGRpZmZlcmVudCBDQU1FTyBjb2RlcyBpbiB0aGVzZSBldmVudHMgdG8gaWRlbnRpZnkgdGhlIG1vc3QgZnJlcXVlbnQgaW50ZXJhY3Rpb25zLiBUaGlzIHdpbGwgaGVscCB1cyB1bmRlcnN0YW5kIHRoZSBkb21pbmFudCB0eXBlcyBvZiByZWxhdGlvbnMgYW5kIGFueSBlbWVyZ2luZyBwYXR0ZXJucy4KCiAgICBcdGV4dGJme0FjdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQpmcm9tIGNvbGxlY3Rpb25zIGltcG9ydCBDb3VudGVyCgojIEV4dHJhY3QgdGhlIENBTUVPIGNvZGVzIGZyb20gdGhlIHJldHJpZXZlZCBldmVudHMKY2FtZW9fY29kZXMgPSBbZXZlbnQucmVsYXRpb24uY29kZSBmb3IgZXZlbnQgaW4gZXZlbnRzXQoKIyBDb3VudCB0aGUgZnJlcXVlbmN5IG9mIGVhY2ggQ0FNRU8gY29kZQpjYW1lb19jb2RlX2NvdW50cyA9IENvdW50ZXIoY2FtZW9fY29kZXMpCgojIFByaW50IHRoZSBkaXN0cmlidXRpb24gb2YgQ0FNRU8gY29kZXMKZm9yIGNvZGUsIGNvdW50IGluIGNhbWVvX2NvZGVfY291bnRzLml0ZW1zKCk6CiAgICBwcmludChmIkNBTUVPIENvZGU6IHtjb2RlfSwgQ291bnQ6IHtjb3VudH0iKVxlbmR7bHN0bGlzdGluZ30KICAgIFx0ZXh0YmZ7T2JzZXJ2YXRpb259OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KQ0FNRU8gQ29kZTogMDQyLCBDb3VudDogMTAKQ0FNRU8gQ29kZTogMDQwLCBDb3VudDogMwpDQU1FTyBDb2RlOiAwMzYsIENvdW50OiA4CkNBTUVPIENvZGU6IDE3MywgQ291bnQ6IDIKQ0FNRU8gQ29kZTogMDQ2LCBDb3VudDogMgpDQU1FTyBDb2RlOiAwNjEsIENvdW50OiAzCkNBTUVPIENvZGU6IDAzMSwgQ291bnQ6IDEKQ0FNRU8gQ29kZTogMDQzLCBDb3VudDogMVxlbmR7bHN0bGlzdGluZ30KICAgIFxpdGVtIFx0ZXh0YmZ7VGhvdWdodH06CiAgICBUaGUgZGlzdHJpYnV0aW9uIG9mIENBTUVPIGNvZGVzIGZyb20gdGhlIGhpc3RvcmljYWwgZXZlbnRzIGJldHdlZW4gQXVzdHJhbGlhIGFuZCBDaGluYSByZXZlYWxzIHRoYXQgY2VydGFpbiB0eXBlcyBvZiBpbnRlcmFjdGlvbnMgYXJlIG1vcmUgZnJlcXVlbnQgdGhhbiBvdGhlcnMuIFNwZWNpZmljYWxseSwgdGhlIG1vc3QgY29tbW9uIHJlbGF0aW9ucyBhcmU6CgogICAgLSBcdGV4dGJmezA0Mn06IDEwIG9jY3VycmVuY2VzXFwKICAgIC0gXHRleHRiZnswMzZ9OiA4IG9jY3VycmVuY2VzXFwKICAgIC0gXHRleHRiZnswNDB9OiAzIG9jY3VycmVuY2VzXFwKICAgIC0gXHRleHRiZnswNjF9OiAzIG9jY3VycmVuY2VzXFwKICAgIC0gXHRleHRiZnswNDZ9OiAyIG9jY3VycmVuY2VzXFwKICAgIC0gXHRleHRiZnsxNzN9OiAyIG9jY3VycmVuY2VzXFwKICAgIC0gXHRleHRiZnswMzF9OiAxIG9jY3VycmVuY2VcXAogICAgLSBcdGV4dGJmezA0M306IDEgb2NjdXJyZW5jZVxcCiAgICBUbyBtYWtlIGEgbW9yZSBpbmZvcm1lZCBmb3JlY2FzdCwgd2Ugc2hvdWxkIHVuZGVyc3RhbmQgd2hhdCB0aGVzZSBDQU1FTyBjb2RlcyByZXByZXNlbnQuIFdlIHdpbGwgbWFwIHRoZXNlIGNvZGVzIHRvIHRoZWlyIGRlc2NyaXB0aW9ucyB0byBnYWluIGluc2lnaHRzIGludG8gdGhlIG5hdHVyZSBvZiB0aGVzZSBpbnRlcmFjdGlvbnMuCgogICAgXHRleHRiZntBY3Rpb259OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KIyBEZWZpbmUgdGhlIENBTUVPIGNvZGVzIHRvIG1hcApjYW1lb19jb2Rlc190b19tYXAgPSBbIjA0MiIsICIwMzYiLCAiMDQwIiwgIjA2MSIsICIwNDYiLCAiMTczIiwgIjAzMSIsICIwNDMiXQoKIyBNYXAgdGhlIENBTUVPIGNvZGVzIHRvIHRoZWlyIGRlc2NyaXB0aW9ucwpyZWxhdGlvbnMgPSBbbWFwX2NhbWVvX3RvX3JlbGF0aW9uKENBTUVPQ29kZShjb2RlKSkgZm9yIGNvZGUgaW4gY2FtZW9fY29kZXNfdG9fbWFwXQoKIyBQcmludCB0aGUgZGVzY3JpcHRpb25zIG9mIHRoZSBDQU1FTyBjb2Rlcwpmb3IgcmVsYXRpb24gaW4gcmVsYXRpb25zOgogICAgcHJpbnQoZiJDQU1FTyBDb2RlOiB7cmVsYXRpb24uY2FtZW9fY29kZS5jb2RlfSwgTmFtZToge3JlbGF0aW9uLm5hbWV9LCBEZXNjcmlwdGlvbjoge3JlbGF0aW9uLmRlc2NyaXB0aW9ufSIpXGVuZHtsc3RsaXN0aW5nfQogICAgXHRleHRiZntPYnNlcnZhdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQpDQU1FTyBDb2RlOiAwNDIsIE5hbWU6IE1ha2UgYSB2aXNpdCwgRGVzY3JpcHRpb246IFRyYXZlbCB0byBhbm90aGVyIGxvY2F0aW9uIGZvciBhIG1lZXRpbmcgb3Igb3RoZXIgZXZlbnQuCkNBTUVPIENvZGU6IDAzNiwgTmFtZTogRXhwcmVzcyBpbnRlbnQgdG8gbWVldCBvciBuZWdvdGlhdGUsIERlc2NyaXB0aW9uOiBPZmZlciwgcHJvbWlzZSwgYWdyZWUgdG8sIG9yIG90aGVyd2lzZSBpbmRpY2F0ZSB3aWxsaW5nbmVzcyBvciBjb21taXRtZW50IHRvIG1lZXQsIHZpc2l0LCBvciBlbmdhZ2UgaW4gdGFsa3Mgb3IgbmVnb3RpYXRpb25zLgpDQU1FTyBDb2RlOiAwNDAsIE5hbWU6IENvbnN1bHQsIG5vdCBzcGVjaWZpZWQsIERlc2NyaXB0aW9uOiBBbGwgY29uc3VsdGF0aW9ucyBhbmQgbWVldGluZ3MsIG5vdCBvdGhlcndpc2Ugc3BlY2lmaWVkLgpDQU1FTyBDb2RlOiAwNjEsIE5hbWU6IENvb3BlcmF0ZSBlY29ub21pY2FsbHksIERlc2NyaXB0aW9uOiBJbml0aWF0ZSwgcmVzdW1lLCBpbXByb3ZlLCBvciBleHBhbmQgZWNvbm9taWMgZXhjaGFuZ2Ugb3IgY29vcGVyYXRpb24uCkNBTUVPIENvZGU6IDA0NiwgTmFtZTogRW5nYWdlIGluIG5lZ290aWF0aW9uLCBEZXNjcmlwdGlvbjogTmVnb3RpYXRlIG9yIGJhcmdhaW4gd2l0aCBvdGhlcnMuCkNBTUVPIENvZGU6IDE3MywgTmFtZTogQXJyZXN0IG9yIGRldGFpbiwgRGVzY3JpcHRpb246IExlZ2FsIG9yIGV4dHJhanVkaWNpYWwgYXJyZXN0cywgZGV0ZW50aW9ucywgb3IgaW1wcmlzb25tZW50cy4KQ0FNRU8gQ29kZTogMDMxLCBOYW1lOiBFeHByZXNzIGludGVudCB0byBlbmdhZ2UgaW4gbWF0ZXJpYWwgY29vcGVyYXRpb24sIERlc2NyaXB0aW9uOiBPZmZlciwgcHJvbWlzZSwgYWdyZWUgdG8sIG9yIG90aGVyd2lzZSBpbmRpY2F0ZSB3aWxsaW5nbmVzcyBvciBjb21taXRtZW50IHRvIGVuZ2FnZSBpbiBvciBleHBhbmQgbWF0ZXJpYWwgY29vcGVyYXRpdmUgZXhjaGFuZ2UsIHN1Y2ggYXMgZXhwcmVzcyBpbnRlbnQgdG8gY29vcGVyYXRlIGVjb25vbWljYWxseSwgbWlsaXRhcmlseSwgb24ganVkaWNpYWwgbWF0dGVycywgYW5kIG9uIGludGVsbGlnZW5jZS4KQ0FNRU8gQ29kZTogMDQzLCBOYW1lOiBIb3N0IGEgdmlzaXQsIERlc2NyaXB0aW9uOiBIb3N0IG9yIHJlY2VpdmUgYSB2aXNpdG9yIGF0IHJlc2lkZW5jZSwgb2ZmaWNlIG9yIGhvbWUgY291bnRyeS5cZW5ke2xzdGxpc3Rpbmd9CiAgICBcaXRlbSBcdGV4dGJme1Rob3VnaHR9OgogICAgVGhlIG1hcHBlZCBDQU1FTyBjb2RlcyBhbmQgdGhlaXIgZGVzY3JpcHRpb25zIHByb3ZpZGUgdmFsdWFibGUgaW5zaWdodHMgaW50byB0aGUgbmF0dXJlIG9mIGludGVyYWN0aW9ucyBiZXR3ZWVuIEF1c3RyYWxpYSBhbmQgQ2hpbmEuIEhlcmUgYXJlIHRoZSBrZXkgcmVsYXRpb25zIG9ic2VydmVkOgoKICAgIC0gXHRleHRiZnswNDIgKE1ha2UgYSB2aXNpdCl9OiAxMCBvY2N1cnJlbmNlcyDigJMgSW5kaWNhdGVzIGZyZXF1ZW50IHRyYXZlbCBmb3IgbWVldGluZ3Mgb3IgZXZlbnRzLlxcCiAgICAtIFx0ZXh0YmZ7MDM2IChFeHByZXNzIGludGVudCB0byBtZWV0IG9yIG5lZ290aWF0ZSl9OiA4IG9jY3VycmVuY2VzIOKAkyBTaG93cyBhIHN0cm9uZyBpbnRlbnQgdG8gZW5nYWdlIGluIHRhbGtzIG9yIG5lZ290aWF0aW9ucy5cXAogICAgLSBcdGV4dGJmezA0MCAoQ29uc3VsdCwgbm90IHNwZWNpZmllZCl9OiAzIG9jY3VycmVuY2VzIOKAkyBHZW5lcmFsIGNvbnN1bHRhdGlvbnMgYW5kIG1lZXRpbmdzLlxcCiAgICAtIFx0ZXh0YmZ7MDYxIChDb29wZXJhdGUgZWNvbm9taWNhbGx5KX06IDMgb2NjdXJyZW5jZXMg4oCTIEVjb25vbWljIGNvb3BlcmF0aW9uIGluaXRpYXRpdmVzLlxcCiAgICAtIFx0ZXh0YmZ7MDQ2IChFbmdhZ2UgaW4gbmVnb3RpYXRpb24pfTogMiBvY2N1cnJlbmNlcyDigJMgQWN0dWFsIG5lZ290aWF0aW9ucyBvciBiYXJnYWluaW5nLlxcCiAgICAtIFx0ZXh0YmZ7MTczIChBcnJlc3Qgb3IgZGV0YWluKX06IDIgb2NjdXJyZW5jZXMg4oCTIExlZ2FsIG9yIGV4dHJhanVkaWNpYWwgYXJyZXN0cyBvciBkZXRlbnRpb25zLlxcCiAgICAtIFx0ZXh0YmZ7MDMxIChFeHByZXNzIGludGVudCB0byBlbmdhZ2UgaW4gbWF0ZXJpYWwgY29vcGVyYXRpb24pfTogMSBvY2N1cnJlbmNlIOKAkyBJbnRlbnQgdG8gY29vcGVyYXRlIG1hdGVyaWFsbHkuXFwKICAgIC0gXHRleHRiZnswNDMgKEhvc3QgYSB2aXNpdCl9OiAxIG9jY3VycmVuY2Ug4oCTIEhvc3RpbmcgdmlzaXRvcnMuXFwKCiAgICBHaXZlbiB0aGlzIGRhdGEsIHdlIGNhbiBzZWUgdGhhdCB0aGUgbW9zdCBmcmVxdWVudCBpbnRlcmFjdGlvbnMgaW52b2x2ZSB2aXNpdHMsIGV4cHJlc3Npb25zIG9mIGludGVudCB0byBtZWV0IG9yIG5lZ290aWF0ZSwgYW5kIGVjb25vbWljIGNvb3BlcmF0aW9uLiBUaGVzZSBpbnRlcmFjdGlvbnMgc3VnZ2VzdCBhIHBhdHRlcm4gb2YgZGlwbG9tYXRpYyBlbmdhZ2VtZW50IGFuZCBlY29ub21pYyBjb2xsYWJvcmF0aW9uLCB3aXRoIG9jY2FzaW9uYWwgbGVnYWwgYWN0aW9ucy4KCiAgICBUbyBmdXJ0aGVyIHNvbGlkaWZ5IG91ciBmb3JlY2FzdCwgd2Ugc2hvdWxkIGV4YW1pbmUgcmVjZW50IG5ld3MgYXJ0aWNsZXMgdG8gdW5kZXJzdGFuZCB0aGUgY29udGV4dCBhbmQgYW55IHVuZGVybHlpbmcgcmVhc29ucyBmb3IgdGhlc2UgaW50ZXJhY3Rpb25zLiBUaGlzIHdpbGwgaGVscCB1cyBpZGVudGlmeSBhbnkgZW1lcmdpbmcgdHJlbmRzIG9yIHNpZ25pZmljYW50IGV2ZW50cyB0aGF0IG1pZ2h0IGluZmx1ZW5jZSBmdXR1cmUgcmVsYXRpb25zLgoKICAgIE5leHQsIHdlIHdpbGwgcmV0cmlldmUgcmVjZW50IG5ld3MgYXJ0aWNsZXMgaW52b2x2aW5nIEF1c3RyYWxpYSBhbmQgQ2hpbmEgdG8gZ2FpbiBjb250ZXh0dWFsIGluc2lnaHRzLgoKICAgIFx0ZXh0YmZ7QWN0aW9ufToKICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dCiMgRGVmaW5lIHRoZSBkYXRlIHJhbmdlIGZvciByZWNlbnQgbmV3cyBhcnRpY2xlcwpyZWNlbnRfc3RhcnRfZGF0ZSA9IERhdGUoIjIwMjMtMTAtMDEiKQpyZWNlbnRfZW5kX2RhdGUgPSBEYXRlKCIyMDIzLTExLTAyIikKcmVjZW50X2RhdGVfcmFuZ2UgPSBEYXRlUmFuZ2Uoc3RhcnRfZGF0ZT1yZWNlbnRfc3RhcnRfZGF0ZSwgZW5kX2RhdGU9cmVjZW50X2VuZF9kYXRlKQoKIyBSZXRyaWV2ZSByZWNlbnQgbmV3cyBhcnRpY2xlcyBpbnZvbHZpbmcgQXVzdHJhbGlhIGFuZCBDaGluYQpuZXdzX2FydGljbGVzID0gZ2V0X25ld3NfYXJ0aWNsZXMoZGF0ZV9yYW5nZT1yZWNlbnRfZGF0ZV9yYW5nZSwgaGVhZF9lbnRpdGllcz1bYXVzX2NvZGVdLCB0YWlsX2VudGl0aWVzPVtjaG5fY29kZV0pCgojIFByaW50IHRoZSByZXRyaWV2ZWQgbmV3cyBhcnRpY2xlcwpmb3IgYXJ0aWNsZSBpbiBuZXdzX2FydGljbGVzOgogICAgcHJpbnQoYXJ0aWNsZSlcZW5ke2xzdGxpc3Rpbmd9CiAgICBcdGV4dGJme09ic2VydmF0aW9ufToKICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dCihEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIk5vIHF1aWNrIGZpeCB0byByZW1haW5pbmcgdGFyaWZmcyBhaGVhZCBvZiBDaGluYSB2aXNpdCIpCihEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIkNoaW5hInMgYWdncmVzc2lvbiBpbiBJbmRvLVBhY2lmaWMgbGVhZHMgdG8gImNvbmNlcm4gYW5kIGFuZ3N0IjogUGV0ZXIgRHV0dG9uLCBBdXN0cmFsaWEicyBsZWFkZXIgb2Ygb3Bwb3NpdGlvbiIpCihEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIkF1c3RyYWxpYSBhbmQgQ2hpbmEgZXllIG5ldyB3YXlzIHRvIGhlYWwgb2xkIHdvdW5kcyIpCihEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIkFsYmFuZXNlIG11c3QgYWltIGJleW9uZCBiaWxhdGVyYWwgb3V0Y29tZXMgb24gQmVpamluZyB2aXNpdCIpCihEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIldlc3Rlcm4gQXVzdHJhbGlhbiBQcmVtaWVyIEFubm91bmNlcyBWaXNpdCB0byBDaGluYSIpCihEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIkF1c3RyYWxpYW4gUE0icyBDaGluYSB2aXNpdCB3aWxsIGhlbHAgbm9ybWFsaXplIHJlbGF0aW9ucywgc2F5cyBleC10cmFkZSBtaW5pc3RlciIpCihEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIk5pY2hvbGFzIE1vb3JlIG9uIGhvdyB0byBnZXQgaW4gZWFybHkgb24gdGhlIG5leHQgYmlnIGdyb3d0aCBzdG9yeSIpCihEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIlBNInMgQ2hpbmEgdHJpcCBjZW1lbnRzIG5ldyBlcmEgZm9yIHRpZXMiKQooRGF0ZShkYXRlPSIyMDIzLTExLTAyIiksICJQTSB0byB0YWtlIGEgaGFyZCBsaW5lIG9uIHRyYWRlIHdpdGggQ2hpbmEiKQooRGF0ZShkYXRlPSIyMDIzLTExLTAxIiksICJBdXN0cmFsaWFuIFByaW1lIE1pbmlzdGVyIEFudGhvbnkgQWxiYW5lc2UgdG8gcmFpc2UgaW1wcmlzb25lZCBkZW1vY3JhY3kgYmxvZ2dlciBkdXJpbmcgQ2hpbmEgdmlzaXQiKVxlbmR7bHN0bGlzdGluZ30KICAgIFxpdGVtIFx0ZXh0YmZ7VGhvdWdodH06CiAgICBUaGUgcmVjZW50IG5ld3MgYXJ0aWNsZXMgcHJvdmlkZSB2YWx1YWJsZSBjb250ZXh0IGZvciB0aGUgcmVsYXRpb25zIGJldHdlZW4gQXVzdHJhbGlhIGFuZCBDaGluYS4gS2V5IHRoZW1lcyBpbmNsdWRlOlxcCgogICAgMS4gXHRleHRiZntEaXBsb21hdGljIFZpc2l0cyBhbmQgRW5nYWdlbWVudHN9OiBNdWx0aXBsZSBhcnRpY2xlcyBoaWdobGlnaHQgdGhlIHVwY29taW5nIHZpc2l0IG9mIEF1c3RyYWxpYW4gUHJpbWUgTWluaXN0ZXIgQW50aG9ueSBBbGJhbmVzZSB0byBDaGluYS4gVGhpcyBhbGlnbnMgd2l0aCB0aGUgZnJlcXVlbnQgb2NjdXJyZW5jZSBvZiBDQU1FTyBjb2RlIFx0ZXh0YmZ7MDQyIChNYWtlIGEgdmlzaXQpfS5cXAogICAgMi4gXHRleHRiZntFY29ub21pYyBDb29wZXJhdGlvbiBhbmQgVHJhZGV9OiBEaXNjdXNzaW9ucyBhcm91bmQgdHJhZGUgYW5kIGVjb25vbWljIGNvb3BlcmF0aW9uIGFyZSBwcm9taW5lbnQsIGluZGljYXRpbmcgb25nb2luZyBlZmZvcnRzIHRvIGltcHJvdmUgZWNvbm9taWMgdGllcy4gVGhpcyBzdXBwb3J0cyB0aGUgcmVsZXZhbmNlIG9mIENBTUVPIGNvZGVzIFx0ZXh0YmZ7MDYxIChDb29wZXJhdGUgZWNvbm9taWNhbGx5KX0gYW5kIFx0ZXh0YmZ7MDM2IChFeHByZXNzIGludGVudCB0byBtZWV0IG9yIG5lZ290aWF0ZSl9LlxcCiAgICAzLiBcdGV4dGJme0NvbmNlcm5zIGFuZCBUZW5zaW9uc306IEFydGljbGVzIG1lbnRpb24gY29uY2VybnMgYWJvdXQgQ2hpbmEicyBhZ2dyZXNzaW9uIGluIHRoZSBJbmRvLVBhY2lmaWMgYW5kIGh1bWFuIHJpZ2h0cyBpc3N1ZXMsIHN1Z2dlc3RpbmcgdW5kZXJseWluZyB0ZW5zaW9ucy4gVGhpcyBpcyByZWZsZWN0ZWQgaW4gdGhlIG9jY2FzaW9uYWwgb2NjdXJyZW5jZSBvZiBDQU1FTyBjb2RlIFx0ZXh0YmZ7MTczIChBcnJlc3Qgb3IgZGV0YWluKX0uCgogICAgR2l2ZW4gdGhlIGhpc3RvcmljYWwgZGF0YSBhbmQgcmVjZW50IG5ld3MgY29udGV4dCwgdGhlIG1vc3QgbGlrZWx5IHJlbGF0aW9ucyB0aGF0IEF1c3RyYWxpYSB3aWxsIHRha2UgdG93YXJkcyBDaGluYSBvbiBOb3ZlbWJlciAwMywgMjAyMywgaW5jbHVkZSBkaXBsb21hdGljIHZpc2l0cywgZWNvbm9taWMgY29vcGVyYXRpb24sIGFuZCBuZWdvdGlhdGlvbnMsIHdpdGggYSBwb3NzaWJpbGl0eSBvZiBhZGRyZXNzaW5nIHVuZGVybHlpbmcgdGVuc2lvbnMuCgogICAgRmluYWwgQW5zd2VyOgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KewogICIwMyI6IFsiMDMxIiwgIjAzNiJdLAogICIwNCI6IFsiMDQwIiwgIjA0MiIsICIwNDMiLCAiMDQ2Il0sCiAgIjA2IjogWyIwNjEiXSwKICAiMTciOiBbIjE3MyJdCn1cZW5ke2xzdGxpc3Rpbmd9CgogICAgXHRleHRiZntBY3Rpb259OgogICAgRmluYWwgQW5zd2VyOgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KewogICIwMyI6IFsiMDMxIiwgIjAzNiJdLAogICIwNCI6IFsiMDQwIiwgIjA0MiIsICIwNDMiLCAiMDQ2Il0sCiAgIjA2IjogWyIwNjEiXSwKICAiMTciOiBbIjE3MyJdCn1cZW5ke2xzdGxpc3Rpbmd9ClxlbmR7ZW51bWVyYXRlfQoKClxzdWJzdWJzZWN0aW9ue0FnZW50IEZpbmFsIFN0YXR1c30KXGJlZ2lue2l0ZW1pemV9CiAgICBcaXRlbSBcdGV4dGJme0VuZCBTdGF0ZX06IEZpbmFsIEFuc3dlcgogICAgXGl0ZW0gXHRleHRiZntOdW1iZXIgb2YgU3RlcHMgVGFrZW59OiA1CiAgICBcaXRlbSBcdGV4dGJme0ZpbmFsIEFuc3dlcn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQp7CiAgIjAzIjogWyIwMzEiLCAiMDM2Il0sCiAgIjA0IjogWyIwNDAiLCAiMDQyIiwgIjA0MyIsICIwNDYiXSwKICAiMDYiOiBbIjA2MSJdLAogICIxNyI6IFsiMTczIl0KfVxlbmR7bHN0bGlzdGluZ30KV2Ugc2hvdyB0aGUgY29ycmVzcG9uZGluZyByZWxhdGlvbiBuYW1lcyBvZiB0aGUgcHJlZGljdGVkIGNvZGVzIGhlcmUgZm9yIGEgYmV0dGVyIHJldmlldzoKICAgICAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQp7CiAgIkV4cHJlc3MgaW50ZW50IHRvIGNvb3BlcmF0ZSI6IFsiRXhwcmVzcyBpbnRlbnQgdG8gZW5nYWdlIGluIG1hdGVyaWFsIGNvb3BlcmF0aW9uIiwgIkV4cHJlc3MgaW50ZW50IHRvIG1lZXQgb3IgbmVnb3RpYXRlIl0sCiAgIkNvbnN1bHQiOiBbIkNvbnN1bHQsIG5vdCBzcGVjaWZpZWQiLCAiTWFrZSBhIHZpc2l0IiwgIkhvc3QgYSB2aXNpdCIsICJFbmdhZ2UgaW4gbmVnb3RpYXRpb24iXSwKICAiRW5nYWdlIGluIG1hdGVyaWFsIGNvb3BlcmF0aW9uIjogWyJDb29wZXJhdGUgZWNvbm9taWNhbGx5Il0sCiAgIkNvZXJjZSI6IFsiQXJyZXN0IG9yIGRldGFpbiJdCn1cZW5ke2xzdGxpc3Rpbmd9CiAgICBcaXRlbSBcdGV4dGJme0dyb3VuZCBUcnV0aCBBbnN3ZXJ9OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KewogICIwMyI6IFsiMDM2Il0sCiAgIjA0IjogWyIwNDIiXSwKICAiMTciOiBbIjE3MiJdCn1cZW5ke2xzdGxpc3Rpbmd9CldlIHNob3cgdGhlIGNvcnJlc3BvbmRpbmcgcmVsYXRpb24gbmFtZXMgb2YgdGhlIGdyb3VuZC10cnV0aCBjb2RlcyBoZXJlIGZvciBhIGJldHRlciByZXZpZXc6CiAgICAgICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KewogICJFeHByZXNzIGludGVudCB0byBjb29wZXJhdGUiOiBbIkV4cHJlc3MgaW50ZW50IHRvIG1lZXQgb3IgbmVnb3RpYXRlIl0sCiAgIkNvbnN1bHQiOiBbIk1ha2UgYSB2aXNpdCJdLAogICJDb2VyY2UiOiBbIkltcG9zZSBhZG1pbmlzdHJhdGl2ZSBzYW5jdGlvbnMiXQp9XGVuZHtsc3RsaXN0aW5nfQpcZW5ke2l0ZW1pemV9CgoKCgpcc3Vic2VjdGlvbntHUFQtNG8tYmFzZWQgQWdlbnQgd2l0aCBSZUFjdCBhbmQgYGBcaGxjW3VjbGFibHVlITIwXXtTaW5nbGUgRnVuY3Rpb259JycgQWN0aW9ufQoKXHN1YnN1YnNlY3Rpb257UXVlcnkgRGV0YWlsc30KXGJlZ2lue2l0ZW1pemV9CiAgICBcaXRlbSBcdGV4dGJme1F1ZXJ5IFF1YWRydXBsZXR9OiAoMjAyMy0xMS0wMywgQVVTLCA/LCBDSE4pCiAgICBcaXRlbSBcdGV4dGJme1RlbXBvcmFsIERpc3RhbmNlfTogMTsgdGhlcmVmb3JlLCB0aGUgY3VycmVudCBkYXRlIGlzIDIwMjMtMTEtMDIKICAgIFxpdGVtIFx0ZXh0YmZ7QWdlbnQgTWF4IFN0ZXBzfTogMjAKXGVuZHtpdGVtaXplfQoKXHN1YnN1YnNlY3Rpb257UXVlcnkgUHJvbXB0fQpQbGVhc2UgZm9yZWNhc3QgdGhlIHJlbGF0aW9ucyB0aGF0IFxobGNbeWVsbG93ITMwXXtBdXN0cmFsaWF9IHdpbGwgdGFrZSB0b3dhcmRzIFxobGNbeWVsbG93ITMwXXtDaGluYX0gb24gXGhsY1t5ZWxsb3chMzBde05vdmVtYmVyIDAzLCAyMDIzfSBiYXNlZCBvbiBoaXN0b3JpY2FsIGluZm9ybWF0aW9uIHVwIHRvIFxobGNbeWVsbG93ITMwXXtOb3ZlbWJlciAwMiwgMjAyM30uIEkuZS4gZm9yZWNhc3QgdGhlIHJlbGF0aW9uIENBTUVPIGNvZGVzIGluIHF1ZXJ5IGV2ZW50IFxobGNbeWVsbG93ITMwXXtFdmVudChkYXRlPTIwMjMtMTEtMDMsIGhlYWRcX2VudGl0eT1JU09Db2RlKEFVUyksIHJlbGF0aW9uPUNBTUVPQ29kZSg/KSwgdGFpbFxfZW50aXR5PUlTT0NvZGUoQ0hOKSl9LgoKXHN1YnN1YnNlY3Rpb257U3lzdGVtIFByb21wdH0KWW91IGFyZSBhbiBleHBlcnQgaW4gZm9yZWNhc3RpbmcgZnV0dXJlIGV2ZW50cyBiYXNlZCBvbiBoaXN0b3JpY2FsIGRhdGEuIFRoZSBkYXRhYmFzZSBjb250YWlucyBuZXdzIGFydGljbGVzIGZyb20gSmFudWFyeSAxLCAyMDIzIHRvIHRoZSBjdXJyZW50IGRhdGUgXGhsY1t5ZWxsb3chMzBde05vdmVtYmVyIDAyLCAyMDIzfSBhbmQgdGhlIGV2ZW50cyBleHRyYWN0ZWQgZnJvbSB0aGVzZSBhcnRpY2xlcy4gVGhlIGV2ZW50cyBhcmUgaW4gdGhlIGZvcm0gb2YgKGRhdGUsIHN1YmplY3QgY291bnRyeSwgcmVsYXRpb24sIG9iamVjdCBjb3VudHJ5KSwgd2hlcmUgdGhlIGNvdW50cmllcyBhcmUgcmVwcmVzZW50ZWQgYnkgSVNPIDMxNjYtMSBhbHBoYS0zIGNvZGVzIGFuZCB0aGUgcmVsYXRpb25zIGFyZSByZXByZXNlbnRlZCBieSB0aGUgQ0FNRU8gY29kZXMgZGVmaW5lZCBpbiB0aGUgIkNvbmZsaWN0IGFuZCBNZWRpYXRpb24gRXZlbnQgT2JzZXJ2YXRpb25zIiBvbnRvbG9neS4gVGhlIHJlbGF0aW9ucyBhcmUgaGllcmFyY2hpY2FsOiBmaXJzdC1sZXZlbCByZWxhdGlvbnMgYXJlIGdlbmVyYWwgcGFyZW50IHJlbGF0aW9ucyByZXByZXNlbnRlZCBieSB0d28tZGlnaXQgQ0FNRU8gY29kZXMsIHdoaWxlIHNlY29uZC1sZXZlbCByZWxhdGlvbnMgYXJlIG1vcmUgc3BlY2lmaWMgY2hpbGQgcmVsYXRpb25zIHJlcHJlc2VudGVkIGJ5IHRocmVlLWRpZ2l0IENBTUVPIGNvZGVzLiBDaGlsZCByZWxhdGlvbnMgaGF2ZSB0aGUgc2FtZSBmaXJzdCB0d28gZGlnaXRzIGFzIHRoZWlyIHBhcmVudCByZWxhdGlvbnMuIEZvciBleGFtcGxlLCAiMDEiIGlzIGEgZmlyc3QtbGV2ZWwgcmVsYXRpb24sIGFuZCAiMDEwIiBhbmQgIjAxMSIgYXJlIHNvbWUgb2YgaXRzIHNlY29uZC1sZXZlbCByZWxhdGlvbnMuIFRoZSByZWxhdGlvbnMgaW4gdGhlIGRhdGFiYXNlIGFyZSByZXByZXNlbnRlZCBpbiB0aGUgc2Vjb25kLWxldmVsIGZvcm0uClxcXFwKWW91ciB0YXNrIGlzIHRvIGZvcmVjYXN0IHRoZSBmdXR1cmUgcmVsYXRpb25zIGJldHdlZW4gdHdvIGVudGl0aWVzIGluIGEgZ2l2ZW4gcXVlcnkuIFlvdSBoYXZlIGFjY2VzcyB0byBhIGRlZmluZWQgUHl0aG9uIEFQSSB0aGF0IGFsbG93cyB5b3UgdG8gcXVlcnkgdGhlIGRhdGFiYXNlIGZvciBoaXN0b3JpY2FsIGV2ZW50cyBhbmQgc3RhdGlzdGljcywgYW5kIHRvIGdldCBwcmVjaXNlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBJU08gY291bnRyeSBjb2RlcyBhbmQgQ0FNRU8gcmVsYXRpb24gY29kZXMuClxcXFwKVGhlIGRlZmluZWQgQVBJIGlzIGRlc2NyaWJlZCBhcyBmb2xsb3dzOlxcCntcdGV4dGFzY2lpZ3JhdmV9e1x0ZXh0YXNjaWlncmF2ZX17XHRleHRhc2NpaWdyYXZlfSBweXRob25cXApcdGV4dHR0e1x7YXBpXF9kZXNjcmlwdGlvblx9fVxcCntcdGV4dGFzY2lpZ3JhdmV9e1x0ZXh0YXNjaWlncmF2ZX17XHRleHRhc2NpaWdyYXZlfQpcXFxcCllvdSB3aWxsIHVzZSBhbiBpdGVyYXRpdmUgYXBwcm9hY2gsIGludGVybGVhdmluZyAiVGhvdWdodCIsICJBY3Rpb24iLCBhbmQgIk9ic2VydmF0aW9uIiBzdGVwcyB0byBjb2xsZWN0IGluZm9ybWF0aW9uIGFuZCBwZXJmb3JtIHRoZSBmb3JlY2FzdC4gWW91IG1heSBwZXJmb3JtIHVwIHRvIFxobGNbeWVsbG93ITMwXXsyMH0gaXRlcmF0aW9ucy4gVGhlIHN0ZXBzIGFyZSBhcyBmb2xsb3dzOgpcXFxcCi0gIlRob3VnaHQiOiBBbmFseXplIHRoZSBjdXJyZW50IGluZm9ybWF0aW9uIGFuZCByZWFzb24gYWJvdXQgdGhlIGN1cnJlbnQgc2l0dWF0aW9uLCBhbmQgcHJlZGljdHMgd2hpY2ggQVBJIHlvdSB3YW50IHRvIHVzZSAodHJ5IHRvIHVzZSBkaWZmZXJlbnQgQVBJcyB0byBjb2xsZWN0IGRpdmVyc2UgaW5mb3JtYXRpb24pIG9yIG1ha2UgYSBkZWNpc2lvbiB0aGF0IHlvdSB3YW50IHRvIG1ha2UgYSBmaW5hbCBhbnN3ZXIuXFwKLSAiQWN0aW9uIjogVXNlIHRoZSBBUEkgdG8gZ2F0aGVyIG1vcmUgaW5mb3JtYXRpb24gb3IgcHJvdmlkZSB0aGUgZmluYWwgZm9yZWNhc3QuXFwKICAgIFxoc3BhY2UqezZtbX0tIElmIHVzaW5nIHRoZSBBUEk6IFxobGNbdWNsYWJsdWUhMjBde3RoZSBhY3Rpb24gbXVzdCBiZSBvbmx5IG9uZSBzaW5nbGUgbGluZSBvZiBleGFjdGx5IG9uZSBmdW5jdGlvbiBjYWxsIGZyb20gdGhlIEFQSSB3aXRoIGFwcHJvcHJpYXRlIGlucHV0cywgd2l0aG91dCBhZGRpdGlvbmFsIGNvZGUsIGV4cGxhbmF0aW9ucywgb3IgbmF0dXJhbCBsYW5ndWFnZSBkZXNjcmlwdGlvbnN9LlxcCiAgICBcaHNwYWNlKns2bW19LSBJZiBtYWtpbmcgdGhlIGZpbmFsIGZvcmVjYXN0OiB0aGUgYWN0aW9uIG11c3Qgc3RhcnQgaW1tZWRpYXRlbHkgd2l0aCAiRmluYWwgQW5zd2VyOiIsIGFuZCBmb2xsb3cgd2l0aCB0aGUgcmVzdWx0cyBpbiB0aGUgZXhwZWN0ZWQgSlNPTiBmb3JtYXQuXFwKLSAiT2JzZXJ2YXRpb24iOiBSZXR1cm4gdGhlIG91dHB1dCBvZiB0aGUgY2FsbGVkIGZ1bmN0aW9uLgpcXFxcClRvIG1ha2UgYSByZWFzb25hYmxlIGZvcmVjYXN0LCB5b3Ugc2hvdWxkIGNvbGxlY3QgYm90aCBuZXdzIGFuZCByZWxhdGlvbmFsIGV2aWRlbmNlIHRvIHN1cHBvcnQgeW91ciBwcmVkaWN0aW9uLiBXaGVuIHlvdSBhcmUgZnVsbHkgY29uZmlkZW50IHRoYXQgeW91IGFjY3VtdWxhdGUgZW5vdWdoIGluZm9ybWF0aW9uIHRvIG1ha2UgdGhlIGZpbmFsIGZvcmVjYXN0LCB5b3Ugc2hvdWxkIHN0YXJ0IHRoZSAiVGhvdWdodCIgd2l0aCB5b3VyIHJlYXNvbmluZyB1c2luZyB0aGUgbmV3cyBhbmQgc3RydWN0dXJhbCBpbmZvcm1hdGlvbiB0byBtYWtlIHRoZSBwcmVkaWN0aW9uLCBhbmQgdGhlbiBzdGFydCB0aGUgIkFjdGlvbiIgc3RlcCB3aXRoICJGaW5hbCBBbnN3ZXI6IiBmb2xsb3dlZCBieSB0aGUgYW5zd2VyIGluIHRoZSBleHBlY3RlZCBKU09OIGZvcm1hdC4gVGhlIGFuc3dlciBzaG91bGQgYmUgYSBKU09OIGRpY3Rpb25hcnkgd2hlcmUgdGhlIGtleXMgYXJlIHRoZSBmb3JlY2FzdGVkIHR3by1kaWdpdCBmaXJzdC1sZXZlbCBDQU1FTyBjb2RlcyBhbmQgdGhlIHZhbHVlcyBhcmUgbGlzdHMgb2YgZm9yZWNhc3RlZCB0aHJlZS1kaWdpdCBzZWNvbmQtbGV2ZWwgQ0FNRU8gY29kZXMgdGhhdCBhcmUgY2hpbGQgcmVsYXRpb25zIG9mIHRoZSBrZXkuIEZvciBleGFtcGxlLCAiQWN0aW9uOiBGaW5hbCBBbnN3ZXI6IFx7IjAxIjogWyIwMTAiLCAiMDExIiwgIjAxMiJdLCAiMDIiOiBbIjAyMCIsICIwMjMiXVx9Ii4KXFxcXApUaGUgZmluYWwgYW5zd2VyIHdpbGwgYmUgZXZhbHVhdGVkIGJhc2VkIG9uIHRoZSBwcmVjaXNpb24gYW5kIHJlY2FsbCBvZiB0aGUgZm9yZWNhc3RlZCBmaXJzdC1sZXZlbCBhbmQgc2Vjb25kLWxldmVsIHJlbGF0aW9ucywgc28gb25seSBpbmNsdWRlIGNvbmZpZGVudCBmaXJzdC1sZXZlbCBhbmQgc2Vjb25kLWxldmVsIENBTUVPIGNvZGVzIGluIHlvdXIgZmluYWwgZm9yZWNhc3QuClxcXFwKVHJ5IHRvIHVzZSBkaWZmZXJlbnQgQVBJcyB0byBjb2xsZWN0IGRpdmVyc2UgaW5mb3JtYXRpb24gKGluY2x1ZGluZyBtdWx0aS1ob3AgcmVsYXRpb25zKSwgc3VjaCBhcyB0aGUgcHJlY2lzZSBtZWFuaW5nIG9mIENBTUVPIGNvZGVzLCBpbnNpZ2h0cyBmcm9tIG5ld3MgY29udGVudCwgcmVsYXRpb25hbCBkYXRhLCBhbmQgc3RhdGlzdGljYWwgYW5hbHlzZXMgdG8gc3VwcG9ydCB5b3VyIGZvcmVjYXN0cy4gQ29uc2lkZXIgbm90IG9ubHkgdGhlIGZyZXF1ZW5jeSBvZiB0aGUgcmVsYXRpb25zIGJ1dCBhbHNvIHRoZSB0ZW1wb3JhbCBhc3BlY3RzIG9mIHRoZSBkYXRhIHdoZW4gbWFraW5nIHlvdXIgZm9yZWNhc3QuCgpcc3Vic3Vic2VjdGlvbntBZ2VudCBSZUFjdCBQcm9jZXNzfQpcYmVnaW57ZW51bWVyYXRlfQogICAgXGl0ZW0gXHRleHRiZntUaG91Z2h0fToKICAgIFRvIGZvcmVjYXN0IHRoZSByZWxhdGlvbnMgdGhhdCBBdXN0cmFsaWEgKEFVUykgd2lsbCB0YWtlIHRvd2FyZHMgQ2hpbmEgKENITikgb24gTm92ZW1iZXIgMDMsIDIwMjMsIEkgd2lsbCBzdGFydCBieSBnYXRoZXJpbmcgaGlzdG9yaWNhbCBkYXRhIG9uIHRoZSBpbnRlcmFjdGlvbnMgYmV0d2VlbiB0aGVzZSB0d28gY291bnRyaWVzLiBUaGlzIHdpbGwgaW5jbHVkZSB0aGUgdHlwZXMgb2YgcmVsYXRpb25zLCB0aGVpciBmcmVxdWVuY2llcywgYW5kIHRoZSBjb250ZXh0IGluIHdoaWNoIHRoZXkgb2NjdXJyZWQuIEkgd2lsbCB1c2UgdGhlIGZvbGxvd2luZyBzdGVwczoKCiAgICBcYmVnaW57ZW51bWVyYXRlfQogICAgICAgIFxpdGVtIFJldHJpZXZlIHRoZSBkaXN0cmlidXRpb24gb2Ygc2Vjb25kLWxldmVsIHJlbGF0aW9ucyBiZXR3ZWVuIEF1c3RyYWxpYSBhbmQgQ2hpbmEuCiAgICAgICAgXGl0ZW0gQW5hbHl6ZSB0aGUgZGlzdHJpYnV0aW9uIHRvIGlkZW50aWZ5IHRoZSBtb3N0IGNvbW1vbiB0eXBlcyBvZiBpbnRlcmFjdGlvbnMuCiAgICAgICAgXGl0ZW0gRXhhbWluZSByZWNlbnQgbmV3cyBhcnRpY2xlcyB0byB1bmRlcnN0YW5kIHRoZSBjb250ZXh0IGFuZCBhbnkgb25nb2luZyB0cmVuZHMgb3IgZXZlbnRzIHRoYXQgbWlnaHQgaW5mbHVlbmNlIGZ1dHVyZSByZWxhdGlvbnMuCiAgICBcZW5ke2VudW1lcmF0ZX0KCiAgICBcdGV4dGJme0FjdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQpnZXRfcmVsYXRpb25fZGlzdHJpYnV0aW9uKGhlYWRfZW50aXRpZXM9W0lTT0NvZGUoIkFVUyIpXSwgdGFpbF9lbnRpdGllcz1bSVNPQ29kZSgiQ0hOIildKVxlbmR7bHN0bGlzdGluZ30KICAgIFx0ZXh0YmZ7T2JzZXJ2YXRpb259OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0Ke0NBTUVPQ29kZShjb2RlPSIwNDIiKTogMzIsCiBDQU1FT0NvZGUoY29kZT0iMDM2Iik6IDMwLAogQ0FNRU9Db2RlKGNvZGU9IjA0MCIpOiAxNywKQ0FNRU9Db2RlKGNvZGU9IjA2MSIpOiAxNiwKQ0FNRU9Db2RlKGNvZGU9IjA0NiIpOiAxMiwKQ0FNRU9Db2RlKGNvZGU9IjA0MyIpOiAxMSwKQ0FNRU9Db2RlKGNvZGU9IjAxMCIpOiA2LApDQU1FT0NvZGUoY29kZT0iMDIwIik6IDUsCkNBTUVPQ29kZShjb2RlPSIxNzMiKTogNSwKQ0FNRU9Db2RlKGNvZGU9IjAxMiIpOiA1LApDQU1FT0NvZGUoY29kZT0iMDUxIik6IDQsCkNBTUVPQ29kZShjb2RlPSIxNjMiKTogMywKQ0FNRU9Db2RlKGNvZGU9IjEyOCIpOiAyLApDQU1FT0NvZGUoY29kZT0iMDUwIik6IDIsCkNBTUVPQ29kZShjb2RlPSIwODQiKTogMiwKQ0FNRU9Db2RlKGNvZGU9IjA5MCIpOiAyLApDQU1FT0NvZGUoY29kZT0iMTc0Iik6IDEsCkNBTUVPQ29kZShjb2RlPSIxMTIiKTogMSwKQ0FNRU9Db2RlKGNvZGU9IjEzMCIpOiAxLApDQU1FT0NvZGUoY29kZT0iMTYwIik6IDEsCkNBTUVPQ29kZShjb2RlPSIxNzIiKTogMSwKQ0FNRU9Db2RlKGNvZGU9IjE5MiIpOiAxLApDQU1FT0NvZGUoY29kZT0iMTkwIik6IDEsCkNBTUVPQ29kZShjb2RlPSIwNjAiKTogMSwKQ0FNRU9Db2RlKGNvZGU9IjAzMCIpOiAxLApDQU1FT0NvZGUoY29kZT0iMDM1Iik6IDEsCkNBTUVPQ29kZShjb2RlPSIxMzgiKTogMSwKQ0FNRU9Db2RlKGNvZGU9IjA3MSIpOiAxLApDQU1FT0NvZGUoY29kZT0iMDMxIik6IDF9XGVuZHtsc3RsaXN0aW5nfQogICAgXGl0ZW0gXHRleHRiZntUaG91Z2h0fToKICAgIFRoZSBkaXN0cmlidXRpb24gb2Ygc2Vjb25kLWxldmVsIHJlbGF0aW9ucyBiZXR3ZWVuIEF1c3RyYWxpYSBhbmQgQ2hpbmEgc2hvd3MgYSB2YXJpZXR5IG9mIGludGVyYWN0aW9ucywgd2l0aCBzb21lIHJlbGF0aW9ucyBiZWluZyBtb3JlIGZyZXF1ZW50IHRoYW4gb3RoZXJzLiBUaGUgbW9zdCBjb21tb24gaW50ZXJhY3Rpb25zIGluY2x1ZGU6CgogICAgLSAiMDQyIiAoQ29uc3VsdCk6IDMyIG9jY3VycmVuY2VzXFwKICAgIC0gIjAzNiIgKEV4cHJlc3MgaW50ZW50IHRvIGNvb3BlcmF0ZSk6IDMwIG9jY3VycmVuY2VzXFwKICAgIC0gIjA0MCIgKEFzc3VyZSk6IDE3IG9jY3VycmVuY2VzXFwKICAgIC0gIjA2MSIgKENvb3BlcmF0ZSBlY29ub21pY2FsbHkpOiAxNiBvY2N1cnJlbmNlc1xcCiAgICAtICIwNDYiIChQcmFpc2Ugb3IgZW5kb3JzZSk6IDEyIG9jY3VycmVuY2VzXFwKICAgIC0gIjA0MyIgKEFwb2xvZ2l6ZSk6IDExIG9jY3VycmVuY2VzXFwKCiAgICBUaGVzZSBmcmVxdWVudCBpbnRlcmFjdGlvbnMgc3VnZ2VzdCBhIHRyZW5kIHRvd2FyZHMgZGlwbG9tYXRpYyBhbmQgY29vcGVyYXRpdmUgZW5nYWdlbWVudHMuIEhvd2V2ZXIsIHRvIG1ha2UgYSBtb3JlIGluZm9ybWVkIGZvcmVjYXN0LCBpdCBpcyBlc3NlbnRpYWwgdG8gdW5kZXJzdGFuZCB0aGUgY29udGV4dCBhbmQgYW55IHJlY2VudCBkZXZlbG9wbWVudHMgdGhhdCBtaWdodCBpbmZsdWVuY2UgZnV0dXJlIHJlbGF0aW9ucy4KCiAgICBOZXh0LCBJIHdpbGwgcmV0cmlldmUgcmVjZW50IG5ld3MgYXJ0aWNsZXMgaW52b2x2aW5nIEF1c3RyYWxpYSBhbmQgQ2hpbmEgdG8gZ2F0aGVyIGluc2lnaHRzIG9uIHRoZSBjdXJyZW50IGNvbnRleHQgYW5kIGFueSBvbmdvaW5nIHRyZW5kcyBvciBldmVudHMuCgogICAgXHRleHRiZntBY3Rpb259OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KZ2V0X25ld3NfYXJ0aWNsZXMoZGF0ZV9yYW5nZT1EYXRlUmFuZ2Uoc3RhcnRfZGF0ZT1EYXRlKCIyMDIzLTEwLTAxIiksIGVuZF9kYXRlPURhdGUoIjIwMjMtMTEtMDIiKSksIGhlYWRfZW50aXRpZXM9W0lTT0NvZGUoIkFVUyIpXSwgdGFpbF9lbnRpdGllcz1bSVNPQ29kZSgiQ0hOIildKVxlbmR7bHN0bGlzdGluZ30KICAgIFx0ZXh0YmZ7T2JzZXJ2YXRpb259OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KWyhEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIk5vIHF1aWNrIGZpeCB0byByZW1haW5pbmcgdGFyaWZmcyBhaGVhZCBvZiBDaGluYSB2aXNpdCIpLAogKERhdGUoZGF0ZT0iMjAyMy0xMS0wMiIpLCAiQ2hpbmEicyBhZ2dyZXNzaW9uIGluIEluZG8tUGFjaWZpYyBsZWFkcyB0byAiY29uY2VybiBhbmQgYW5nc3QiOiBQZXRlciBEdXR0b24sIEF1c3RyYWxpYSJzIGxlYWRlciBvZiBvcHBvc2l0aW9uIiksCiAoRGF0ZShkYXRlPSIyMDIzLTExLTAyIiksICJBdXN0cmFsaWEgYW5kIENoaW5hIGV5ZSBuZXcgd2F5cyB0byBoZWFsIG9sZCB3b3VuZHMiKSwKIChEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIkFsYmFuZXNlIG11c3QgYWltIGJleW9uZCBiaWxhdGVyYWwgb3V0Y29tZXMgb24gQmVpamluZyB2aXNpdCIpLAogKERhdGUoZGF0ZT0iMjAyMy0xMS0wMiIpLCAiV2VzdGVybiBBdXN0cmFsaWFuIFByZW1pZXIgQW5ub3VuY2VzIFZpc2l0IHRvIENoaW5hIiksCiAoRGF0ZShkYXRlPSIyMDIzLTExLTAyIiksICJBdXN0cmFsaWFuIFBNInMgQ2hpbmEgdmlzaXQgd2lsbCBoZWxwIG5vcm1hbGl6ZSByZWxhdGlvbnMsIHNheXMgZXgtdHJhZGUgbWluaXN0ZXIiKSwKIChEYXRlKGRhdGU9IjIwMjMtMTEtMDIiKSwgIk5pY2hvbGFzIE1vb3JlIG9uIGhvdyB0byBnZXQgaW4gZWFybHkgb24gdGhlIG5leHQgYmlnIGdyb3d0aCBzdG9yeSIpLAogKERhdGUoZGF0ZT0iMjAyMy0xMS0wMiIpLCAiUE0icyBDaGluYSB0cmlwIGNlbWVudHMgbmV3IGVyYSBmb3IgdGllcyIpLAogKERhdGUoZGF0ZT0iMjAyMy0xMS0wMiIpLCAiUE0gdG8gdGFrZSBhIGhhcmQgbGluZSBvbiB0cmFkZSB3aXRoIENoaW5hIiksCiAoRGF0ZShkYXRlPSIyMDIzLTExLTAxIiksICJBdXN0cmFsaWFuIFByaW1lIE1pbmlzdGVyIEFudGhvbnkgQWxiYW5lc2UgdG8gcmFpc2UgaW1wcmlzb25lZCBkZW1vY3JhY3kgYmxvZ2dlciBkdXJpbmcgQ2hpbmEgdmlzaXQiKV1cZW5ke2xzdGxpc3Rpbmd9CiAgICBcaXRlbSBcdGV4dGJme1Rob3VnaHR9OgogICAgVGhlIHJlY2VudCBuZXdzIGFydGljbGVzIGluZGljYXRlIGEgbWl4IG9mIGRpcGxvbWF0aWMsIGVjb25vbWljLCBhbmQgc2VjdXJpdHktcmVsYXRlZCBpbnRlcmFjdGlvbnMgYmV0d2VlbiBBdXN0cmFsaWEgYW5kIENoaW5hLiBLZXkgdGhlbWVzIGluY2x1ZGU6CgogICAgLSBEaXBsb21hdGljIGVuZ2FnZW1lbnRzIGFuZCBlZmZvcnRzIHRvIG5vcm1hbGl6ZSByZWxhdGlvbnMsIGFzIHNlZW4gaW4gYXJ0aWNsZXMgYWJvdXQgdGhlIEF1c3RyYWxpYW4gUHJpbWUgTWluaXN0ZXIicyB2aXNpdCB0byBDaGluYSBhbmQgZWZmb3J0cyB0byBoZWFsIG9sZCB3b3VuZHMuXFwKICAgIC0gRWNvbm9taWMgY29vcGVyYXRpb24gYW5kIHRyYWRlIGRpc2N1c3Npb25zLCBpbmNsdWRpbmcgYWRkcmVzc2luZyB0YXJpZmZzIGFuZCB0cmFkZSBpc3N1ZXMuXFwKICAgIC0gU2VjdXJpdHkgY29uY2VybnMgYW5kIGNyaXRpY2lzbXMsIHBhcnRpY3VsYXJseSByZWxhdGVkIHRvIENoaW5hInMgYWN0aW9ucyBpbiB0aGUgSW5kby1QYWNpZmljIHJlZ2lvbiBhbmQgaHVtYW4gcmlnaHRzIGlzc3Vlcy5cXAoKICAgIEdpdmVuIHRoZXNlIHRoZW1lcywgaXQgaXMgbGlrZWx5IHRoYXQgdGhlIGZ1dHVyZSByZWxhdGlvbnMgYmV0d2VlbiBBdXN0cmFsaWEgYW5kIENoaW5hIHdpbGwgaW52b2x2ZSBhIGNvbWJpbmF0aW9uIG9mIGRpcGxvbWF0aWMgYXNzdXJhbmNlcywgZWNvbm9taWMgY29vcGVyYXRpb24sIGFuZCBzb21lIGNyaXRpY2FsIHN0YXRlbWVudHMgb3IgYWN0aW9ucyByZWxhdGVkIHRvIHNlY3VyaXR5IGFuZCBodW1hbiByaWdodHMuCgogICAgTmV4dCwgSSB3aWxsIHJldHJpZXZlIGRldGFpbGVkIGRlc2NyaXB0aW9ucyBvZiB0aGUgbW9zdCBmcmVxdWVudCBzZWNvbmQtbGV2ZWwgcmVsYXRpb25zIHRvIGVuc3VyZSBhY2N1cmF0ZSBtYXBwaW5nIGFuZCB1bmRlcnN0YW5kaW5nIG9mIHRoZXNlIGludGVyYWN0aW9ucy4KCiAgICBcdGV4dGJme0FjdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQptYXBfY2FtZW9fdG9fcmVsYXRpb24oQ0FNRU9Db2RlKCIwNDIiKSlcZW5ke2xzdGxpc3Rpbmd9CiAgICBcdGV4dGJme09ic2VydmF0aW9ufToKICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dClJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIwNDIiKSwgbmFtZT0iTWFrZSBhIHZpc2l0IiwgZGVzY3JpcHRpb249IlRyYXZlbCB0byBhbm90aGVyIGxvY2F0aW9uIGZvciBhIG1lZXRpbmcgb3Igb3RoZXIgZXZlbnQuIilcZW5ke2xzdGxpc3Rpbmd9CiAgICBcaXRlbSBcdGV4dGJme1Rob3VnaHR9OgogICAgVGhlIHJlbGF0aW9uICIwNDIiIChNYWtlIGEgdmlzaXQpIGludm9sdmVzIHRyYXZlbGluZyB0byBhbm90aGVyIGxvY2F0aW9uIGZvciBhIG1lZXRpbmcgb3Igb3RoZXIgZXZlbnQsIHdoaWNoIGFsaWducyB3aXRoIHRoZSByZWNlbnQgbmV3cyBhYm91dCB0aGUgQXVzdHJhbGlhbiBQcmltZSBNaW5pc3RlciJzIHZpc2l0IHRvIENoaW5hLiBUaGlzIHN1Z2dlc3RzIHRoYXQgZGlwbG9tYXRpYyB2aXNpdHMgYXJlIGEgc2lnbmlmaWNhbnQgYXNwZWN0IG9mIHRoZSBpbnRlcmFjdGlvbnMgYmV0d2VlbiBBdXN0cmFsaWEgYW5kIENoaW5hLgoKICAgIFRvIGZ1cnRoZXIgcmVmaW5lIHRoZSBmb3JlY2FzdCwgSSB3aWxsIHJldHJpZXZlIGRldGFpbGVkIGRlc2NyaXB0aW9ucyBmb3IgdGhlIG90aGVyIG1vc3QgZnJlcXVlbnQgc2Vjb25kLWxldmVsIHJlbGF0aW9uczogIjAzNiIsICIwNDAiLCAiMDYxIiwgIjA0NiIsIGFuZCAiMDQzIi4KCiAgICBcdGV4dGJme0FjdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQptYXBfY2FtZW9fdG9fcmVsYXRpb24oQ0FNRU9Db2RlKCIwMzYiKSlcZW5ke2xzdGxpc3Rpbmd9CiAgICBcdGV4dGJme09ic2VydmF0aW9ufToKICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dClJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIwMzYiKSwgbmFtZT0iRXhwcmVzcyBpbnRlbnQgdG8gbWVldCBvciBuZWdvdGlhdGUiLCBkZXNjcmlwdGlvbj0iT2ZmZXIsIHByb21pc2UsIGFncmVlIHRvLCBvciBvdGhlcndpc2UgaW5kaWNhdGUgd2lsbGluZ25lc3Mgb3IgY29tbWl0bWVudCB0byBtZWV0LCB2aXNpdCwgb3IgZW5nYWdlIGluIHRhbGtzIG9yIG5lZ290aWF0aW9ucy4iKVxlbmR7bHN0bGlzdGluZ30KICAgIFxpdGVtIFx0ZXh0YmZ7VGhvdWdodH06CiAgICBUaGUgcmVsYXRpb24gIjAzNiIgKEV4cHJlc3MgaW50ZW50IHRvIG1lZXQgb3IgbmVnb3RpYXRlKSBpbnZvbHZlcyBpbmRpY2F0aW5nIGEgd2lsbGluZ25lc3Mgb3IgY29tbWl0bWVudCB0byBtZWV0LCB2aXNpdCwgb3IgZW5nYWdlIGluIHRhbGtzIG9yIG5lZ290aWF0aW9ucy4gVGhpcyBhbGlnbnMgd2l0aCB0aGUgb25nb2luZyBkaXBsb21hdGljIGVmZm9ydHMgYW5kIGRpc2N1c3Npb25zIG1lbnRpb25lZCBpbiB0aGUgcmVjZW50IG5ld3MgYXJ0aWNsZXMuCgogICAgTmV4dCwgSSB3aWxsIHJldHJpZXZlIGRldGFpbGVkIGRlc2NyaXB0aW9ucyBmb3IgdGhlIHJlbGF0aW9ucyAiMDQwIiwgIjA2MSIsICIwNDYiLCBhbmQgIjA0MyIgdG8gZnVydGhlciB1bmRlcnN0YW5kIHRoZSBjb250ZXh0IG9mIHRoZXNlIGludGVyYWN0aW9ucy4KCiAgICBcdGV4dGJme0FjdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQpnZXRfcGFyZW50X3JlbGF0aW9uKENBTUVPQ29kZSgiMDQwIikpXGVuZHtsc3RsaXN0aW5nfQogICAgXHRleHRiZntPYnNlcnZhdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQpSZWxhdGlvbihjYW1lb19jb2RlPUNBTUVPQ29kZSgiMDQiKSwgbmFtZT0iQ29uc3VsdCIsIGRlc2NyaXB0aW9uPSJBbGwgY29uc3VsdGF0aW9ucyBhbmQgbWVldGluZ3MuIilcZW5ke2xzdGxpc3Rpbmd9CiAgICBcaXRlbSBcdGV4dGJme1Rob3VnaHR9OgogICAgVGhlIHBhcmVudCByZWxhdGlvbiBgMDRgIChDb25zdWx0KSBlbmNvbXBhc3NlcyBhbGwgY29uc3VsdGF0aW9ucyBhbmQgbWVldGluZ3MsIHdoaWNoIGlzIGNvbnNpc3RlbnQgd2l0aCB0aGUgZnJlcXVlbnQgZGlwbG9tYXRpYyBpbnRlcmFjdGlvbnMgYmV0d2VlbiBBdXN0cmFsaWEgYW5kIENoaW5hLiBUaGUgc3BlY2lmaWMgcmVsYXRpb24gIjA0MCIgKEFzc3VyZSkgbGlrZWx5IGludm9sdmVzIHByb3ZpZGluZyBhc3N1cmFuY2VzIGR1cmluZyB0aGVzZSBjb25zdWx0YXRpb25zLgoKICAgIFRvIGZ1cnRoZXIgcmVmaW5lIHRoZSBmb3JlY2FzdCwgSSB3aWxsIHJldHJpZXZlIGRldGFpbGVkIGRlc2NyaXB0aW9ucyBmb3IgdGhlIHJlbGF0aW9ucyAiMDYxIiwgIjA0NiIsIGFuZCAiMDQzIi4KCiAgICBcdGV4dGJme0FjdGlvbn06IiIKCiAgICBcdGV4dGJme09ic2VydmF0aW9ufTogTm8gZmVlZGJhY2sgZnJvbSB0aGUgZW52aXJvbm1lbnQgZHVlIHRvIHRoZSBudWxsIGFjdGlvbi4KICAgIFxpdGVtIFx0ZXh0YmZ7VGhvdWdodH06CiAgICBJIHdpbGwgY29udGludWUgcmV0cmlldmluZyBkZXRhaWxlZCBkZXNjcmlwdGlvbnMgZm9yIHRoZSByZWxhdGlvbnMgIjA2MSIsICIwNDYiLCBhbmQgIjA0MyIgdG8gZnVydGhlciB1bmRlcnN0YW5kIHRoZSBjb250ZXh0IG9mIHRoZXNlIGludGVyYWN0aW9ucy4KCiAgICBcdGV4dGJme0FjdGlvbn06IiIKCiAgICBcdGV4dGJme09ic2VydmF0aW9ufTogTm8gZmVlZGJhY2sgZnJvbSB0aGUgZW52aXJvbm1lbnQgZHVlIHRvIHRoZSBudWxsIGFjdGlvbi4KICAgIFxpdGVtIFx0ZXh0YmZ7VGhvdWdodH06CiAgICBJdCBzZWVtcyB0aGVyZSB3YXMgYW4gaXNzdWUgd2l0aCBteSBwcmV2aW91cyBhY3Rpb25zLiBJIHdpbGwgbm93IHByb2NlZWQgdG8gcmV0cmlldmUgdGhlIGRldGFpbGVkIGRlc2NyaXB0aW9ucyBmb3IgdGhlIHJlbWFpbmluZyBmcmVxdWVudCBzZWNvbmQtbGV2ZWwgcmVsYXRpb25zOiAiMDYxIiwgIjA0NiIsIGFuZCAiMDQzIi4KICAgIFx0ZXh0YmZ7QWN0aW9ufToKICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dCm1hcF9jYW1lb190b19yZWxhdGlvbihDQU1FT0NvZGUoIjA2MSIpKVxlbmR7bHN0bGlzdGluZ30KICAgIFx0ZXh0YmZ7T2JzZXJ2YXRpb259OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KUmVsYXRpb24oY2FtZW9fY29kZT1DQU1FT0NvZGUoIjA2MSIpLCBuYW1lPSJDb29wZXJhdGUgZWNvbm9taWNhbGx5IiwgZGVzY3JpcHRpb249IkluaXRpYXRlLCByZXN1bWUsIGltcHJvdmUsIG9yIGV4cGFuZCBlY29ub21pYyBleGNoYW5nZSBvciBjb29wZXJhdGlvbi4iKVxlbmR7bHN0bGlzdGluZ30KICAgIFxpdGVtIFx0ZXh0YmZ7VGhvdWdodH06CiAgICBUaGUgcmVsYXRpb24gIjA2MSIgKENvb3BlcmF0ZSBlY29ub21pY2FsbHkpIGludm9sdmVzIGluaXRpYXRpbmcsIHJlc3VtaW5nLCBpbXByb3ZpbmcsIG9yIGV4cGFuZGluZyBlY29ub21pYyBleGNoYW5nZSBvciBjb29wZXJhdGlvbi4gVGhpcyBhbGlnbnMgd2l0aCB0aGUgcmVjZW50IG5ld3MgYXJ0aWNsZXMgZGlzY3Vzc2luZyB0cmFkZSBpc3N1ZXMgYW5kIGVjb25vbWljIGNvb3BlcmF0aW9uIGJldHdlZW4gQXVzdHJhbGlhIGFuZCBDaGluYS4KCiAgICBOZXh0LCBJIHdpbGwgcmV0cmlldmUgZGV0YWlsZWQgZGVzY3JpcHRpb25zIGZvciB0aGUgcmVsYXRpb25zICIwNDYiIGFuZCAiMDQzIi4KCiAgICBcdGV4dGJme0FjdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQptYXBfY2FtZW9fdG9fcmVsYXRpb24oQ0FNRU9Db2RlKCIwNDYiKSlcZW5ke2xzdGxpc3Rpbmd9CiAgICBcdGV4dGJme09ic2VydmF0aW9ufToKICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dClJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIwNDYiKSwgbmFtZT0iRW5nYWdlIGluIG5lZ290aWF0aW9uIiwgZGVzY3JpcHRpb249Ik5lZ290aWF0ZSBvciBiYXJnYWluIHdpdGggb3RoZXJzLiIpXGVuZHtsc3RsaXN0aW5nfQoKICAgIFxpdGVtIFx0ZXh0YmZ7VGhvdWdodH06CiAgICBUaGUgcmVsYXRpb24gIjA0NiIgKEVuZ2FnZSBpbiBuZWdvdGlhdGlvbikgaW52b2x2ZXMgbmVnb3RpYXRpbmcgb3IgYmFyZ2FpbmluZyB3aXRoIG90aGVycy4gVGhpcyBpcyBjb25zaXN0ZW50IHdpdGggdGhlIG9uZ29pbmcgZGlzY3Vzc2lvbnMgYW5kIG5lZ290aWF0aW9ucyBtZW50aW9uZWQgaW4gdGhlIG5ld3MgYXJ0aWNsZXMsIHBhcnRpY3VsYXJseSByZWdhcmRpbmcgdHJhZGUgYW5kIGRpcGxvbWF0aWMgaXNzdWVzLgoKICAgIE5leHQsIEkgd2lsbCByZXRyaWV2ZSB0aGUgZGV0YWlsZWQgZGVzY3JpcHRpb24gZm9yIHRoZSByZWxhdGlvbiAiMDQzIi4KCiAgICBcdGV4dGJme0FjdGlvbn06IiIKCiAgICBcdGV4dGJme09ic2VydmF0aW9ufTogTm8gZmVlZGJhY2sgZnJvbSB0aGUgZW52aXJvbm1lbnQgZHVlIHRvIHRoZSBudWxsIGFjdGlvbi4KCiAgICBcaXRlbSBcdGV4dGJme1Rob3VnaHR9OgogICAgSXQgc2VlbXMgdGhlcmUgd2FzIGFuIGlzc3VlIHdpdGggbXkgcHJldmlvdXMgYWN0aW9ucy4gSSB3aWxsIG5vdyBwcm9jZWVkIHRvIHJldHJpZXZlIHRoZSBkZXRhaWxlZCBkZXNjcmlwdGlvbiBmb3IgdGhlIHJlbGF0aW9uICIwNDMiIHRvIGNvbXBsZXRlIHRoZSB1bmRlcnN0YW5kaW5nIG9mIHRoZSBtb3N0IGZyZXF1ZW50IGludGVyYWN0aW9ucyBiZXR3ZWVuIEF1c3RyYWxpYSBhbmQgQ2hpbmEuCgogICAgXHRleHRiZntBY3Rpb259OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KbWFwX2NhbWVvX3RvX3JlbGF0aW9uKENBTUVPQ29kZSgiMDQzIikpXGVuZHtsc3RsaXN0aW5nfQogICAgXHRleHRiZntPYnNlcnZhdGlvbn06CiAgICBcYmVnaW57bHN0bGlzdGluZ31bbGFuZ3VhZ2U9cHl0aG9uXQpSZWxhdGlvbihjYW1lb19jb2RlPUNBTUVPQ29kZSgiMDQzIiksIG5hbWU9Ikhvc3QgYSB2aXNpdCIsIGRlc2NyaXB0aW9uPSJIb3N0IG9yIHJlY2VpdmUgYSB2aXNpdG9yIGF0IHJlc2lkZW5jZSwgb2ZmaWNlIG9yIGhvbWUgY291bnRyeS4iKVxlbmR7bHN0bGlzdGluZ30KCiAgICBcaXRlbSBcdGV4dGJme1Rob3VnaHR9OgogICAgVGhlIHJlbGF0aW9uICIwNDMiIChIb3N0IGEgdmlzaXQpIGludm9sdmVzIGhvc3Rpbmcgb3IgcmVjZWl2aW5nIGEgdmlzaXRvciBhdCBhIHJlc2lkZW5jZSwgb2ZmaWNlLCBvciBob21lIGNvdW50cnkuIFRoaXMgYWxpZ25zIHdpdGggdGhlIGRpcGxvbWF0aWMgdmlzaXRzIGFuZCBlbmdhZ2VtZW50cyBtZW50aW9uZWQgaW4gdGhlIHJlY2VudCBuZXdzIGFydGljbGVzLgoKICAgIEJhc2VkIG9uIHRoZSBkZXRhaWxlZCBkZXNjcmlwdGlvbnMgYW5kIHRoZSByZWNlbnQgbmV3cyBjb250ZXh0LCB0aGUgbW9zdCBmcmVxdWVudCBpbnRlcmFjdGlvbnMgYmV0d2VlbiBBdXN0cmFsaWEgYW5kIENoaW5hIGludm9sdmUgZGlwbG9tYXRpYyB2aXNpdHMsIGVjb25vbWljIGNvb3BlcmF0aW9uLCBuZWdvdGlhdGlvbnMsIGFuZCBhc3N1cmFuY2VzLiBUaGVzZSBpbnRlcmFjdGlvbnMgc3VnZ2VzdCBhIHRyZW5kIHRvd2FyZHMgZGlwbG9tYXRpYyBhbmQgY29vcGVyYXRpdmUgZW5nYWdlbWVudHMsIHdpdGggc29tZSBjcml0aWNhbCBzdGF0ZW1lbnRzIG9yIGFjdGlvbnMgcmVsYXRlZCB0byBzZWN1cml0eSBhbmQgaHVtYW4gcmlnaHRzLgoKICAgIEdpdmVuIHRoaXMgaW5mb3JtYXRpb24sIEkgYW0gY29uZmlkZW50IGluIGZvcmVjYXN0aW5nIHRoZSBmb2xsb3dpbmcgcmVsYXRpb25zIGJldHdlZW4gQXVzdHJhbGlhIGFuZCBDaGluYSBvbiBOb3ZlbWJlciAwMywgMjAyMzoKCiAgICAtIERpcGxvbWF0aWMgdmlzaXRzIGFuZCBlbmdhZ2VtZW50cyAoIjA0MiIsICIwNDMiLCAiMDM2IikKICAgIC0gRWNvbm9taWMgY29vcGVyYXRpb24gKCIwNjEiKQogICAgLSBOZWdvdGlhdGlvbnMgKCIwNDYiKQogICAgLSBBc3N1cmFuY2VzICgiMDQwIikKCiAgICBcdGV4dGJme0FjdGlvbn06CiAgICBGaW5hbCBBbnN3ZXI6IFx7IjA0IjogWyIwNDAiLCAiMDQyIiwgIjA0MyIsICIwNDYiXSwgIjAzIjogWyIwMzYiXSwgIjA2IjogWyIwNjEiXVx9ClxlbmR7ZW51bWVyYXRlfQoKCgpcc3Vic3Vic2VjdGlvbntBZ2VudCBGaW5hbCBTdGF0dXN9ClxiZWdpbntpdGVtaXplfQogICAgXGl0ZW0gXHRleHRiZntFbmQgU3RhdGV9OiBGaW5hbCBBbnN3ZXIKICAgIFxpdGVtIFx0ZXh0YmZ7TnVtYmVyIG9mIFN0ZXBzIFRha2VufTogMTIKICAgIFxpdGVtIFx0ZXh0YmZ7RmluYWwgQW5zd2VyfToKICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dCnsKICAiMDMiOiBbIjAzNiJdLAogICIwNCI6IFsiMDQwIiwgIjA0MiIsICIwNDMiLCAiMDQ2Il0sCiAgIjA2IjogWyIwNjEiXQp9XGVuZHtsc3RsaXN0aW5nfQpXZSBzaG93IHRoZSBjb3JyZXNwb25kaW5nIHJlbGF0aW9uIG5hbWVzIG9mIHRoZSBwcmVkaWN0ZWQgY29kZXMgaGVyZSBmb3IgYSBiZXR0ZXIgcmV2aWV3OgogICAgICAgIFxiZWdpbntsc3RsaXN0aW5nfVtsYW5ndWFnZT1weXRob25dCnsKICAiRXhwcmVzcyBpbnRlbnQgdG8gY29vcGVyYXRlIjogWyJFeHByZXNzIGludGVudCB0byBtZWV0IG9yIG5lZ290aWF0ZSJdLAogICJDb25zdWx0IjogWyJDb25zdWx0LCBub3Qgc3BlY2lmaWVkIiwgIk1ha2UgYSB2aXNpdCIsICJIb3N0IGEgdmlzaXQiLCAiRW5nYWdlIGluIG5lZ290aWF0aW9uIl0sCiAgIkVuZ2FnZSBpbiBtYXRlcmlhbCBjb29wZXJhdGlvbiI6IFsiQ29vcGVyYXRlIGVjb25vbWljYWxseSJdCn1cZW5ke2xzdGxpc3Rpbmd9CiAgICBcaXRlbSBcdGV4dGJme0dyb3VuZCBUcnV0aCBBbnN3ZXJ9OgogICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KewogICIwMyI6IFsiMDM2Il0sCiAgIjA0IjogWyIwNDIiXSwKICAiMTciOiBbIjE3MiJdCn1cZW5ke2xzdGxpc3Rpbmd9CldlIHNob3cgdGhlIGNvcnJlc3BvbmRpbmcgcmVsYXRpb24gbmFtZXMgb2YgdGhlIGdyb3VuZC10cnV0aCBjb2RlcyBoZXJlIGZvciBhIGJldHRlciByZXZpZXc6CiAgICAgICAgXGJlZ2lue2xzdGxpc3Rpbmd9W2xhbmd1YWdlPXB5dGhvbl0KewogICJFeHByZXNzIGludGVudCB0byBjb29wZXJhdGUiOiBbIkV4cHJlc3MgaW50ZW50IHRvIG1lZXQgb3IgbmVnb3RpYXRlIl0sCiAgIkNvbnN1bHQiOiBbIk1ha2UgYSB2aXNpdCJdLAogICJDb2VyY2UiOiBbIkltcG9zZSBhZG1pbmlzdHJhdGl2ZSBzYW5jdGlvbnMiXQp9XGVuZHtsc3RsaXN0aW5nfQpcZW5ke2l0ZW1pemV9)1from  datetime  import  datetime23#  Define  the  date  range  for  the  historical  data  collection4start_date  =  Date("2023-01-01")5end_date  =  Date("2023-11-02")6date_range  =  DateRange(start_date=start_date,  end_date=end_date)78#  Define  the  ISO  codes  for  Australia  and  China9aus_code  =  ISOCode("AUS")10chn_code  =  ISOCode("CHN")1112#  Retrieve  historical  events  involving  Australia  and  China13events  =  get_events(date_range=date_range,  head_entities=[aus_code],  tail_entities=[chn_code])1415#  Print  the  retrieved  events16for  event  in  events:17  print(event)\end{lstlisting}18  \textbf{Observation}:19  \begin{lstlisting}[language=python]20Event(date=Date("2023-11-02"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))21Event(date=Date("2023-11-02"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("040"),  tail_entity=ISOCode("CHN"))22Event(date=Date("2023-11-02"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("036"),  tail_entity=ISOCode("CHN"))23Event(date=Date("2023-11-01"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))24Event(date=Date("2023-11-01"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("173"),  tail_entity=ISOCode("CHN"))25Event(date=Date("2023-11-01"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("036"),  tail_entity=ISOCode("CHN"))26Event(date=Date("2023-10-31"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("036"),  tail_entity=ISOCode("CHN"))27Event(date=Date("2023-10-31"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))28Event(date=Date("2023-10-31"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("046"),  tail_entity=ISOCode("CHN"))29Event(date=Date("2023-10-30"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("036"),  tail_entity=ISOCode("CHN"))30Event(date=Date("2023-10-30"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))31Event(date=Date("2023-10-30"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("046"),  tail_entity=ISOCode("CHN"))32Event(date=Date("2023-10-29"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("036"),  tail_entity=ISOCode("CHN"))33Event(date=Date("2023-10-27"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("036"),  tail_entity=ISOCode("CHN"))34Event(date=Date("2023-10-27"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))35Event(date=Date("2023-10-26"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("173"),  tail_entity=ISOCode("CHN"))36Event(date=Date("2023-10-26"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("061"),  tail_entity=ISOCode("CHN"))37Event(date=Date("2023-10-26"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))38Event(date=Date("2023-10-25"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))39Event(date=Date("2023-10-23"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))40Event(date=Date("2023-10-23"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("036"),  tail_entity=ISOCode("CHN"))41Event(date=Date("2023-10-23"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("031"),  tail_entity=ISOCode("CHN"))42Event(date=Date("2023-10-23"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("061"),  tail_entity=ISOCode("CHN"))43Event(date=Date("2023-10-22"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("040"),  tail_entity=ISOCode("CHN"))44Event(date=Date("2023-10-22"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("061"),  tail_entity=ISOCode("CHN"))45Event(date=Date("2023-10-22"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("036"),  tail_entity=ISOCode("CHN"))46Event(date=Date("2023-10-22"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("043"),  tail_entity=ISOCode("CHN"))47Event(date=Date("2023-10-22"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))48Event(date=Date("2023-10-21"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("042"),  tail_entity=ISOCode("CHN"))49Event(date=Date("2023-10-21"),  head_entity=ISOCode("AUS"),  relation=CAMEOCode("040"),  tail_entity=ISOCode("CHN"))\end{lstlisting}50  \item  \textbf{Thought}:51  The  retrieved  events  indicate  a  variety  of  relations  between  Australia  and  China.  To  forecast  the  future  relations,  we  need  to  analyze  the  distribution  of  these  relations  to  identify  the  most  common  types  and  any  recent  trends.5253  Next,  we  will  analyze  the  distribution  of  the  different  CAMEO  codes  in  these  events  to  identify  the  most  frequent  interactions.  This  will  help  us  understand  the  dominant  types  of  relations  and  any  emerging  patterns.5455  \textbf{Action}:56  \begin{lstlisting}[language=python]57from  collections  import  Counter5859#  Extract  the  CAMEO  codes  from  the  retrieved  events60cameo_codes  =  [event.relation.code  for  event  in  events]6162#  Count  the  frequency  of  each  CAMEO  code63cameo_code_counts  =  Counter(cameo_codes)6465#  Print  the  distribution  of  CAMEO  codes66for  code,  count  in  cameo_code_counts.items():67  print(f"CAMEO  Code:  {code},  Count:  {count}")\end{lstlisting}68  \textbf{Observation}:69  \begin{lstlisting}[language=python]70CAMEO  Code:  042,  Count:  1071CAMEO  Code:  040,  Count:  372CAMEO  Code:  036,  Count:  873CAMEO  Code:  173,  Count:  274CAMEO  Code:  046,  Count:  275CAMEO  Code:  061,  Count:  376CAMEO  Code:  031,  Count:  177CAMEO  Code:  043,  Count:  1\end{lstlisting}78  \item  \textbf{Thought}:79  The  distribution  of  CAMEO  codes  from  the  historical  events  between  Australia  and  China  reveals  that  certain  types  of  interactions  are  more  frequent  than  others.  Specifically,  the  most  common  relations  are:8081  -  \textbf{042}:  10  occurrences\\82  -  \textbf{036}:  8  occurrences\\83  -  \textbf{040}:  3  occurrences\\84  -  \textbf{061}:  3  occurrences\\85  -  \textbf{046}:  2  occurrences\\86  -  \textbf{173}:  2  occurrences\\87  -  \textbf{031}:  1  occurrence\\88  -  \textbf{043}:  1  occurrence\\89  To  make  a  more  informed  forecast,  we  should  understand  what  these  CAMEO  codes  represent.  We  will  map  these  codes  to  their  descriptions  to  gain  insights  into  the  nature  of  these  interactions.9091  \textbf{Action}:92  \begin{lstlisting}[language=python]93#  Define  the  CAMEO  codes  to  map94cameo_codes_to_map  =  ["042",  "036",  "040",  "061",  "046",  "173",  "031",  "043"]9596#  Map  the  CAMEO  codes  to  their  descriptions97relations  =  [map_cameo_to_relation(CAMEOCode(code))  for  code  in  cameo_codes_to_map]9899#  Print  the  descriptions  of  the  CAMEO  codes100for  relation  in  relations:101  print(f"CAMEO  Code:  {relation.cameo_code.code},  Name:  {relation.name},  Description:  {relation.description}")\end{lstlisting}102  \textbf{Observation}:103  \begin{lstlisting}[language=python]104CAMEO  Code:  042,  Name:  Make  a  visit,  Description:  Travel  to  another  location  for  a  meeting  or  other  event.105CAMEO  Code:  036,  Name:  Express  intent  to  meet  or  negotiate,  Description:  Offer,  promise,  agree  to,  or  otherwise  indicate  willingness  or  commitment  to  meet,  visit,  or  engage  in  talks  or  negotiations.106CAMEO  Code:  040,  Name:  Consult,  not  specified,  Description:  All  consultations  and  meetings,  not  otherwise  specified.107CAMEO  Code:  061,  Name:  Cooperate  economically,  Description:  Initiate,  resume,  improve,  or  expand  economic  exchange  or  cooperation.108CAMEO  Code:  046,  Name:  Engage  in  negotiation,  Description:  Negotiate  or  bargain  with  others.109CAMEO  Code:  173,  Name:  Arrest  or  detain,  Description:  Legal  or  extrajudicial  arrests,  detentions,  or  imprisonments.110CAMEO  Code:  031,  Name:  Express  intent  to  engage  in  material  cooperation,  Description:  Offer,  promise,  agree  to,  or  otherwise  indicate  willingness  or  commitment  to  engage  in  or  expand  material  cooperative  exchange,  such  as  express  intent  to  cooperate  economically,  militarily,  on  judicial  matters,  and  on  intelligence.111CAMEO  Code:  043,  Name:  Host  a  visit,  Description:  Host  or  receive  a  visitor  at  residence,  office  or  home  country.\end{lstlisting}112  \item  \textbf{Thought}:113  The  mapped  CAMEO  codes  and  their  descriptions  provide  valuable  insights  into  the  nature  of  interactions  between  Australia  and  China.  Here  are  the  key  relations  observed:114115  -  \textbf{042  (Make  a  visit)}:  10  occurrences  –  Indicates  frequent  travel  for  meetings  or  events.\\116  -  \textbf{036  (Express  intent  to  meet  or  negotiate)}:  8  occurrences  –  Shows  a  strong  intent  to  engage  in  talks  or  negotiations.\\117  -  \textbf{040  (Consult,  not  specified)}:  3  occurrences  –  General  consultations  and  meetings.\\118  -  \textbf{061  (Cooperate  economically)}:  3  occurrences  –  Economic  cooperation  initiatives.\\119  -  \textbf{046  (Engage  in  negotiation)}:  2  occurrences  –  Actual  negotiations  or  bargaining.\\120  -  \textbf{173  (Arrest  or  detain)}:  2  occurrences  –  Legal  or  extrajudicial  arrests  or  detentions.\\121  -  \textbf{031  (Express  intent  to  engage  in  material  cooperation)}:  1  occurrence  –  Intent  to  cooperate  materially.\\122  -  \textbf{043  (Host  a  visit)}:  1  occurrence  –  Hosting  visitors.\\123124  Given  this  data,  we  can  see  that  the  most  frequent  interactions  involve  visits,  expressions  of  intent  to  meet  or  negotiate,  and  economic  cooperation.  These  interactions  suggest  a  pattern  of  diplomatic  engagement  and  economic  collaboration,  with  occasional  legal  actions.125126  To  further  solidify  our  forecast,  we  should  examine  recent  news  articles  to  understand  the  context  and  any  underlying  reasons  for  these  interactions.  This  will  help  us  identify  any  emerging  trends  or  significant  events  that  might  influence  future  relations.127128  Next,  we  will  retrieve  recent  news  articles  involving  Australia  and  China  to  gain  contextual  insights.129130  \textbf{Action}:131  \begin{lstlisting}[language=python]132#  Define  the  date  range  for  recent  news  articles133recent_start_date  =  Date("2023-10-01")134recent_end_date  =  Date("2023-11-02")135recent_date_range  =  DateRange(start_date=recent_start_date,  end_date=recent_end_date)136137#  Retrieve  recent  news  articles  involving  Australia  and  China138news_articles  =  get_news_articles(date_range=recent_date_range,  head_entities=[aus_code],  tail_entities=[chn_code])139140#  Print  the  retrieved  news  articles141for  article  in  news_articles:142  print(article)\end{lstlisting}143  \textbf{Observation}:144  \begin{lstlisting}[language=python]145(Date(date="2023-11-02"),  "No  quick  fix  to  remaining  tariffs  ahead  of  China  visit")146(Date(date="2023-11-02"),  "China"s  aggression  in  Indo-Pacific  leads  to  "concern  and  angst":  Peter  Dutton,  Australia"s  leader  of  opposition")147(Date(date="2023-11-02"),  "Australia  and  China  eye  new  ways  to  heal  old  wounds")148(Date(date="2023-11-02"),  "Albanese  must  aim  beyond  bilateral  outcomes  on  Beijing  visit")149(Date(date="2023-11-02"),  "Western  Australian  Premier  Announces  Visit  to  China")150(Date(date="2023-11-02"),  "Australian  PM"s  China  visit  will  help  normalize  relations,  says  ex-trade  minister")151(Date(date="2023-11-02"),  "Nicholas  Moore  on  how  to  get  in  early  on  the  next  big  growth  story")152(Date(date="2023-11-02"),  "PM"s  China  trip  cements  new  era  for  ties")153(Date(date="2023-11-02"),  "PM  to  take  a  hard  line  on  trade  with  China")154(Date(date="2023-11-01"),  "Australian  Prime  Minister  Anthony  Albanese  to  raise  imprisoned  democracy  blogger  during  China  visit")\end{lstlisting}155  \item  \textbf{Thought}:156  The  recent  news  articles  provide  valuable  context  for  the  relations  between  Australia  and  China.  Key  themes  include:\\157158  1.  \textbf{Diplomatic  Visits  and  Engagements}:  Multiple  articles  highlight  the  upcoming  visit  of  Australian  Prime  Minister  Anthony  Albanese  to  China.  This  aligns  with  the  frequent  occurrence  of  CAMEO  code  \textbf{042  (Make  a  visit)}.\\159  2.  \textbf{Economic  Cooperation  and  Trade}:  Discussions  around  trade  and  economic  cooperation  are  prominent,  indicating  ongoing  efforts  to  improve  economic  ties.  This  supports  the  relevance  of  CAMEO  codes  \textbf{061  (Cooperate  economically)}  and  \textbf{036  (Express  intent  to  meet  or  negotiate)}.\\160  3.  \textbf{Concerns  and  Tensions}:  Articles  mention  concerns  about  China"s  aggression  in  the  Indo-Pacific  and  human  rights  issues,  suggesting  underlying  tensions.  This  is  reflected  in  the  occasional  occurrence  of  CAMEO  code  \textbf{173  (Arrest  or  detain)}.161162  Given  the  historical  data  and  recent  news  context,  the  most  likely  relations  that  Australia  will  take  towards  China  on  November  03,  2023,  include  diplomatic  visits,  economic  cooperation,  and  negotiations,  with  a  possibility  of  addressing  underlying  tensions.163164  Final  Answer:165  \begin{lstlisting}[language=python]166{167  "03":  ["031",  "036"],168  "04":  ["040",  "042",  "043",  "046"],169  "06":  ["061"],170  "17":  ["173"]171}\end{lstlisting}172173  \textbf{Action}:174  Final  Answer:175  \begin{lstlisting}[language=python]176{177  "03":  ["031",  "036"],178  "04":  ["040",  "042",  "043",  "046"],179  "06":  ["061"],180  "17":  ["173"]181}\end{lstlisting}182\end{enumerate}183184185\subsubsection{Agent  Final  Status}186\begin{itemize}187  \item  \textbf{End  State}:  Final  Answer188  \item  \textbf{Number  of  Steps  Taken}:  5189  \item  \textbf{Final  Answer}:190  \begin{lstlisting}[language=python]191{192  "03":  ["031",  "036"],193  "04":  ["040",  "042",  "043",  "046"],194  "06":  ["061"],195  "17":  ["173"]196}\end{lstlisting}197We  show  the  corresponding  relation  names  of  the  predicted  codes  here  for  a  better  review:198  \begin{lstlisting}[language=python]199{200  "Express  intent  to  cooperate":  ["Express  intent  to  engage  in  material  cooperation",  "Express  intent  to  meet  or  negotiate"],201  "Consult":  ["Consult,  not  specified",  "Make  a  visit",  "Host  a  visit",  "Engage  in  negotiation"],202  "Engage  in  material  cooperation":  ["Cooperate  economically"],203  "Coerce":  ["Arrest  or  detain"]204}\end{lstlisting}205  \item  \textbf{Ground  Truth  Answer}:206  \begin{lstlisting}[language=python]207{208  "03":  ["036"],209  "04":  ["042"],210  "17":  ["172"]211}\end{lstlisting}212We  show  the  corresponding  relation  names  of  the  ground-truth  codes  here  for  a  better  review:213  \begin{lstlisting}[language=python]214{215  "Express  intent  to  cooperate":  ["Express  intent  to  meet  or  negotiate"],216  "Consult":  ["Make  a  visit"],217  "Coerce":  ["Impose  administrative  sanctions"]218}\end{lstlisting}219\end{itemize}220221222223224\subsection{GPT-4o-based  Agent  with  ReAct  and  ‘‘\hlc[uclablue!20]{Single  Function}’’  Action}225226\subsubsection{Query  Details}227\begin{itemize}228  \item  \textbf{Query  Quadruplet}:  (2023-11-03,  AUS,  ?,  CHN)229  \item  \textbf{Temporal  Distance}:  1;  therefore,  the  current  date  is  2023-11-02230  \item  \textbf{Agent  Max  Steps}:  20231\end{itemize}232233\subsubsection{Query  Prompt}234Please  forecast  the  relations  that  \hlc[yellow!30]{Australia}  will  take  towards  \hlc[yellow!30]{China}  on  \hlc[yellow!30]{November  03,  2023}  based  on  historical  information  up  to  \hlc[yellow!30]{November  02,  2023}.  I.e.  forecast  the  relation  CAMEO  codes  in  query  event  \hlc[yellow!30]{Event(date=2023-11-03,  head\_entity=ISOCode(AUS),  relation=CAMEOCode(?),  tail\_entity=ISOCode(CHN))}.235236\subsubsection{System  Prompt}237You  are  an  expert  in  forecasting  future  events  based  on  historical  data.  The  database  contains  news  articles  from  January  1,  2023  to  the  current  date  \hlc[yellow!30]{November  02,  2023}  and  the  events  extracted  from  these  articles.  The  events  are  in  the  form  of  (date,  subject  country,  relation,  object  country),  where  the  countries  are  represented  by  ISO  3166-1  alpha-3  codes  and  the  relations  are  represented  by  the  CAMEO  codes  defined  in  the  "Conflict  and  Mediation  Event  Observations"  ontology.  The  relations  are  hierarchical:  first-level  relations  are  general  parent  relations  represented  by  two-digit  CAMEO  codes,  while  second-level  relations  are  more  specific  child  relations  represented  by  three-digit  CAMEO  codes.  Child  relations  have  the  same  first  two  digits  as  their  parent  relations.  For  example,  "01"  is  a  first-level  relation,  and  "010"  and  "011"  are  some  of  its  second-level  relations.  The  relations  in  the  database  are  represented  in  the  second-level  form.238\\\\239Your  task  is  to  forecast  the  future  relations  between  two  entities  in  a  given  query.  You  have  access  to  a  defined  Python  API  that  allows  you  to  query  the  database  for  historical  events  and  statistics,  and  to  get  precise  information  about  the  ISO  country  codes  and  CAMEO  relation  codes.240\\\\241The  defined  API  is  described  as  follows:\\242{\textasciigrave}{\textasciigrave}{\textasciigrave}  python\\243\texttt{\{api\_description\}}\\244{\textasciigrave}{\textasciigrave}{\textasciigrave}245\\\\246You  will  use  an  iterative  approach,  interleaving  "Thought",  "Action",  and  "Observation"  steps  to  collect  information  and  perform  the  forecast.  You  may  perform  up  to  \hlc[yellow!30]{20}  iterations.  The  steps  are  as  follows:247\\\\248-  "Thought":  Analyze  the  current  information  and  reason  about  the  current  situation,  and  predicts  which  API  you  want  to  use  (try  to  use  different  APIs  to  collect  diverse  information)  or  make  a  decision  that  you  want  to  make  a  final  answer.\\249-  "Action":  Use  the  API  to  gather  more  information  or  provide  the  final  forecast.\\250  \hspace*{6mm}-  If  using  the  API:  \hlc[uclablue!20]{the  action  must  be  only  one  single  line  of  exactly  one  function  call  from  the  API  with  appropriate  inputs,  without  additional  code,  explanations,  or  natural  language  descriptions}.\\251  \hspace*{6mm}-  If  making  the  final  forecast:  the  action  must  start  immediately  with  "Final  Answer:",  and  follow  with  the  results  in  the  expected  JSON  format.\\252-  "Observation":  Return  the  output  of  the  called  function.253\\\\254To  make  a  reasonable  forecast,  you  should  collect  both  news  and  relational  evidence  to  support  your  prediction.  When  you  are  fully  confident  that  you  accumulate  enough  information  to  make  the  final  forecast,  you  should  start  the  "Thought"  with  your  reasoning  using  the  news  and  structural  information  to  make  the  prediction,  and  then  start  the  "Action"  step  with  "Final  Answer:"  followed  by  the  answer  in  the  expected  JSON  format.  The  answer  should  be  a  JSON  dictionary  where  the  keys  are  the  forecasted  two-digit  first-level  CAMEO  codes  and  the  values  are  lists  of  forecasted  three-digit  second-level  CAMEO  codes  that  are  child  relations  of  the  key.  For  example,  "Action:  Final  Answer:  \{"01":  ["010",  "011",  "012"],  "02":  ["020",  "023"]\}".255\\\\256The  final  answer  will  be  evaluated  based  on  the  precision  and  recall  of  the  forecasted  first-level  and  second-level  relations,  so  only  include  confident  first-level  and  second-level  CAMEO  codes  in  your  final  forecast.257\\\\258Try  to  use  different  APIs  to  collect  diverse  information  (including  multi-hop  relations),  such  as  the  precise  meaning  of  CAMEO  codes,  insights  from  news  content,  relational  data,  and  statistical  analyses  to  support  your  forecasts.  Consider  not  only  the  frequency  of  the  relations  but  also  the  temporal  aspects  of  the  data  when  making  your  forecast.259260\subsubsection{Agent  ReAct  Process}261\begin{enumerate}262  \item  \textbf{Thought}:263  To  forecast  the  relations  that  Australia  (AUS)  will  take  towards  China  (CHN)  on  November  03,  2023,  I  will  start  by  gathering  historical  data  on  the  interactions  between  these  two  countries.  This  will  include  the  types  of  relations,  their  frequencies,  and  the  context  in  which  they  occurred.  I  will  use  the  following  steps:264265  \begin{enumerate}266  \item  Retrieve  the  distribution  of  second-level  relations  between  Australia  and  China.267  \item  Analyze  the  distribution  to  identify  the  most  common  types  of  interactions.268  \item  Examine  recent  news  articles  to  understand  the  context  and  any  ongoing  trends  or  events  that  might  influence  future  relations.269  \end{enumerate}270271  \textbf{Action}:272  \begin{lstlisting}[language=python]273get_relation_distribution(head_entities=[ISOCode("AUS")],  tail_entities=[ISOCode("CHN")])\end{lstlisting}274  \textbf{Observation}:275  \begin{lstlisting}[language=python]276{CAMEOCode(code="042"):  32,277  CAMEOCode(code="036"):  30,278  CAMEOCode(code="040"):  17,279CAMEOCode(code="061"):  16,280CAMEOCode(code="046"):  12,281CAMEOCode(code="043"):  11,282CAMEOCode(code="010"):  6,283CAMEOCode(code="020"):  5,284CAMEOCode(code="173"):  5,285CAMEOCode(code="012"):  5,286CAMEOCode(code="051"):  4,287CAMEOCode(code="163"):  3,288CAMEOCode(code="128"):  2,289CAMEOCode(code="050"):  2,290CAMEOCode(code="084"):  2,291CAMEOCode(code="090"):  2,292CAMEOCode(code="174"):  1,293CAMEOCode(code="112"):  1,294CAMEOCode(code="130"):  1,295CAMEOCode(code="160"):  1,296CAMEOCode(code="172"):  1,297CAMEOCode(code="192"):  1,298CAMEOCode(code="190"):  1,299CAMEOCode(code="060"):  1,300CAMEOCode(code="030"):  1,301CAMEOCode(code="035"):  1,302CAMEOCode(code="138"):  1,303CAMEOCode(code="071"):  1,304CAMEOCode(code="031"):  1}\end{lstlisting}305  \item  \textbf{Thought}:306  The  distribution  of  second-level  relations  between  Australia  and  China  shows  a  variety  of  interactions,  with  some  relations  being  more  frequent  than  others.  The  most  common  interactions  include:307308  -  "042"  (Consult):  32  occurrences\\309  -  "036"  (Express  intent  to  cooperate):  30  occurrences\\310  -  "040"  (Assure):  17  occurrences\\311  -  "061"  (Cooperate  economically):  16  occurrences\\312  -  "046"  (Praise  or  endorse):  12  occurrences\\313  -  "043"  (Apologize):  11  occurrences\\314315  These  frequent  interactions  suggest  a  trend  towards  diplomatic  and  cooperative  engagements.  However,  to  make  a  more  informed  forecast,  it  is  essential  to  understand  the  context  and  any  recent  developments  that  might  influence  future  relations.316317  Next,  I  will  retrieve  recent  news  articles  involving  Australia  and  China  to  gather  insights  on  the  current  context  and  any  ongoing  trends  or  events.318319  \textbf{Action}:320  \begin{lstlisting}[language=python]321get_news_articles(date_range=DateRange(start_date=Date("2023-10-01"),  end_date=Date("2023-11-02")),  head_entities=[ISOCode("AUS")],  tail_entities=[ISOCode("CHN")])\end{lstlisting}322  \textbf{Observation}:323  \begin{lstlisting}[language=python]324[(Date(date="2023-11-02"),  "No  quick  fix  to  remaining  tariffs  ahead  of  China  visit"),325  (Date(date="2023-11-02"),  "China"s  aggression  in  Indo-Pacific  leads  to  "concern  and  angst":  Peter  Dutton,  Australia"s  leader  of  opposition"),326  (Date(date="2023-11-02"),  "Australia  and  China  eye  new  ways  to  heal  old  wounds"),327  (Date(date="2023-11-02"),  "Albanese  must  aim  beyond  bilateral  outcomes  on  Beijing  visit"),328  (Date(date="2023-11-02"),  "Western  Australian  Premier  Announces  Visit  to  China"),329  (Date(date="2023-11-02"),  "Australian  PM"s  China  visit  will  help  normalize  relations,  says  ex-trade  minister"),330  (Date(date="2023-11-02"),  "Nicholas  Moore  on  how  to  get  in  early  on  the  next  big  growth  story"),331  (Date(date="2023-11-02"),  "PM"s  China  trip  cements  new  era  for  ties"),332  (Date(date="2023-11-02"),  "PM  to  take  a  hard  line  on  trade  with  China"),333  (Date(date="2023-11-01"),  "Australian  Prime  Minister  Anthony  Albanese  to  raise  imprisoned  democracy  blogger  during  China  visit")]\end{lstlisting}334  \item  \textbf{Thought}:335  The  recent  news  articles  indicate  a  mix  of  diplomatic,  economic,  and  security-related  interactions  between  Australia  and  China.  Key  themes  include:336337  -  Diplomatic  engagements  and  efforts  to  normalize  relations,  as  seen  in  articles  about  the  Australian  Prime  Minister"s  visit  to  China  and  efforts  to  heal  old  wounds.\\338  -  Economic  cooperation  and  trade  discussions,  including  addressing  tariffs  and  trade  issues.\\339  -  Security  concerns  and  criticisms,  particularly  related  to  China"s  actions  in  the  Indo-Pacific  region  and  human  rights  issues.\\340341  Given  these  themes,  it  is  likely  that  the  future  relations  between  Australia  and  China  will  involve  a  combination  of  diplomatic  assurances,  economic  cooperation,  and  some  critical  statements  or  actions  related  to  security  and  human  rights.342343  Next,  I  will  retrieve  detailed  descriptions  of  the  most  frequent  second-level  relations  to  ensure  accurate  mapping  and  understanding  of  these  interactions.344345  \textbf{Action}:346  \begin{lstlisting}[language=python]347map_cameo_to_relation(CAMEOCode("042"))\end{lstlisting}348  \textbf{Observation}:349  \begin{lstlisting}[language=python]350Relation(cameo_code=CAMEOCode("042"),  name="Make  a  visit",  description="Travel  to  another  location  for  a  meeting  or  other  event.")\end{lstlisting}351  \item  \textbf{Thought}:352  The  relation  "042"  (Make  a  visit)  involves  traveling  to  another  location  for  a  meeting  or  other  event,  which  aligns  with  the  recent  news  about  the  Australian  Prime  Minister"s  visit  to  China.  This  suggests  that  diplomatic  visits  are  a  significant  aspect  of  the  interactions  between  Australia  and  China.353354  To  further  refine  the  forecast,  I  will  retrieve  detailed  descriptions  for  the  other  most  frequent  second-level  relations:  "036",  "040",  "061",  "046",  and  "043".355356  \textbf{Action}:357  \begin{lstlisting}[language=python]358map_cameo_to_relation(CAMEOCode("036"))\end{lstlisting}359  \textbf{Observation}:360  \begin{lstlisting}[language=python]361Relation(cameo_code=CAMEOCode("036"),  name="Express  intent  to  meet  or  negotiate",  description="Offer,  promise,  agree  to,  or  otherwise  indicate  willingness  or  commitment  to  meet,  visit,  or  engage  in  talks  or  negotiations.")\end{lstlisting}362  \item  \textbf{Thought}:363  The  relation  "036"  (Express  intent  to  meet  or  negotiate)  involves  indicating  a  willingness  or  commitment  to  meet,  visit,  or  engage  in  talks  or  negotiations.  This  aligns  with  the  ongoing  diplomatic  efforts  and  discussions  mentioned  in  the  recent  news  articles.364365  Next,  I  will  retrieve  detailed  descriptions  for  the  relations  "040",  "061",  "046",  and  "043"  to  further  understand  the  context  of  these  interactions.366367  \textbf{Action}:368  \begin{lstlisting}[language=python]369get_parent_relation(CAMEOCode("040"))\end{lstlisting}370  \textbf{Observation}:371  \begin{lstlisting}[language=python]372Relation(cameo_code=CAMEOCode("04"),  name="Consult",  description="All  consultations  and  meetings.")\end{lstlisting}373  \item  \textbf{Thought}:374  The  parent  relation  ‘04‘  (Consult)  encompasses  all  consultations  and  meetings,  which  is  consistent  with  the  frequent  diplomatic  interactions  between  Australia  and  China.  The  specific  relation  "040"  (Assure)  likely  involves  providing  assurances  during  these  consultations.375376  To  further  refine  the  forecast,  I  will  retrieve  detailed  descriptions  for  the  relations  "061",  "046",  and  "043".377378  \textbf{Action}:""379380  \textbf{Observation}:  No  feedback  from  the  environment  due  to  the  null  action.381  \item  \textbf{Thought}:382  I  will  continue  retrieving  detailed  descriptions  for  the  relations  "061",  "046",  and  "043"  to  further  understand  the  context  of  these  interactions.383384  \textbf{Action}:""385386  \textbf{Observation}:  No  feedback  from  the  environment  due  to  the  null  action.387  \item  \textbf{Thought}:388  It  seems  there  was  an  issue  with  my  previous  actions.  I  will  now  proceed  to  retrieve  the  detailed  descriptions  for  the  remaining  frequent  second-level  relations:  "061",  "046",  and  "043".389  \textbf{Action}:390  \begin{lstlisting}[language=python]391map_cameo_to_relation(CAMEOCode("061"))\end{lstlisting}392  \textbf{Observation}:393  \begin{lstlisting}[language=python]394Relation(cameo_code=CAMEOCode("061"),  name="Cooperate  economically",  description="Initiate,  resume,  improve,  or  expand  economic  exchange  or  cooperation.")\end{lstlisting}395  \item  \textbf{Thought}:396  The  relation  "061"  (Cooperate  economically)  involves  initiating,  resuming,  improving,  or  expanding  economic  exchange  or  cooperation.  This  aligns  with  the  recent  news  articles  discussing  trade  issues  and  economic  cooperation  between  Australia  and  China.397398  Next,  I  will  retrieve  detailed  descriptions  for  the  relations  "046"  and  "043".399400  \textbf{Action}:401  \begin{lstlisting}[language=python]402map_cameo_to_relation(CAMEOCode("046"))\end{lstlisting}403  \textbf{Observation}:404  \begin{lstlisting}[language=python]405Relation(cameo_code=CAMEOCode("046"),  name="Engage  in  negotiation",  description="Negotiate  or  bargain  with  others.")\end{lstlisting}406407  \item  \textbf{Thought}:408  The  relation  "046"  (Engage  in  negotiation)  involves  negotiating  or  bargaining  with  others.  This  is  consistent  with  the  ongoing  discussions  and  negotiations  mentioned  in  the  news  articles,  particularly  regarding  trade  and  diplomatic  issues.409410  Next,  I  will  retrieve  the  detailed  description  for  the  relation  "043".411412  \textbf{Action}:""413414  \textbf{Observation}:  No  feedback  from  the  environment  due  to  the  null  action.415416  \item  \textbf{Thought}:417  It  seems  there  was  an  issue  with  my  previous  actions.  I  will  now  proceed  to  retrieve  the  detailed  description  for  the  relation  "043"  to  complete  the  understanding  of  the  most  frequent  interactions  between  Australia  and  China.418419  \textbf{Action}:420  \begin{lstlisting}[language=python]421map_cameo_to_relation(CAMEOCode("043"))\end{lstlisting}422  \textbf{Observation}:423  \begin{lstlisting}[language=python]424Relation(cameo_code=CAMEOCode("043"),  name="Host  a  visit",  description="Host  or  receive  a  visitor  at  residence,  office  or  home  country.")\end{lstlisting}425426  \item  \textbf{Thought}:427  The  relation  "043"  (Host  a  visit)  involves  hosting  or  receiving  a  visitor  at  a  residence,  office,  or  home  country.  This  aligns  with  the  diplomatic  visits  and  engagements  mentioned  in  the  recent  news  articles.428429  Based  on  the  detailed  descriptions  and  the  recent  news  context,  the  most  frequent  interactions  between  Australia  and  China  involve  diplomatic  visits,  economic  cooperation,  negotiations,  and  assurances.  These  interactions  suggest  a  trend  towards  diplomatic  and  cooperative  engagements,  with  some  critical  statements  or  actions  related  to  security  and  human  rights.430431  Given  this  information,  I  am  confident  in  forecasting  the  following  relations  between  Australia  and  China  on  November  03,  2023:432433  -  Diplomatic  visits  and  engagements  ("042",  "043",  "036")434  -  Economic  cooperation  ("061")435  -  Negotiations  ("046")436  -  Assurances  ("040")437438  \textbf{Action}:439  Final  Answer:  \{"04":  ["040",  "042",  "043",  "046"],  "03":  ["036"],  "06":  ["061"]\}440\end{enumerate}441442443444\subsubsection{Agent  Final  Status}445\begin{itemize}446  \item  \textbf{End  State}:  Final  Answer447  \item  \textbf{Number  of  Steps  Taken}:  12448  \item  \textbf{Final  Answer}:449  \begin{lstlisting}[language=python]450{451  "03":  ["036"],452  "04":  ["040",  "042",  "043",  "046"],453  "06":  ["061"]454}\end{lstlisting}455We  show  the  corresponding  relation  names  of  the  predicted  codes  here  for  a  better  review:456  \begin{lstlisting}[language=python]457{458  "Express  intent  to  cooperate":  ["Express  intent  to  meet  or  negotiate"],459  "Consult":  ["Consult,  not  specified",  "Make  a  visit",  "Host  a  visit",  "Engage  in  negotiation"],460  "Engage  in  material  cooperation":  ["Cooperate  economically"]461}\end{lstlisting}462  \item  \textbf{Ground  Truth  Answer}:463  \begin{lstlisting}[language=python]464{465  "03":  ["036"],466  "04":  ["042"],467  "17":  ["172"]468}\end{lstlisting}469We  show  the  corresponding  relation  names  of  the  ground-truth  codes  here  for  a  better  review:470  \begin{lstlisting}[language=python]471{472  "Express  intent  to  cooperate":  ["Express  intent  to  meet  or  negotiate"],473  "Consult":  ["Make  a  visit"],474  "Coerce":  ["Impose  administrative  sanctions"]475}\end{lstlisting}476\end{itemize}'
  id: totrans-960
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Appendix M Additional Information about API
  id: totrans-961
  prefs:
  - PREF_IND
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录M API的附加信息
- en: M.1 Overview of API Data Classes and Functions
  id: totrans-962
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: M.1 API数据类和函数概述
- en: 'Table 7: API data classes and their attributes'
  id: totrans-963
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '表7: API数据类及其属性'
- en: '| Class Name | Attributes and Types |'
  id: totrans-964
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 类名 | 属性和类型 |'
- en: '| Date | date:  str  #  ‘YYYY-MM-DD’ |'
  id: totrans-965
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 日期 | date:  str  #  ‘YYYY-MM-DD’ |'
- en: '| DateRange | start_date:  Optional[Date], end_date:  Optional[Date] |'
  id: totrans-966
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| DateRange | start_date:  Optional[Date], end_date:  Optional[Date] |'
- en: '| ISOCode | code:  str  #  3-letter  ISO  code |'
  id: totrans-967
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| ISOCode | code:  str  #  3字母ISO代码 |'
- en: '| Country | iso_code:  ISOCode, name:  str |'
  id: totrans-968
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| Country | iso_code:  ISOCode, name:  str |'
- en: '| CAMEOCode | code:  str  #  CAMEO  code |'
  id: totrans-969
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| CAMEOCode | code:  str  #  CAMEO 代码 |'
- en: '| Relation | cameo_code:  CAMEOCode, name:  str, description:  str |'
  id: totrans-970
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| Relation | cameo_code:  CAMEOCode, name:  str, description:  str |'
- en: '| Event | date:  Date, head_entity:  ISOCode, relation:  CAMEOCode, tail_entity:  ISOCode
    |'
  id: totrans-971
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| Event | date:  Date, head_entity:  ISOCode, relation:  CAMEOCode, tail_entity:  ISOCode
    |'
- en: '| NewsArticle | date:  Date, title:  str, content:  str, events:  List[Event]
    |'
  id: totrans-972
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| NewsArticle | date:  Date, title:  str, content:  str, events:  List[Event]
    |'
- en: 'Table 8: API functions categorized by functionality'
  id: totrans-973
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '表8: 按功能分类的API函数'
- en: '| Functions related to Countries and Relations |'
  id: totrans-974
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 与国家和关系相关的功能 |'
- en: '| map_country_name_to_iso(name:  str)  ->  List[Country] |'
  id: totrans-975
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| map_country_name_to_iso(name:  str)  ->  List[Country] |'
- en: '| map_iso_to_country_name(iso_code:  ISOCode)  ->  str |'
  id: totrans-976
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| map_iso_to_country_name(iso_code:  ISOCode)  ->  str |'
- en: '| map_relation_description_to_cameo(description:  str)  ->  List[Relation]
    |'
  id: totrans-977
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| map_relation_description_to_cameo(description:  str)  ->  List[Relation]
    |'
- en: '| map_cameo_to_relation(cameo_code:  CAMEOCode)  ->  Relation |'
  id: totrans-978
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| map_cameo_to_relation(cameo_code:  CAMEOCode)  ->  Relation |'
- en: '| get_parent_relation(cameo_code:  CAMEOCode)  ->  Relation |'
  id: totrans-979
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| get_parent_relation(cameo_code:  CAMEOCode)  ->  Relation |'
- en: '| get_child_relations(cameo_code:  CAMEOCode)  ->  List[Relation] |'
  id: totrans-980
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| get_child_relations(cameo_code:  CAMEOCode)  ->  List[Relation] |'
- en: '| get_sibling_relations(cameo_code:  CAMEOCode)  ->  List[Relation] |'
  id: totrans-981
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| get_sibling_relations(cameo_code:  CAMEOCode)  ->  List[Relation] |'
- en: '| Functions related to Events |'
  id: totrans-982
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 与事件相关的功能 |'
- en: '| count_events(date_range:  Optional[DateRange],  head_entities:  Optional[List[ISO%Code]],  tail_entities:  Optional[List[ISOCode]],  relations:  Optional[List[CAMEO%Code]])  ->  int
    |'
  id: totrans-983
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| count_events(date_range:  Optional[DateRange],  head_entities:  Optional[List[ISOCode]],  tail_entities:  Optional[List[ISOCode]],  relations:  Optional[List[CAMEOCode]])  ->  int
    |'
- en: '| get_events(date_range:  Optional[DateRange],  head_entities:  Optional[List[ISOCo%de]],  tail_entities:  Optional[List[ISOCode]],  relations:  Optional[List[CAMEOCo%de]],  text_description:  Optional[str])  ->  List[Event]
    |'
  id: totrans-984
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| get_events(date_range:  Optional[DateRange],  head_entities:  Optional[List[ISOCode]],  tail_entities:  Optional[List[ISOCode]],  relations:  Optional[List[CAMEOCode]],  text_description:  Optional[str])  ->  List[Event]
    |'
- en: '| get_entity_distribution(date_range:  Optional[DateRange],  involved_relations:  O%ptional[List[CAMEOCode]],  interacted_entities:  Optional[List[ISOCode]],  entity%_role:  Optional[str])  ->  Dict[ISOCode,  int]
    |'
  id: totrans-985
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| get_entity_distribution(date_range:  Optional[DateRange],  involved_relations:  Optional[List[CAMEOCode]],  interacted_entities:  Optional[List[ISOCode]],  entity%_role:  Optional[str])  ->  Dict[ISOCode,  int]
    |'
- en: '| get_relation_distribution(date_range:  Optional[DateRange],  head_entities:  Opti%onal[List[ISOCode]],  tail_entities:  Optional[List[ISOCode]])  ->  Dict[CAMEOCode%,  int]
    |'
  id: totrans-986
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| get_relation_distribution(date_range:  Optional[DateRange],  head_entities:  Optional[List[ISOCode]],  tail_entities:  Optional[List[ISOCode]])  ->  Dict[CAMEOCode%,  int]
    |'
- en: '| Functions related to News |'
  id: totrans-987
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 与新闻相关的功能 |'
- en: '| count_news_articles(date_range:  Optional[DateRange],  head_entities:  Optional[L%ist[ISOCode]],  tail_entities:  Optional[List[ISOCode]],  relations:  Optional[Lis%t[CAMEOCode]],  keywords:  Optional[List[str]])  ->  int
    |'
  id: totrans-988
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| count_news_articles(date_range:  Optional[DateRange],  head_entities:  Optional[List[ISOCode]],  tail_entities:  Optional[List[ISOCode]],  relations:  Optional[List[CAMEOCode]],  keywords:  Optional[List[str]])  ->  int
    |'
- en: '| get_news_articles(date_range:  Optional[DateRange],  head_entities:  Optional[Lis%t[ISOCode]],  tail_entities:  Optional[List[ISOCode]],  relations:  Optional[List[%CAMEOCode]],  keywords:  Optional[List[str]],  text_description:  Optional[str])  -%>  List[Tuple[Date,  str]]
    |'
  id: totrans-989
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| get_news_articles(date_range:  Optional[DateRange],  head_entities:  Optional[List[ISOCode]],  tail_entities:  Optional[List[ISOCode]],  relations:  Optional[List[CAMEOCode]],  keywords:  Optional[List[str]],  text_description:  Optional[str])  ->  List[Tuple[Date,  str]]
    |'
- en: '| browse_news_article(date:  Date,  title:  str)  ->  str |'
  id: totrans-990
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| browse_news_article(date:  Date,  title:  str)  ->  str |'
- en: M.2 API Specification
  id: totrans-991
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: M.2 API 规范
- en: In this section, we provide the API specification, which is part of the system
    prompt for the ReAct agent. It contains the definition of data classes and functions,
    with detailed Python docstring. For dataclass, the specification includes class
    definition and description, attributes and their description, and the example
    of initializing the class object. For functions, the specification includes the
    function definition and description, the parameter and description, the return
    and description, and the example of usage.
  id: totrans-992
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在本节中，我们提供了 API 规范，这是 ReAct 代理系统提示的一部分。它包含了数据类和函数的定义，并附有详细的 Python 文档字符串。对于数据类，规范包括类的定义与描述、属性及其描述，以及初始化类对象的示例。对于函数，规范包括函数的定义与描述、参数及其描述、返回值及其描述，以及使用示例。
- en: '[⬇](data:text/plain;base64,QGRhdGFjbGFzcwpjbGFzcyBEYXRlOgogICAgIiIiUmVwcmVzZW50cyBhIGRhdGUuIiIiCiAgICBkYXRlOiBzdHIgIyBEYXRlIGluIHRoZSBmb3JtYXQgJ1lZWVktTU0tREQnCiAgICAjIEV4YW1wbGU6IERhdGUoIjIwMjItMDEtMDEiKQoKQGRhdGFjbGFzcwpjbGFzcyBEYXRlUmFuZ2U6CiAgICAiIiJSZXByZXNlbnRzIGEgcmFuZ2Ugb2YgZGF0ZXMgKGluY2x1c2l2ZSkuIiIiCiAgICBzdGFydF9kYXRlOiBPcHRpb25hbFtEYXRlXSAjIElmIE5vbmUsIHRoZSBlYXJsaWVzdCBkYXRlIGlzIHVzZWQKICAgIGVuZF9kYXRlOiBPcHRpb25hbFtEYXRlXSAjIElmIE5vbmUsIHRoZSBjdXJyZW50IGRhdGUgaXMgdXNlZAogICAgIyBFeGFtcGxlOiBEYXRlUmFuZ2Uoc3RhcnRfZGF0ZT1EYXRlKCIyMDIyLTAxLTAxIiksIGVuZF9kYXRlPURhdGUoIjIwMjItMDEtMzEiKSkKCkBkYXRhY2xhc3MKY2xhc3MgSVNPQ29kZToKICAgICIiIlJlcHJlc2VudHMgYW4gSVNPIGFscGhhLTMgY291bnRyeSBjb2RlLiIiIgogICAgY29kZTogc3RyICMgMy1sZXR0ZXIgSVNPIGNvZGUKICAgICMgRXhhbXBsZTogSVNPQ29kZSgiVVNBIikKCkBkYXRhY2xhc3MKY2xhc3MgQ291bnRyeToKICAgICIiIlJlcHJlc2VudHMgYSBjb3VudHJ5IGVudGl0eS4iIiIKICAgIGlzb19jb2RlOiBJU09Db2RlCiAgICBuYW1lOiBzdHIKICAgICMgRXhhbXBsZTogQ291bnRyeShpc29fY29kZT1JU09Db2RlKCJVU0EiKSwgbmFtZT0iVW5pdGVkIFN0YXRlcyIpCgpAZGF0YWNsYXNzCmNsYXNzIENBTUVPQ29kZToKICAgICIiIlJlcHJlc2VudHMgYSBDQU1FTyB2ZXJiIGNvZGUuIiIiCiAgICBjb2RlOiBzdHIgIyAyLWRpZ2l0IENBTUVPIGNvZGUgZm9yIGZpcnN0IGxldmVsIHJlbGF0aW9ucywgMy1kaWdpdCBDQU1FTyBjb2RlIGZvciBzZWNvbmQgbGV2ZWwgcmVsYXRpb25zCiAgICAjIEV4YW1wbGU6IENBTUVPQ29kZSgiMDEiKSwgQ0FNRU9Db2RlKCIwMTAiKQoKQGRhdGFjbGFzcwpjbGFzcyBSZWxhdGlvbjoKICAgICIiIlJlcHJlc2VudHMgYSByZWxhdGlvbi4iIiIKICAgIGNhbWVvX2NvZGU6IENBTUVPQ29kZQogICAgbmFtZTogc3RyCiAgICBkZXNjcmlwdGlvbjogc3RyICMgQSBicmllZiBkZXNjcmlwdGlvbiBvZiB3aGF0IGV2ZW50IHRoZSByZWxhdGlvbiByZXByZXNlbnRzCiAgICAjIEV4YW1wbGU6IFJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIwMTAiKSwgbmFtZT0iTWFrZSBzdGF0ZW1lbnQsIG5vdCBzcGVjaWZpZWQiLCBkZXNjcmlwdGlvbj0iQWxsIHB1YmxpYyBzdGF0ZW1lbnRzIGV4cHJlc3NlZCB2ZXJiYWxseSBvciBpbiBhY3Rpb24sIG5vdCBvdGhlcndpc2Ugc3BlY2lmaWVkLiIKCkBkYXRhY2xhc3MKY2xhc3MgRXZlbnQ6CiAgICAiIiJSZXByZXNlbnRzIGFuIGV2ZW50IGNoYXJhY3Rlcml6ZWQgYnkgZGF0ZSwgaGVhZCBlbnRpdHksIHJlbGF0aW9uLCBhbmQgdGFpbCBlbnRpdHkuIiIiCiAgICBkYXRlOiBEYXRlCiAgICBoZWFkX2VudGl0eTogSVNPQ29kZQogICAgcmVsYXRpb246IENBTUVPQ29kZQogICAgdGFpbF9lbnRpdHk6IElTT0NvZGUKICAgICMgRXhhbXBsZTogRXZlbnQoZGF0ZT1EYXRlKCIyMDIyLTAxLTAxIiksIGhlYWRfZW50aXR5PUlTT0NvZGUoIlVTQSIpLCByZWxhdGlvbj1DQU1FT0NvZGUoIjAxMCIpLCB0YWlsX2VudGl0eT1JU09Db2RlKCJDQU4iKSkKCkBkYXRhY2xhc3MKY2xhc3MgTmV3c0FydGljbGU6CiAgICAiIiJSZXByZXNlbnRzIGEgbmV3cyBhcnRpY2xlLCBpbmNsdWRpbmcgbWV0YWRhdGEgYW5kIGNvbnRlbnQuIiIiCiAgICBkYXRlOiBEYXRlCiAgICB0aXRsZTogc3RyCiAgICBjb250ZW50OiBzdHIgIyBGdWxsIHRleHQgY29udGVudCBvZiB0aGUgbmV3cyBhcnRpY2xlCiAgICBldmVudHM6IExpc3RbRXZlbnRdICMgTGlzdCBvZiBldmVudHMgbWVudGlvbmVkIGluIHRoZSBhcnRpY2xlCiAgICAjIEV4YW1wbGU6IE5ld3NBcnRpY2xlKGRhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCB0aXRsZT0iVHJhZGUgYWdyZWVtZW50IGJldHdlZW4gVVNBIGFuZCBDaGluYSIsIGNvbnRlbnQ9Ik9uIEphbnVhcnkgMSwgMjAyMiwgYSB0cmFkZSBhZ3JlZW1lbnQgd2FzIHNpZ25lZCBiZXR3ZWVuIHRoZSBVU0EgYW5kIENoaW5hLi4uIiwgZXZlbnRzPVtFdmVudChkYXRlPURhdGUoIjIwMjItMDEtMDEiKSwgaGVhZF9lbnRpdHk9SVNPQ29kZSgiVVNBIiksIHJlbGF0aW9uPUNBTUVPQ29kZSgiMDEwIiksIHRhaWxfZW50aXR5PUlTT0NvZGUoIkNITiIpXSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZiJ7c2VsZi5kYXRlfTpcbntzZWxmLnRpdGxlfVxue3NlbGYuY29udGVudH0iCgpkZWYgbWFwX2NvdW50cnlfbmFtZV90b19pc28obmFtZTogc3RyKSAtPiBMaXN0W0NvdW50cnldOgogICAgIiIiCiAgICBNYXBzIGEgY291bnRyeSBuYW1lIHRvIHRoZSBtb3N0IGxpa2VseSBjb3JyZXNwb25kaW5nIENvdW50cnkgb2JqZWN0cyB3aXRoIElTTyBjb2Rlcy4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIG5hbWUgKHN0cik6IFRoZSBjb3VudHJ5IG5hbWUgdG8gbWFwLgoKICAgIFJldHVybnM6CiAgICAgICAgTGlzdFtDb3VudHJ5XTogQSBsaXN0IG9mIDUgbW9zdCBsaWtlbHkgQ291bnRyeSBvYmplY3RzIHNvcnRlZCBieSByZWxldmFuY2UuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gbWFwX2NvdW50cnlfbmFtZV90b19pc28oIktvcmVhIikKICAgICAgICBbQ291bnRyeShpc29fY29kZT1JU09Db2RlKCJLT1IiKSwgbmFtZT0iUmVwdWJsaWMgb2YgS29yZWEiKSwgQ291bnRyeShpc29fY29kZT1JU09Db2RlKCJQUksiKSwgbmFtZT0iRGVtb2NyYXRpYyBQZW9wbGUncyBSZXB1YmxpYyBvZiBLb3JlYSIpXQogICAgIiIiCiAgICBwYXNzCgpkZWYgbWFwX2lzb190b19jb3VudHJ5X25hbWUoaXNvX2NvZGU6IElTT0NvZGUpIC0+IHN0cjoKICAgICIiIgogICAgTWFwcyBhbiBJU08gY29kZSB0byBhIGNvdW50cnkgbmFtZS4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGlzb19jb2RlIChJU09Db2RlKTogVGhlIElTTyBjb2RlIHRvIG1hcC4KCiAgICBSZXR1cm5zOgogICAgICAgIHN0cjogVGhlIGNvcnJlc3BvbmRpbmcgY291bnRyeSBuYW1lLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IG1hcF9pc29fdG9fY291bnRyeV9uYW1lKElTT0NvZGUoIkNITiIpKQogICAgICAgICJDaGluYSIKICAgICIiIgogICAgcGFzcwoKZGVmIG1hcF9yZWxhdGlvbl9kZXNjcmlwdGlvbl90b19jYW1lbyhkZXNjcmlwdGlvbjogc3RyKSAtPiBMaXN0W1JlbGF0aW9uXToKICAgICIiIgogICAgTWFwcyBhIHJlbGF0aW9uIGRlc2NyaXB0aW9uIHRvIHRoZSBtb3N0IGxpa2VseSBSZWxhdGlvbiBvYmplY3RzLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgZGVzY3JpcHRpb24gKHN0cik6IFRoZSByZWxhdGlvbiBkZXNjcmlwdGlvbiB0byBtYXAuCgogICAgUmV0dXJuczoKICAgICAgICBMaXN0W1JlbGF0aW9uXTogQSBsaXN0IG9mIDUgbW9zdCBsaWtlbHkgUmVsYXRpb25zIHNvcnRlZCBieSByZWxldmFuY2UuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gbWFwX3JlbGF0aW9uX2Rlc2NyaXB0aW9uX3RvX2NhbWVvKCJGaWdodCB3aXRoIGd1bnMiKQogICAgICAgIFtSZWx0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIxOSIpLCBuYW1lPSJGaWdodCIsIGRlc2NyaXB0aW9uPSJBbGwgdXNlcyBvZiBjb252ZW50aW9uYWwgZm9yY2UgYW5kIGFjdHMgb2Ygd2FyIHR5cGljYWxseSBieSBvcmdhbml6ZWQgYXJtZWQgZ3JvdXBzLiIpLCBSZWxhdGlvbihjYW1lb19jb2RlPUNBTUVPQ29kZSgiMTkzIiksIG5hbWU9IkZpZ2h0IHdpdGggc21hbGwgYXJtcyBhbmQgbGlnaHQgd2VhcG9ucyIsIGRlc2NyaXB0aW9uPSJBdHRhY2sgdXNpbmcgc21hbGwgYXJtcyBhbmQgbGlnaHQgd2VhcG9ucyBzdWNoIGFzIHJpZmxlcywgbWFjaGluZS1ndW5zLCBhbmQgbW9ydGFyIHNoZWxscy4iKSwgUmVsYXRpb24oY2FtZW9fY29kZT1DQU1FT0NvZGUoIjE5MCIpLCBuYW1lPSJVc2UgY29udmVudGlvbmFsIG1pbGl0YXJ5IGZvcmNlLCBub3Qgc3BlY2lmaWVkIiwgZGVzY3JpcHRpb249IkFsbCB1c2VzIG9mIGNvbnZlbnRpb25hbCBmb3JjZSBhbmQgYWN0cyBvZiB3YXIgdHlwaWNhbGx5IGJ5IG9yZ2FuaXplZCBhcm1lZCBncm91cHMsIG5vdCBvdGhlcndpc2Ugc3BlY2lmaWVkLiIpXQogICAgIiIiCiAgICBwYXNzCgpkZWYgbWFwX2NhbWVvX3RvX3JlbGF0aW9uKGNhbWVvX2NvZGU6IENBTUVPQ29kZSkgLT4gUmVsYXRpb246CiAgICAiIiIKICAgIE1hcHMgYSBDQU1FTyBjb2RlIHRvIGEgcmVsYXRpb24sIGluY2x1ZGluZyBpdHMgbmFtZSBhbmQgZGVzY3JpcHRpb24uCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjYW1lb19jb2RlIChDQU1FT0NvZGUpOiBUaGUgQ0FNRU8gY29kZSB0byBtYXAuCgogICAgUmV0dXJuczoKICAgICAgICBSZWxhdGlvbjogVGhlIGNvcnJlc3BvbmRpbmcgcmVsYXRpb24uCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gbWFwX2NhbWVvX3RvX3JlbGF0aW9uKENBTUVPQ29kZSgiMTkwIikpCiAgICAgICAgUmVsYXRpb24oY2FtZW9fY29kZT1DQU1FT0NvZGUoIjE5MCIpLCBuYW1lPSJVc2UgY29udmVudGlvbmFsIG1pbGl0YXJ5IGZvcmNlLCBub3Qgc3BlY2lmaWVkIiwgZGVzY3JpcHRpb249IkFsbCB1c2VzIG9mIGNvbnZlbnRpb25hbCBmb3JjZSBhbmQgYWN0cyBvZiB3YXIgdHlwaWNhbGx5IGJ5IG9yZ2FuaXplZCBhcm1lZCBncm91cHMsIG5vdCBvdGhlcndpc2Ugc3BlY2lmaWVkLiIpCiAgICAiIiIKICAgIHBhc3MKCmRlZiBnZXRfY2hpbGRfcmVsYXRpb25zKGNhbWVvX2NvZGU6IENBTUVPQ29kZSkgLT4gTGlzdFtSZWxhdGlvbl06CiAgICAiIiIKICAgIFJldHJpZXZlcyBjaGlsZCByZWxhdGlvbnMgb2YgYSBnaXZlbiByZWxhdGlvbiBpZGVudGlmaWVkIGJ5IENBTUVPIGNvZGUuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjYW1lb19jb2RlIChDQU1FT0NvZGUpOiBUaGUgQ0FNRU8gY29kZSBvZiB0aGUgcmVsYXRpb24gd2hvc2UgY2hpbGRyZW4gYXJlIHNvdWdodC4gT25seSBmaXJzdCBsZXZlbCByZWxhdGlvbnMgYXJlIGFjY2VwdGVkLgoKICAgIFJldHVybnM6CiAgICAgICAgTGlzdFtSZWxhdGlvbl06IEEgbGlzdCBvZiBzZWNvbmQgbGV2ZWwgY2hpbGQgcmVsYXRpb25zLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGdldF9jaGlsZF9yZWxhdGlvbnMoQ0FNRU9Db2RlKCIxOSIpKQogICAgICAgIFtSZWxhdGlvbihjYWVtb19jb2RlPUNBTUVPQ29kZSgiMTkwIiksIG5hbWU9IlVzZSBjb252ZW50aW9uYWwgbWlsaXRhcnkgZm9yY2UsIG5vdCBzcGVjaWZpZWQiLCBkZXNjcmlwdGlvbj0iQWxsIHVzZXMgb2YgY29udmVudGlvbmFsIGZvcmNlIGFuZCBhY3RzIG9mIHdhciB0eXBpY2FsbHkgYnkgb3JnYW5pemVkIGFybWVkIGdyb3Vwcywgbm90IG90aGVyd2lzZSBzcGVjaWZpZWQuIiksIFJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIxOTEiKSwgbmFtZT0iSW1wb3NlIGJsb2NrYWRlIG9yIHJlc3RyaWN0IG1vdmVtZW50IiwgZGVzY3JpcHRpb249IlByZXZlbnQgZW50cnkgaW50byBhbmQvb3IgZXhpdCBmcm9tIGEgdGVycml0b3J5IHVzaW5nIGFybWVkIGZvcmNlcy4iKSwgLi4uXQogICAgIiIiCiAgICBwYXNzCgpkZWYgZ2V0X3NpYmxpbmdfcmVsYXRpb25zKGNhbWVvX2NvZGU6IENBTUVPQ29kZSkgLT4gTGlzdFtSZWxhdGlvbl06CiAgICAiIiIKICAgIFJldHJpZXZlcyBzaWJsaW5nIHJlbGF0aW9ucyBvZiBhIGdpdmVuIHJlbGF0aW9uIGlkZW50aWZpZWQgYnkgQ0FNRU8gY29kZS4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGNhbWVvX2NvZGUgKENBTUVPQ29kZSk6IFRoZSBDQU1FTyBjb2RlIG9mIHRoZSByZWxhdGlvbiB3aG9zZSBzaWJsaW5ncyBhcmUgc291Z2h0LiBCb3RoIGZpcnN0IGFuZCBzZWNvbmQgbGV2ZWwgcmVsYXRpb25zIGFyZSBhY2NlcHRlZC4KCiAgICBSZXR1cm5zOgogICAgICAgIExpc3RbUmVsYXRpb25dOiBBIGxpc3Qgb2Ygc2libGluZyByZWxhdGlvbnMgYXQgdGhlIHNhbWUgbGV2ZWwuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gZ2V0X3NpYmxpbmdfcmVsYXRpb25zKENBTUVPQ29kZSgiMTkzIikpCiAgICAgICAgW1JlbGF0aW9uKGNhZW1vX2NvZGU9Q0FNRU9Db2RlKCIxOTAiKSwgbmFtZT0iVXNlIGNvbnZlbnRpb25hbCBtaWxpdGFyeSBmb3JjZSwgbm90IHNwZWNpZmllZCIsIGRlc2NyaXB0aW9uPSJBbGwgdXNlcyBvZiBjb252ZW50aW9uYWwgZm9yY2UgYW5kIGFjdHMgb2Ygd2FyIHR5cGljYWxseSBieSBvcmdhbml6ZWQgYXJtZWQgZ3JvdXBzLCBub3Qgb3RoZXJ3aXNlIHNwZWNpZmllZC4iKSwgUmVsYXRpb24oY2FtZW9fY29kZT1DQU1FT0NvZGUoIjE5MSIpLCBuYW1lPSJJbXBvc2UgYmxvY2thZGUgb3IgcmVzdHJpY3QgbW92ZW1lbnQiLCBkZXNjcmlwdGlvbj0iUHJldmVudCBlbnRyeSBpbnRvIGFuZC9vciBleGl0IGZyb20gYSB0ZXJyaXRvcnkgdXNpbmcgYXJtZWQgZm9yY2VzLiIpLCAuLi5dCiAgICAiIiIKICAgIHBhc3MKCmRlZiBjb3VudF9ldmVudHMoZGF0ZV9yYW5nZTogT3B0aW9uYWxbRGF0ZVJhbmdlXSA9IE5vbmUsIGhlYWRfZW50aXRpZXM6IE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dID0gTm9uZSwgdGFpbF9lbnRpdGllczogT3B0aW9uYWxbTGlzdFtJU09Db2RlXV0gPSBOb25lLCByZWxhdGlvbnM6IE9wdGlvbmFsW0xpc3RbQ0FNRU9Db2RlXV0gPSBOb25lKSAtPiBpbnQ6CiAgICAiIiIKICAgIENvdW50cyB0aGUgbnVtYmVyIG9mIGV2ZW50cyBpbiB0aGUga25vd2xlZGdlIGdyYXBoIGJhc2VkIG9uIHNwZWNpZmllZCBjb25kaXRpb25zLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgZGF0ZV9yYW5nZSAoT3B0aW9uYWxbRGF0ZVJhbmdlXSk6IFJhbmdlIG9mIGRhdGVzIHRvIGZpbHRlciB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZGF0ZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIGhlYWRfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogTGlzdCBvZiBoZWFkIGVudGl0eSBJU08gY29kZXMgdG8gYmUgaW5jbHVkZWQuIElmIE5vbmUsIGFsbCBjb3VudHJpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHRhaWxfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogTGlzdCBvZiB0YWlsIGVudGl0eSBJU08gY29kZXMgdG8gYmUgaW5jbHVkZWQuIElmIE5vbmUsIGFsbCBjb3VudHJpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHJlbGF0aW9ucyAoT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSk6IExpc3Qgb2YgcmVsYXRpb24gQ0FNRU8gY29kZXMgdG8gYmUgaW5jbHVkZWQuIElmIGZpcnN0IGxldmVsIHJlbGF0aW9ucyBhcmUgbGlzdGVkLCBhbGwgc2Vjb25kIGxldmVsIHJlbGF0aW9ucyB1bmRlciB0aGVtIGFyZSBpbmNsdWRlZC4gSWYgTm9uZSwgYWxsIHJlbGF0aW9ucyBhcmUgaW5jbHVkZWQuCgogICAgUmV0dXJuczoKICAgICAgICBpbnQ6IENvdW50IG9mIHVuaXF1ZSBldmVudHMgbWF0Y2hpbmcgdGhlIGNvbmRpdGlvbnMuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gY291bnRfZXZlbnRzKGRhdGVfcmFuZ2U9RGF0ZVJhbmdlKHN0YXJ0X2RhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCBlbmRfZGF0ZT1EYXRlKCIyMDIyLTAxLTMxIikpLCBoZWFkX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCB0YWlsX2VudGl0aWVzPU5vbmUsIHJlbGF0aW9ucz1bQ0FNRU9Db2RlKCIwMTAiKV0pCiAgICAgICAgNAogICAgIiIiCiAgICBwYXNzCgpkZWYgZ2V0X2V2ZW50cyhkYXRlX3JhbmdlOiBPcHRpb25hbFtEYXRlUmFuZ2VdID0gTm9uZSwgaGVhZF9lbnRpdGllczogT3B0aW9uYWxbTGlzdFtJU09Db2RlXV0gPSBOb25lLCB0YWlsX2VudGl0aWVzOiBPcHRpb25hbFtMaXN0W0lTT0NvZGVdXSA9IE5vbmUsIHJlbGF0aW9uczogT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSA9IE5vbmUsIHRleHRfZGVzY3JpcHRpb246IE9wdGlvbmFsW3N0cl0gPSBOb25lKSAtPiBMaXN0W0V2ZW50XToKICAgICIiIgogICAgUmV0cmlldmVzIGV2ZW50cyBmcm9tIHRoZSBrbm93bGVkZ2UgZ3JhcGggYmFzZWQgb24gc3BlY2lmaWVkIGNvbmRpdGlvbnMuCiAgICBJbmhlcml0cyBjb21tb24gZmlsdGVyIHBhcmFtZXRlcnMgZnJvbSBjb3VudF9ldmVudHMuIFNlZSBjb3VudF9ldmVudHMgZm9yIG1vcmUgZGV0YWlscyBvbiB0aGVzZSBwYXJhbWV0ZXJzLgoKICAgIEFkZGl0aW9uYWwgUGFyYW1ldGVyczoKICAgICAgICB0ZXh0X2Rlc2NyaXB0aW9uIChPcHRpb25hbFtzdHJdKTogVGV4dHVhbCBkZXNjcmlwdGlvbiB0byBtYXRjaCB3aXRoIHRoZSBzb3VyY2UgbmV3cyBhcnRpY2xlcyBvZiBldmVudHMuIElmIE5vbmUsIHRoZSByZXR1cm5lZCBldmVudHMgYXJlIHNvcnRlZCBieSBkYXRlIGluIGRlc2NlbmRpbmcgb3JkZXI7IG90aGVyd2lzZSwgc29ydGVkIGJ5IHJlbGV2YW5jZSBvZiB0aGUgc291cmNlIG5ld3MgYXJ0aWNsZSB0byB0aGUgZGVzY3JpcHRpb24uCgogICAgUmV0dXJuczoKICAgICAgICBMaXN0W0V2ZW50XTogQSBsaXN0IG9mIG1heGltdW0gMzAgZXZlbnRzIG1hdGNoaW5nIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucy4KCiAgICBFeGFtcGxlOgogICAgICAgID4+PiBnZXRfZXZlbnRzKGRhdGVfcmFuZ2U9RGF0ZVJhbmdlKHN0YXJ0X2RhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCBlbmRfZGF0ZT1EYXRlKCIyMDIyLTAxLTMxIikpLCBoZWFkX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCB0YWlsX2VudGl0aWVzPU5vbmUsIHJlbGF0aW9ucz1bQ0FNRU9Db2RlKCIwMTAiKV0sIHRleHRfZGVzY3JpcHRpb249ImVjb25vbWljIHRyYWRlIikKICAgICAgICBbRXZlbnQoZGF0ZT1EYXRlKCIyMDIyLTAxLTE1IiksIGhlYWRfZW50aXR5PUlTT0NvZGUoIlVTQSIpLCByZWxhdGlvbj1DQU1FT0NvZGUoIjAxMCIpLCB0YWlsX2VudGl0eT1JU09Db2RlKCJDQU4iKSwgRXZlbnQoZGF0ZT1EYXRlKCIyMDIyLTAxLTEwIiksIGhlYWRfZW50aXR5PUlTT0NvZGUoIkNITiIpLCByZWxhdGlvbj1DQU1FT0NvZGUoIjAxMCIpLCB0YWlsX2VudGl0eT1JU09Db2RlKCJVU0EiKSwgLi4uXQogICAgIiIiCiAgICBwYXNzCgpkZWYgZ2V0X2VudGl0eV9kaXN0cmlidXRpb24oZGF0ZV9yYW5nZTogT3B0aW9uYWxbRGF0ZVJhbmdlXSA9IE5vbmUsIGludm9sdmVkX3JlbGF0aW9uczogT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSA9IE5vbmUsIGludGVyYWN0ZWRfZW50aXRpZXM6IE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dID0gTm9uZSwgZW50aXR5X3JvbGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lKSAtPiBEaWN0W0lTT0NvZGUsIGludF06CiAgICAiIiIKICAgIEdldHMgdGhlIGRpc3RyaWJ1dGlvbiBvZiBlbnRpdGllcyBpbiB0aGUga25vd2xlZGdlIGdyYXBoIHVuZGVyIHNwZWNpZmllZCBjb25kaXRpb25zLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgZGF0ZV9yYW5nZSAoT3B0aW9uYWxbRGF0ZVJhbmdlXSk6IFJhbmdlIG9mIGRhdGVzIHRvIGZpbHRlciB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZGF0ZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIGludm9sdmVkX3JlbGF0aW9ucyAoT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSk6IExpc3Qgb2YgcmVsYXRpb25zIHRoYXQgdGhlIHJldHVybmVkIGVudGl0aWVzIG11c3QgYmUgaW52b2x2ZWQgaW4gYW55IG9mLiBJZiBmaXJzdCBsZXZlbCByZWxhdGlvbnMgYXJlIGxpc3RlZCwgYWxsIHNlY29uZCBsZXZlbCByZWxhdGlvbnMgdW5kZXIgdGhlbSBhcmUgaW5jbHVkZWQuIElmIE5vbmUsIGFsbCByZWxhdGlvbnMgYXJlIGluY2x1ZGVkLgogICAgICAgIGludGVyYWN0ZWRfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogTGlzdCBvZiBlbnRpdGllcyB0aGF0IHRoZSByZXR1cm5lZCBlbnRpdGllcyBtdXN0IGhhdmUgaW50ZXJhY3RlZCB3aXRoIGFueSBvZi4gSWYgTm9uZSwgYWxsIGVudGl0aWVzIGFyZSBpbmNsdWRlZC4KICAgICAgICBlbnRpdHlfcm9sZSAoT3B0aW9uYWxbRW50aXR5Um9sZV0pOiBTcGVjaWZpZXMgdGhlIHJvbGUgb2YgdGhlIHJldHVybmVkIGVudGl0eSBpbiB0aGUgZXZlbnRzLiBPcHRpb25zIGFyZSAnaGVhZCcsICd0YWlsJywgb3IgJ2JvdGgnLiBJZiAnYm90aCcgb3IgTm9uZSwgdGhlIHJldHVybmVkIGVudGl0eSBjYW4gYmUgZWl0aGVyIGhlYWQgb3IgdGFpbC4KCiAgICBSZXR1cm5zOgogICAgICAgIERpY3RbSVNPQ29kZSwgaW50XTogQSBkaWN0aW9uYXJ5IG1hcHBpbmcgcmV0dXJuZWQgZW50aXRpZXMnIElTTyBjb2RlcyB0byB0aGUgbnVtYmVyIG9mIGV2ZW50cyB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucyBpbiB3aGljaCB0aGV5IGFyZSBpbnZvbHZlZCwgc29ydGVkIGJ5IGNvdW50cyBpbiBkZXNjZW5kaW5nIG9yZGVyLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGdldF9lbnRpdHlfZGlzdHJpYnV0aW9uKGRhdGVfcmFuZ2U9RGF0ZVJhbmdlKHN0YXJ0X2RhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCBlbmRfZGF0ZT1EYXRlKCIyMDIyLTAxLTMxIikpLCBpbnZvbHZlZF9yZWxhdGlvbnM9W0NBTUVPQ29kZSgiMDEwIildLCBpbnRlcmFjdGVkX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCBlbnRpdHlfcm9sZT0idGFpbCIpCiAgICAgICAge0lTT0NvZGUoIlVTQSIpOiAzLCBJU09Db2RlKCJDSE4iKTogMX0KICAgICIiIgogICAgcGFzcwoKZGVmIGdldF9yZWxhdGlvbl9kaXN0cmlidXRpb24oZGF0ZV9yYW5nZTogT3B0aW9uYWxbRGF0ZVJhbmdlXSA9IE5vbmUsIGhlYWRfZW50aXRpZXM6IE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dID0gTm9uZSwgdGFpbF9lbnRpdGllczogT3B0aW9uYWxbTGlzdFtJU09Db2RlXV0gPSBOb25lKSAtPiBEaWN0W0NBTUVPQ29kZSwgaW50XToKICAgICIiIgogICAgR2V0cyB0aGUgZGlzdHJpYnV0aW9uIG9mIHNlY29uZCBsZXZlbCByZWxhdGlvbnMgaW4gdGhlIGtub3dsZWRnZSBncmFwaCB1bmRlciBzcGVjaWZpZWQgY29uZGl0aW9ucy4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGRhdGVfcmFuZ2UgKE9wdGlvbmFsW0RhdGVSYW5nZV0pOiBSYW5nZSBvZiBkYXRlcyB0byBmaWx0ZXIgdGhlIGV2ZW50cy4gSWYgTm9uZSwgYWxsIGRhdGVzIGFyZSBpbmNsdWRlZC4KICAgICAgICBoZWFkX2VudGl0aWVzIChPcHRpb25hbFtMaXN0W0lTT0NvZGVdXSk6IExpc3Qgb2YgaGVhZCBlbnRpdGllcyB0aGF0IHRoZSBldmVudHMgbXVzdCBpbnZvbHZlIGFueSBvZi4gSWYgTm9uZSwgYWxsIGhlYWQgZW50aXRpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHRhaWxfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogTGlzdCBvZiB0YWlsIGVudGl0aWVzIHRoYXQgdGhlIGV2ZW50cyBtdXN0IGludm9sdmUgYW55IG9mLiBJZiBOb25lLCBhbGwgdGFpbCBlbnRpdGllcyBhcmUgaW5jbHVkZWQuCgogICAgUmV0dXJuczoKICAgICAgICBEaWN0W0NBTUVPQ29kZSwgaW50XTogQSBkaWN0aW9uYXJ5IG1hcHBpbmcgc2Vjb25kIGxldmVsIHJlbGF0aW9ucycgQ0FNRU8gY29kZXMgdG8gdGhlIG51bWJlciBvZiBldmVudHMgd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmRpdGlvbnMgaW4gd2hpY2ggdGhleSBhcmUgaW52b2x2ZWQsIHNvcnRlZCBieSBjb3VudHMgaW4gZGVzY2VuZGluZyBvcmRlci4KCiAgICBFeGFtcGxlOgogICAgICAgID4+PiBnZXRfcmVsYXRpb25fZGlzdHJpYnV0aW9uKGRhdGVfcmFuZ2U9RGF0ZVJhbmdlKHN0YXJ0X2RhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCBlbmRfZGF0ZT1EYXRlKCIyMDIyLTAxLTMxIikpLCBoZWFkX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCB0YWlsX2VudGl0aWVzPU5vbmUpCiAgICAgICAge0NBTUVPQ29kZSgiMDEwIik6IDMsIENBTUVPQ29kZSgiMDExIik6IDF9CiAgICAiIiIKICAgIHBhc3MKCmRlZiBjb3VudF9uZXdzX2FydGljbGVzKGRhdGVfcmFuZ2U6IE9wdGlvbmFsW0RhdGVSYW5nZV0gPSBOb25lLCBoZWFkX2VudGl0aWVzOiBPcHRpb25hbFtMaXN0W0lTT0NvZGVdXSA9IE5vbmUsIHRhaWxfZW50aXRpZXM6IE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dID0gTm9uZSwgcmVsYXRpb25zOiBPcHRpb25hbFtMaXN0W0NBTUVPQ29kZV1dID0gTm9uZSwga2V5d29yZHM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lKSAtPiBpbnQ6CiAgICAiIiIKICAgIENvdW50cyB0aGUgbnVtYmVyIG9mIG5ld3MgYXJ0aWNsZXMgYmFzZWQgb24gc3BlY2lmaWVkIGNvbmRpdGlvbnMuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBkYXRlX3JhbmdlIChPcHRpb25hbFtEYXRlUmFuZ2VdKTogUmFuZ2Ugb2YgZGF0ZXMgdG8gZmlsdGVyIHRoZSBuZXdzIGFydGljbGVzLiBJZiBOb25lLCBhbGwgZGF0ZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIGhlYWRfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogQXQgbGVhc3Qgb25lIG9mIHRoZSBlbnRpdGllcyBtdXN0IGJlIG1lbnRpb25lZCBpbiB0aGUgYXJ0aWNsZXMgYW5kIGJlIHRoZSBoZWFkIGVudGl0eSBpbiB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZW50aXRpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHRhaWxfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogQXQgbGVhc3Qgb25lIG9mIHRoZSBlbnRpdGllcyBtdXN0IGJlIG1lbnRpb25lZCBpbiB0aGUgYXJ0aWNsZXMgYW5kIGJlIHRoZSB0YWlsIGVudGl0eSBpbiB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZW50aXRpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHJlbGF0aW9ucyAoT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSk6IEF0IGxlYXN0IG9uZSBvZiB0aGUgcmVsYXRpb25zIG11c3QgYmUgbWVudGlvbmVkIGluIHRoZSBhcnRpY2xlcy4gSWYgZmlyc3QgbGV2ZWwgcmVsYXRpb25zIGFyZSBsaXN0ZWQsIGFsbCBzZWNvbmQgbGV2ZWwgcmVsYXRpb25zIHVuZGVyIHRoZW0gYXJlIGluY2x1ZGVkLiBJZiBOb25lLCBhbGwgcmVsYXRpb25zIGFyZSBpbmNsdWRlZC4KICAgICAgICBrZXl3b3JkcyAoT3B0aW9uYWxbTGlzdFtzdHJdXSk6IEF0IGxlYXN0IG9uZSBvZiB0aGUga2V5d29yZHMgbXVzdCBiZSBwcmVzZW50IGluIHRoZSBhcnRpY2xlcy4gSWYgTm9uZSwgYWxsIGFydGljbGVzIGFyZSBpbmNsdWRlZC4KCiAgICBSZXR1cm5zOgogICAgICAgIGludDogVGhlIGNvdW50IG9mIG5ld3MgYXJ0aWNsZXMgbWF0Y2hpbmcgdGhlIGNvbmRpdGlvbnMuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gY291bnRfbmV3c19hcnRpY2xlcyhkYXRlX3JhbmdlPURhdGVSYW5nZShzdGFydF9kYXRlPURhdGUoIjIwMjItMDEtMDEiKSwgZW5kX2RhdGU9RGF0ZSgiMjAyMi0wMS0zMSIpKSwgaGVhZF9lbnRpdGllcz1bSVNPQ29kZSgiVVNBIiksIElTT0NvZGUoIkNITiIpXSwgdGFpbF9lbnRpdGllcz1bSVNPQ29kZSgiVVNBIiksIElTT0NvZGUoIkNITiIpXSwgcmVsYXRpb25zPVtDQU1FT0NvZGUoIjAxMCIpXSwga2V5d29yZHM9WyJ0cmFkZSJdKQogICAgICAgIDIKICAgICIiIgogICAgcGFzcwoKZGVmIGdldF9uZXdzX2FydGljbGVzKGRhdGVfcmFuZ2U6IE9wdGlvbmFsW0RhdGVSYW5nZV0gPSBOb25lLCBoZWFkX2VudGl0aWVzOiBPcHRpb25hbFtMaXN0W0lTT0NvZGVdXSA9IE5vbmUsIHRhaWxfZW50aXRpZXM6IE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dID0gTm9uZSwgcmVsYXRpb25zOiBPcHRpb25hbFtMaXN0W0NBTUVPQ29kZV1dID0gTm9uZSwga2V5d29yZHM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLCB0ZXh0X2Rlc2NyaXB0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSkgLT4gTGlzdFtUdXBsZVtEYXRlLCBzdHJdXToKICAgICIiIgogICAgUmV0cmlldmVzIG5ld3MgYXJ0aWNsZXMgYmFzZWQgb24gc3BlY2lmaWVkIGNvbmRpdGlvbnMuCiAgICBJbmhlcml0cyBjb21tb24gZmlsdGVyIHBhcmFtZXRlcnMgZnJvbSBjb3VudF9uZXdzX2FydGljbGVzLiBTZWUgY291bnRfbmV3c19hcnRpY2xlcyBmb3IgbW9yZSBkZXRhaWxzIG9uIHRoZXNlIHBhcmFtZXRlcnMuCgogICAgQWRkaXRpb25hbCBQYXJhbWV0ZXJzOgogICAgICAgIHRleHRfZGVzY3JpcHRpb24gKE9wdGlvbmFsW3N0cl0pOiBUZXh0dWFsIGRlc2NyaXB0aW9uIHRvIG1hdGNoIHdpdGggdGhlIG5ld3MgYXJ0aWNsZXMuIElmIE5vbmUsIHRoZSByZXR1cm5lZCBhcnRpY2xlcyBhcmUgc29ydGVkIGJ5IGRhdGUgaW4gZGVzY2VuZGluZyBvcmRlcjsgb3RoZXJ3aXNlLCBzb3J0ZWQgYnkgcmVsZXZhbmNlIHRvIHRoZSBkZXNjcmlwdGlvbi4KCiAgICBSZXR1cm5zOgogICAgICAgIExpc3RbVHVwbGVbRGF0ZSwgc3RyXV06IEEgbGlzdCBvZiBtYXhpbXVtIDE1IG5ld3MgYXJ0aWNsZXMgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBjb25kaXRpb25zLCBlYWNoIHJlcHJlc2VudGVkIGJ5IGEgdHVwbGUgb2YgZGF0ZSBhbmQgdGl0bGUuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gZ2V0X25ld3NfYXJ0aWNsZXMoZGF0ZV9yYW5nZT1EYXRlUmFuZ2Uoc3RhcnRfZGF0ZT1EYXRlKCIyMDIyLTAxLTAxIiksIGVuZF9kYXRlPURhdGUoIjIwMjItMDEtMzEiKSksIGhlYWRfZW50aXRpZXM9W0lTT0NvZGUoIlVTQSIpLCBJU09Db2RlKCJDSE4iKV0sIHRhaWxfZW50aXRpZXM9W0lTT0NvZGUoIlVTQSIpLCBJU09Db2RlKCJDSE4iKV0sIHJlbGF0aW9ucz1bQ0FNRU9Db2RlKCIwMTAiKV0sIGtleXdvcmRzPVsidHJhZGUiXSwgdGV4dF9kZXNjcmlwdGlvbj0iRWNvbm9taWMgdHJhZGUgaXMgZW5jb3VyYWdlZCBiZXR3ZWVuIFVTQSBhbmQgQ2hpbmEuIikKICAgICAgICBbKE5ld3NBcnRpY2xlLmRhdGU9RGF0ZSgiMjAyMi0wMS0xNSIpLCBOZXdzQXJ0aWNsZS50aXRsZT0iQ2hpbmEgYW5kIFVTQSBzaWduIHRyYWRlIGRlYWwiKSwgKE5ld3NBcnRpY2xlLmRhdGU9RGF0ZSgiMjAyMi0wMS0xMCIpLCBOZXdzQXJ0aWNsZS50aXRsZT0iVHJhZGUgYWdyZWVtZW50IGJldHdlZW4gVVNBIGFuZCBDaGluYSIpXQogICAgIiIiCiAgICBwYXNzCgpkZWYgYnJvd3NlX25ld3NfYXJ0aWNsZShkYXRlOiBEYXRlLCB0aXRsZTogc3RyKSAtPiBzdHI6CiAgICAiIiIKICAgIFJldHJpZXZlcyB0aGUgZnVsbCB0ZXh0IG9mIGEgbmV3cyBhcnRpY2xlIGJ5IGl0cyB0aXRsZS4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGRhdGUgKERhdGUpOiBUaGUgZGF0ZSBvZiB0aGUgbmV3cyBhcnRpY2xlIHRvIHJldHJpZXZlLgogICAgICAgIHRpdGxlIChzdHIpOiBUaGUgdGl0bGUgb2YgdGhlIG5ld3MgYXJ0aWNsZSB0byByZXRyaWV2ZS4KCiAgICBSZXR1cm5zOgogICAgICAgIHN0cjogVGhlIGRhdGUsIHRoZSB0aXRsZSBhbmQgZnVsbCBjb250ZW50cyBvZiB0aGUgbmV3cyBhcnRpY2xlLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGJyb3dzZV9uZXdzX2FydGljbGUoRGF0ZSgiMjAyMi0wMS0xMCIpLCAiVHJhZGUgYWdyZWVtZW50IGJldHdlZW4gVVNBIGFuZCBDaGluYSIpCiAgICAgICAgMjAyMi0wMS0xMDoKICAgICAgICBUcmFkZSBhZ3JlZW1lbnQgYmV0d2VlbiBVU0EgYW5kIENoaW5hCiAgICAgICAgT24gSmFudWFyeSAxMCwgMjAyMiwgYSB0cmFkZSBhZ3JlZW1lbnQgd2FzIHNpZ25lZCBiZXR3ZWVuIHRoZSBVU0EgYW5kIENoaW5hIHRvIHByb21vdGUgZWNvbm9taWMgY29vcGVyYXRpb24uLi4KICAgICIiIgogICAgcGFzcw==)1@dataclass2class  Date:3  """Represents  a  date."""4  date:  str  #  Date  in  the  format  ’YYYY-MM-DD’5  #  Example:  Date("2022-01-01")67@dataclass8class  DateRange:9  """Represents  a  range  of  dates  (inclusive)."""10  start_date:  Optional[Date]  #  If  None,  the  earliest  date  is  used11  end_date:  Optional[Date]  #  If  None,  the  current  date  is  used12  #  Example:  DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31"))1314@dataclass15class  ISOCode:16  """Represents  an  ISO  alpha-3  country  code."""17  code:  str  #  3-letter  ISO  code18  #  Example:  ISOCode("USA")1920@dataclass21class  Country:22  """Represents  a  country  entity."""23  iso_code:  ISOCode24  name:  str25  #  Example:  Country(iso_code=ISOCode("USA"),  name="United  States")2627@dataclass28class  CAMEOCode:29  """Represents  a  CAMEO  verb  code."""30  code:  str  #  2-digit  CAMEO  code  for  first  level  relations,  3-digit  CAMEO  code  for  second  level  relations31  #  Example:  CAMEOCode("01"),  CAMEOCode("010")3233@dataclass34class  Relation:35  """Represents  a  relation."""36  cameo_code:  CAMEOCode37  name:  str38  description:  str  #  A  brief  description  of  what  event  the  relation  represents39  #  Example:  Relation(cameo_code=CAMEOCode("010"),  name="Make  statement,  not  specified",  description="All  public  statements  expressed  verbally  or  in  action,  not  otherwise  specified."4041@dataclass42class  Event:43  """Represents  an  event  characterized  by  date,  head  entity,  relation,  and  tail  entity."""44  date:  Date45  head_entity:  ISOCode46  relation:  CAMEOCode47  tail_entity:  ISOCode48  #  Example:  Event(date=Date("2022-01-01"),  head_entity=ISOCode("USA"),  relation=CAMEOCode("010"),  tail_entity=ISOCode("CAN"))4950@dataclass51class  NewsArticle:52  """Represents  a  news  article,  including  metadata  and  content."""53  date:  Date54  title:  str55  content:  str  #  Full  text  content  of  the  news  article56  events:  List[Event]  #  List  of  events  mentioned  in  the  article57  #  Example:  NewsArticle(date=Date("2022-01-01"),  title="Trade  agreement  between  USA  and  China",  content="On  January  1,  2022,  a  trade  agreement  was  signed  between  the  USA  and  China...",  events=[Event(date=Date("2022-01-01"),  head_entity=ISOCode("USA"),  relation=CAMEOCode("010"),  tail_entity=ISOCode("CHN")])5859  def  __str__(self):60  return  f"{self.date}:\n{self.title}\n{self.content}"6162def  map_country_name_to_iso(name:  str)  ->  List[Country]:63  """64  Maps  a  country  name  to  the  most  likely  corresponding  Country  objects  with  ISO  codes.6566  Parameters:67  name  (str):  The  country  name  to  map.6869  Returns:70  List[Country]:  A  list  of  5  most  likely  Country  objects  sorted  by  relevance.7172  Example:73  >>>  map_country_name_to_iso("Korea")74  [Country(iso_code=ISOCode("KOR"),  name="Republic  of  Korea"),  Country(iso_code=ISOCode("PRK"),  name="Democratic  People’s  Republic  of  Korea")]75  """76  pass7778def  map_iso_to_country_name(iso_code:  ISOCode)  ->  str:79  """80  Maps  an  ISO  code  to  a  country  name.8182  Parameters:83  iso_code  (ISOCode):  The  ISO  code  to  map.8485  Returns:86  str:  The  corresponding  country  name.8788  Example:89  >>>  map_iso_to_country_name(ISOCode("CHN"))90  "China"91  """92  pass9394def  map_relation_description_to_cameo(description:  str)  ->  List[Relation]:95  """96  Maps  a  relation  description  to  the  most  likely  Relation  objects.9798  Parameters:99  description  (str):  The  relation  description  to  map.100101  Returns:102  List[Relation]:  A  list  of  5  most  likely  Relations  sorted  by  relevance.103104  Example:105  >>>  map_relation_description_to_cameo("Fight  with  guns")106  [Reltion(cameo_code=CAMEOCode("19"),  name="Fight",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups."),  Relation(cameo_code=CAMEOCode("193"),  name="Fight  with  small  arms  and  light  weapons",  description="Attack  using  small  arms  and  light  weapons  such  as  rifles,  machine-guns,  and  mortar  shells."),  Relation(cameo_code=CAMEOCode("190"),  name="Use  conventional  military  force,  not  specified",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups,  not  otherwise  specified.")]107  """108  pass109110def  map_cameo_to_relation(cameo_code:  CAMEOCode)  ->  Relation:111  """112  Maps  a  CAMEO  code  to  a  relation,  including  its  name  and  description.113114  Parameters:115  cameo_code  (CAMEOCode):  The  CAMEO  code  to  map.116117  Returns:118  Relation:  The  corresponding  relation.119120  Example:121  >>>  map_cameo_to_relation(CAMEOCode("190"))122  Relation(cameo_code=CAMEOCode("190"),  name="Use  conventional  military  force,  not  specified",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups,  not  otherwise  specified.")123  """124  pass125126def  get_child_relations(cameo_code:  CAMEOCode)  ->  List[Relation]:127  """128  Retrieves  child  relations  of  a  given  relation  identified  by  CAMEO  code.129130  Parameters:131  cameo_code  (CAMEOCode):  The  CAMEO  code  of  the  relation  whose  children  are  sought.  Only  first  level  relations  are  accepted.132133  Returns:134  List[Relation]:  A  list  of  second  level  child  relations.135136  Example:137  >>>  get_child_relations(CAMEOCode("19"))138  [Relation(caemo_code=CAMEOCode("190"),  name="Use  conventional  military  force,  not  specified",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups,  not  otherwise  specified."),  Relation(cameo_code=CAMEOCode("191"),  name="Impose  blockade  or  restrict  movement",  description="Prevent  entry  into  and/or  exit  from  a  territory  using  armed  forces."),  ...]139  """140  pass141142def  get_sibling_relations(cameo_code:  CAMEOCode)  ->  List[Relation]:143  """144  Retrieves  sibling  relations  of  a  given  relation  identified  by  CAMEO  code.145146  Parameters:147  cameo_code  (CAMEOCode):  The  CAMEO  code  of  the  relation  whose  siblings  are  sought.  Both  first  and  second  level  relations  are  accepted.148149  Returns:150  List[Relation]:  A  list  of  sibling  relations  at  the  same  level.151152  Example:153  >>>  get_sibling_relations(CAMEOCode("193"))154  [Relation(caemo_code=CAMEOCode("190"),  name="Use  conventional  military  force,  not  specified",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups,  not  otherwise  specified."),  Relation(cameo_code=CAMEOCode("191"),  name="Impose  blockade  or  restrict  movement",  description="Prevent  entry  into  and/or  exit  from  a  territory  using  armed  forces."),  ...]155  """156  pass157158def  count_events(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None,  relations:  Optional[List[CAMEOCode]]  =  None)  ->  int:159  """160  Counts  the  number  of  events  in  the  knowledge  graph  based  on  specified  conditions.161162  Parameters:163  date_range  (Optional[DateRange]):  Range  of  dates  to  filter  the  events.  If  None,  all  dates  are  included.164  head_entities  (Optional[List[ISOCode]]):  List  of  head  entity  ISO  codes  to  be  included.  If  None,  all  countries  are  included.165  tail_entities  (Optional[List[ISOCode]]):  List  of  tail  entity  ISO  codes  to  be  included.  If  None,  all  countries  are  included.166  relations  (Optional[List[CAMEOCode]]):  List  of  relation  CAMEO  codes  to  be  included.  If  first  level  relations  are  listed,  all  second  level  relations  under  them  are  included.  If  None,  all  relations  are  included.167168  Returns:169  int:  Count  of  unique  events  matching  the  conditions.170171  Example:172  >>>  count_events(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=None,  relations=[CAMEOCode("010")])173  4174  """175  pass176177def  get_events(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None,  relations:  Optional[List[CAMEOCode]]  =  None,  text_description:  Optional[str]  =  None)  ->  List[Event]:178  """179  Retrieves  events  from  the  knowledge  graph  based  on  specified  conditions.180  Inherits  common  filter  parameters  from  count_events.  See  count_events  for  more  details  on  these  parameters.181182  Additional  Parameters:183  text_description  (Optional[str]):  Textual  description  to  match  with  the  source  news  articles  of  events.  If  None,  the  returned  events  are  sorted  by  date  in  descending  order;  otherwise,  sorted  by  relevance  of  the  source  news  article  to  the  description.184185  Returns:186  List[Event]:  A  list  of  maximum  30  events  matching  the  specified  conditions.187188  Example:189  >>>  get_events(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=None,  relations=[CAMEOCode("010")],  text_description="economic  trade")190  [Event(date=Date("2022-01-15"),  head_entity=ISOCode("USA"),  relation=CAMEOCode("010"),  tail_entity=ISOCode("CAN"),  Event(date=Date("2022-01-10"),  head_entity=ISOCode("CHN"),  relation=CAMEOCode("010"),  tail_entity=ISOCode("USA"),  ...]191  """192  pass193194def  get_entity_distribution(date_range:  Optional[DateRange]  =  None,  involved_relations:  Optional[List[CAMEOCode]]  =  None,  interacted_entities:  Optional[List[ISOCode]]  =  None,  entity_role:  Optional[str]  =  None)  ->  Dict[ISOCode,  int]:195  """196  Gets  the  distribution  of  entities  in  the  knowledge  graph  under  specified  conditions.197198  Parameters:199  date_range  (Optional[DateRange]):  Range  of  dates  to  filter  the  events.  If  None,  all  dates  are  included.200  involved_relations  (Optional[List[CAMEOCode]]):  List  of  relations  that  the  returned  entities  must  be  involved  in  any  of.  If  first  level  relations  are  listed,  all  second  level  relations  under  them  are  included.  If  None,  all  relations  are  included.201  interacted_entities  (Optional[List[ISOCode]]):  List  of  entities  that  the  returned  entities  must  have  interacted  with  any  of.  If  None,  all  entities  are  included.202  entity_role  (Optional[EntityRole]):  Specifies  the  role  of  the  returned  entity  in  the  events.  Options  are  ’head’,  ’tail’,  or  ’both’.  If  ’both’  or  None,  the  returned  entity  can  be  either  head  or  tail.203204  Returns:205  Dict[ISOCode,  int]:  A  dictionary  mapping  returned  entities’  ISO  codes  to  the  number  of  events  with  the  specified  conditions  in  which  they  are  involved,  sorted  by  counts  in  descending  order.206207  Example:208  >>>  get_entity_distribution(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  involved_relations=[CAMEOCode("010")],  interacted_entities=[ISOCode("USA"),  ISOCode("CHN")],  entity_role="tail")209  {ISOCode("USA"):  3,  ISOCode("CHN"):  1}210  """211  pass212213def  get_relation_distribution(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None)  ->  Dict[CAMEOCode,  int]:214  """215  Gets  the  distribution  of  second  level  relations  in  the  knowledge  graph  under  specified  conditions.216217  Parameters:218  date_range  (Optional[DateRange]):  Range  of  dates  to  filter  the  events.  If  None,  all  dates  are  included.219  head_entities  (Optional[List[ISOCode]]):  List  of  head  entities  that  the  events  must  involve  any  of.  If  None,  all  head  entities  are  included.220  tail_entities  (Optional[List[ISOCode]]):  List  of  tail  entities  that  the  events  must  involve  any  of.  If  None,  all  tail  entities  are  included.221222  Returns:223  Dict[CAMEOCode,  int]:  A  dictionary  mapping  second  level  relations’  CAMEO  codes  to  the  number  of  events  with  the  specified  conditions  in  which  they  are  involved,  sorted  by  counts  in  descending  order.224225  Example:226  >>>  get_relation_distribution(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=None)227  {CAMEOCode("010"):  3,  CAMEOCode("011"):  1}228  """229  pass230231def  count_news_articles(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None,  relations:  Optional[List[CAMEOCode]]  =  None,  keywords:  Optional[List[str]]  =  None)  ->  int:232  """233  Counts  the  number  of  news  articles  based  on  specified  conditions.234235  Parameters:236  date_range  (Optional[DateRange]):  Range  of  dates  to  filter  the  news  articles.  If  None,  all  dates  are  included.237  head_entities  (Optional[List[ISOCode]]):  At  least  one  of  the  entities  must  be  mentioned  in  the  articles  and  be  the  head  entity  in  the  events.  If  None,  all  entities  are  included.238  tail_entities  (Optional[List[ISOCode]]):  At  least  one  of  the  entities  must  be  mentioned  in  the  articles  and  be  the  tail  entity  in  the  events.  If  None,  all  entities  are  included.239  relations  (Optional[List[CAMEOCode]]):  At  least  one  of  the  relations  must  be  mentioned  in  the  articles.  If  first  level  relations  are  listed,  all  second  level  relations  under  them  are  included.  If  None,  all  relations  are  included.240  keywords  (Optional[List[str]]):  At  least  one  of  the  keywords  must  be  present  in  the  articles.  If  None,  all  articles  are  included.241242  Returns:243  int:  The  count  of  news  articles  matching  the  conditions.244245  Example:246  >>>  count_news_articles(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=[ISOCode("USA"),  ISOCode("CHN")],  relations=[CAMEOCode("010")],  keywords=["trade"])247  2248  """249  pass250251def  get_news_articles(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None,  relations:  Optional[List[CAMEOCode]]  =  None,  keywords:  Optional[List[str]]  =  None,  text_description:  Optional[str]  =  None)  ->  List[Tuple[Date,  str]]:252  """253  Retrieves  news  articles  based  on  specified  conditions.254  Inherits  common  filter  parameters  from  count_news_articles.  See  count_news_articles  for  more  details  on  these  parameters.255256  Additional  Parameters:257  text_description  (Optional[str]):  Textual  description  to  match  with  the  news  articles.  If  None,  the  returned  articles  are  sorted  by  date  in  descending  order;  otherwise,  sorted  by  relevance  to  the  description.258259  Returns:260  List[Tuple[Date,  str]]:  A  list  of  maximum  15  news  articles  matching  the  specified  conditions,  each  represented  by  a  tuple  of  date  and  title.261262  Example:263  >>>  get_news_articles(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=[ISOCode("USA"),  ISOCode("CHN")],  relations=[CAMEOCode("010")],  keywords=["trade"],  text_description="Economic  trade  is  encouraged  between  USA  and  China.")264  [(NewsArticle.date=Date("2022-01-15"),  NewsArticle.title="China  and  USA  sign  trade  deal"),  (NewsArticle.date=Date("2022-01-10"),  NewsArticle.title="Trade  agreement  between  USA  and  China")]265  """266  pass267268def  browse_news_article(date:  Date,  title:  str)  ->  str:269  """270  Retrieves  the  full  text  of  a  news  article  by  its  title.271272  Parameters:273  date  (Date):  The  date  of  the  news  article  to  retrieve.274  title  (str):  The  title  of  the  news  article  to  retrieve.275276  Returns:277  str:  The  date,  the  title  and  full  contents  of  the  news  article.278279  Example:280  >>>  browse_news_article(Date("2022-01-10"),  "Trade  agreement  between  USA  and  China")281  2022-01-10:282  Trade  agreement  between  USA  and  China283  On  January  10,  2022,  a  trade  agreement  was  signed  between  the  USA  and  China  to  promote  economic  cooperation...284  """285  pass’'
  id: totrans-993
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: M.3 API Implementation
  id: totrans-994
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: M.3 API实现
- en: In this section, we provide the full implementation of the API, which is part
    of the environment and is accessible to the Python executor.
  id: totrans-995
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在本节中，我们提供了API的完整实现，它是环境的一部分，可以被Python执行器访问。
- en: '[⬇](data:text/plain;base64,QGRhdGFjbGFzcwpjbGFzcyBEYXRlOgogICAgIiIiUmVwcmVzZW50cyBhIGRhdGUuIiIiCiAgICBkYXRlOiBzdHIgIyBEYXRlIGluIHRoZSBmb3JtYXQgJ1lZWVktTU0tREQnCiAgICAjIEV4YW1wbGU6IERhdGUoIjIwMjItMDEtMDEiKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYXRlOiBzdHIpOgogICAgICAgICMgY2hlY2sgdHlwZQogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGRhdGUsIHN0cik6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJBdHRyaWJ1dGUgJ2RhdGUnIG9mIGNsYXNzIERhdGUgbXVzdCBiZSBhIHN0cmluZyBpbiB0aGUgZm9ybWF0ICdZWVlZLU1NLUREJywgYnV0IHJlY2VpdmVkOiB7ZGF0ZX0gaW4gdHlwZSB7dHlwZShkYXRlKX0iKQoKICAgICAgICAjIGNoZWNrIGlmIGRhdGUgaXMgaW4gdGhlIGNvcnJlY3QgZm9ybWF0IGJ5IHRyeWluZyB0byBjb252ZXJ0IGl0IHRvIGEgZGF0ZSBvYmplY3QKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRhdGV0aW1lLmRhdGV0aW1lLnN0cnB0aW1lKGRhdGUsICclWS0lbS0lZCcpCiAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJEYXRlIG11c3QgYmUgaW4gdGhlIGZvcm1hdCAnWVlZWS1NTS1ERCcsIGJ1dCByZWNlaXZlZDoge2RhdGV9IikKICAgICAgICBpZiBkYXRlIDwgREVGQVVMVF9TVEFSVF9EQVRFOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRGF0ZSBtdXN0IGJlIG9uIG9yIGFmdGVyIHtERUZBVUxUX1NUQVJUX0RBVEV9LCBidXQgcmVjZWl2ZWQ6IHtkYXRlfSIpCiAgICAgICAgaWYgREVGQVVMVF9FTkRfREFURSBhbmQgZGF0ZSA+IERFRkFVTFRfRU5EX0RBVEU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJEYXRlIG11c3QgYmUgb24gb3IgYmVmb3JlIHRoZSBjdXJyZW50IGRhdGUge0RFRkFVTFRfRU5EX0RBVEV9LCBidXQgcmVjZWl2ZWQ6IHtkYXRlfSIpCgogICAgICAgIHNlbGYuZGF0ZSA9IGRhdGUKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZiJEYXRlKCd7c2VsZi5kYXRlfScpIgoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKToKICAgICAgICByZXR1cm4gaGFzaChzZWxmLmRhdGUpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgRGF0ZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmRhdGUgPT0gb3RoZXIuZGF0ZQogICAgICAgIHJldHVybiBGYWxzZQoKQGRhdGFjbGFzcwpjbGFzcyBEYXRlUmFuZ2U6CiAgICAiIiJSZXByZXNlbnRzIGEgcmFuZ2Ugb2YgZGF0ZXMgKGluY2x1c2l2ZSkuIiIiCiAgICBzdGFydF9kYXRlOiBPcHRpb25hbFtEYXRlXSAjIElmIE5vbmUsIHRoZSBlYXJsaWVzdCBkYXRlIGlzIHVzZWQKICAgIGVuZF9kYXRlOiBPcHRpb25hbFtEYXRlXSAjIElmIE5vbmUsIHRoZSBjdXJyZW50IGRhdGUgaXMgdXNlZAogICAgIyBFeGFtcGxlOiBEYXRlUmFuZ2Uoc3RhcnRfZGF0ZT1EYXRlKCIyMDIyLTAxLTAxIiksIGVuZF9kYXRlPURhdGUoIjIwMjItMDEtMzEiKSkKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RhcnRfZGF0ZTogT3B0aW9uYWxbRGF0ZV0gPSBOb25lLCBlbmRfZGF0ZTogT3B0aW9uYWxbRGF0ZV0gPSBOb25lKToKICAgICAgICAjIGNoZWNrIHR5cGUKICAgICAgICBpZiBzdGFydF9kYXRlIGFuZCBub3QgaXNpbnN0YW5jZShzdGFydF9kYXRlLCBEYXRlKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkF0dHJpYnV0ZSAnc3RhcnRfZGF0ZScgb2YgY2xhc3MgRGF0ZVJhbmdlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoc3RhcnRfZGF0ZSl9IikKICAgICAgICBpZiBlbmRfZGF0ZSBhbmQgbm90IGlzaW5zdGFuY2UoZW5kX2RhdGUsIERhdGUpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiQXR0cmlidXRlICdlbmRfZGF0ZScgb2YgY2xhc3MgRGF0ZVJhbmdlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoZW5kX2RhdGUpfSIpCgogICAgICAgIHNlbGYuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaWYgc3RhcnRfZGF0ZSBlbHNlIERhdGUoREVGQVVMVF9TVEFSVF9EQVRFKQogICAgICAgIHNlbGYuZW5kX2RhdGUgPSBlbmRfZGF0ZSBpZiBlbmRfZGF0ZSBlbHNlIERhdGUoREVGQVVMVF9FTkRfREFURSkKICAgICAgICBpZiBzdGFydF9kYXRlIGFuZCBlbmRfZGF0ZSBhbmQgc3RhcnRfZGF0ZS5kYXRlID4gZW5kX2RhdGUuZGF0ZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiU3RhcnQgZGF0ZSBtdXN0IGJlIGJlZm9yZSBvciBlcXVhbCB0byBlbmQgZGF0ZSwgYnV0IHJlY2VpdmVkOiBzdGFydF9kYXRlPXt9LCBlbmRfZGF0ZT17fSIuZm9ybWF0KHN0YXJ0X2RhdGUuZGF0ZSwgZW5kX2RhdGUuZGF0ZSkpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGYiRGF0ZVJhbmdlKHN0YXJ0X2RhdGU9e3NlbGYuc3RhcnRfZGF0ZX0sIGVuZF9kYXRlPXtzZWxmLmVuZF9kYXRlfSkiCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKChzZWxmLnN0YXJ0X2RhdGUsIHNlbGYuZW5kX2RhdGUpKQoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIERhdGVSYW5nZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnN0YXJ0X2RhdGUgPT0gb3RoZXIuc3RhcnRfZGF0ZSBhbmQgc2VsZi5lbmRfZGF0ZSA9PSBvdGhlci5lbmRfZGF0ZQogICAgICAgIHJldHVybiBGYWxzZQoKQGRhdGFjbGFzcwpjbGFzcyBJU09Db2RlOgogICAgIiIiUmVwcmVzZW50cyBhbiBJU08gYWxwaGEtMyBjb3VudHJ5IGNvZGUuIiIiCiAgICBjb2RlOiBzdHIgIyAzLWxldHRlciBJU08gY29kZQogICAgIyBFeGFtcGxlOiBJU09Db2RlKCJVU0EiKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjb2RlOiBzdHIpOgogICAgICAgICMgY2hlY2sgdHlwZQogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGNvZGUsIHN0cik6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJBdHRyaWJ1dGUgJ2NvZGUnIG9mIGNsYXNzIElTT0NvZGUgbXVzdCBiZSBhIHN0cmluZywgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoY29kZSl9IikKCiAgICAgICAgaWYgbGVuKGNvZGUpICE9IDM6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJU08gY29kZSBtdXN0IGJlIGEgMy1sZXR0ZXIgc3RyaW5nLCBidXQgcmVjZWl2ZWQ6IHtjb2RlfSIpCiAgICAgICAgaWYgY29kZSBub3QgaW4gZGljdF9pc28yYWx0ZXJuYW1lczoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklTTyBjb2RlIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMyBjb3VudHJ5IGNvZGUsIGJ1dCByZWNlaXZlZDoge2NvZGV9IikKICAgICAgICBzZWxmLmNvZGUgPSBjb2RlCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGYiSVNPQ29kZSgne3NlbGYuY29kZX0nKSIKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGhhc2goc2VsZi5jb2RlKQoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIElTT0NvZGUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5jb2RlID09IG90aGVyLmNvZGUKICAgICAgICByZXR1cm4gRmFsc2UKCkBkYXRhY2xhc3MKY2xhc3MgQ291bnRyeToKICAgICIiIlJlcHJlc2VudHMgYSBjb3VudHJ5IGVudGl0eS4iIiIKICAgIGlzb19jb2RlOiBJU09Db2RlCiAgICBuYW1lOiBzdHIKICAgICMgRXhhbXBsZTogQ291bnRyeShpc29fY29kZT1JU09Db2RlKCJVU0EiKSwgbmFtZT0iVW5pdGVkIFN0YXRlcyIpCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGlzb19jb2RlOiBJU09Db2RlLCBuYW1lOiBzdHIpOgogICAgICAgICMgY2hlY2sgdHlwZQogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGlzb19jb2RlLCBJU09Db2RlKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkF0dHJpYnV0ZSAnaXNvX2NvZGUnIG9mIGNsYXNzIENvdW50cnkgbXVzdCBiZSBhbiBJU09Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoaXNvX2NvZGUpfSIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UobmFtZSwgc3RyKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkF0dHJpYnV0ZSAnbmFtZScgb2YgY2xhc3MgQ291bnRyeSBtdXN0IGJlIGEgc3RyaW5nLCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShuYW1lKX0iKQoKICAgICAgICBpZiBkaWN0X2lzbzJhbHRlcm5hbWVzW2lzb19jb2RlLmNvZGVdWzBdICE9IG5hbWU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJDb3VudHJ5IG5hbWUgbXVzdCBtYXRjaCB0aGUgbmFtZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBJU08gY29kZSwgYnV0IHJlY2VpdmVkOiB7bmFtZX0gZm9yIElTTyBjb2RlOiB7aXNvX2NvZGUuY29kZX0iKQogICAgICAgIHNlbGYuaXNvX2NvZGUgPSBpc29fY29kZQogICAgICAgIHNlbGYubmFtZSA9IG5hbWUKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZiJDb3VudHJ5KGlzb19jb2RlPXtzZWxmLmlzb19jb2RlfSwgbmFtZT0ne3NlbGYubmFtZX0nKSIKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGhhc2goKHNlbGYuaXNvX2NvZGUsIHNlbGYubmFtZSkpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgQ291bnRyeSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmlzb19jb2RlID09IG90aGVyLmlzb19jb2RlIGFuZCBzZWxmLm5hbWUgPT0gb3RoZXIubmFtZQogICAgICAgIHJldHVybiBGYWxzZQoKQGRhdGFjbGFzcwpjbGFzcyBDQU1FT0NvZGU6CiAgICAiIiJSZXByZXNlbnRzIGEgQ0FNRU8gdmVyYiBjb2RlLiIiIgogICAgY29kZTogc3RyICMgMi1kaWdpdCBDQU1FTyBjb2RlIGZvciBmaXJzdCBsZXZlbCByZWxhdGlvbnMsIDMtZGlnaXQgQ0FNRU8gY29kZSBmb3Igc2Vjb25kIGxldmVsIHJlbGF0aW9ucwogICAgIyBFeGFtcGxlOiBDQU1FT0NvZGUoIjAxIiksIENBTUVPQ29kZSgiMDEwIikKCiAgICBkZWYgX19pbml0X18oc2VsZiwgY29kZTogc3RyKToKICAgICAgICAjIGNoZWNrIHR5cGUKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShjb2RlLCBzdHIpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiQXR0cmlidXRlICdjb2RlJyBvZiBjbGFzcyBDQU1FT0NvZGUgbXVzdCBiZSBhIHN0cmluZywgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoY29kZSl9IikKCiAgICAgICAgaWYgbGVuKGNvZGUpIG5vdCBpbiBbMiwgM106CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJDQU1FTyBjb2RlIG11c3QgYmUgYSB2YWxpZCAyIG9yIDMtZGlnaXQgc3RyaW5nIGRlZmluZWQgaW4gdGhlICdDb25mbGljdCBhbmQgTWVkaWF0aW9uIEV2ZW50IE9ic2VydmF0aW9ucycgQ29kZWJvb2ssIGJ1dCByZWNlaXZlZDoge2NvZGV9IikKICAgICAgICBpZiBjb2RlIG5vdCBpbiBkaWN0X2NvZGUycmVsYXRpb246CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJDQU1FTyBjb2RlIG11c3QgYmUgYSB2YWxpZCBDQU1FTyBjb2RlIGRlZmluZWQgaW4gdGhlICdDb25mbGljdCBhbmQgTWVkaWF0aW9uIEV2ZW50IE9ic2VydmF0aW9ucycgQ29kZWJvb2ssIGJ1dCByZWNlaXZlZDoge2NvZGV9IikKICAgICAgICBzZWxmLmNvZGUgPSBjb2RlCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGYiQ0FNRU9Db2RlKCd7c2VsZi5jb2RlfScpIgoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKToKICAgICAgICByZXR1cm4gaGFzaChzZWxmLmNvZGUpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgQ0FNRU9Db2RlKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29kZSA9PSBvdGhlci5jb2RlCiAgICAgICAgcmV0dXJuIEZhbHNlCgpAZGF0YWNsYXNzCmNsYXNzIFJlbGF0aW9uOgogICAgIiIiUmVwcmVzZW50cyBhIHJlbGF0aW9uLiIiIgogICAgY2FtZW9fY29kZTogQ0FNRU9Db2RlCiAgICBuYW1lOiBzdHIKICAgIGRlc2NyaXB0aW9uOiBzdHIgIyBBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHdoYXQgZXZlbnQgdGhlIHJlbGF0aW9uIHJlcHJlc2VudHMKICAgICMgRXhhbXBsZTogUmVsYXRpb24oY2FtZW9fY29kZT1DQU1FT0NvZGUoIjAxMCIpLCBuYW1lPSJNYWtlIHN0YXRlbWVudCwgbm90IHNwZWNpZmllZCIsIGRlc2NyaXB0aW9uPSJBbGwgcHVibGljIHN0YXRlbWVudHMgZXhwcmVzc2VkIHZlcmJhbGx5IG9yIGluIGFjdGlvbiwgbm90IG90aGVyd2lzZSBzcGVjaWZpZWQuIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjYW1lb19jb2RlOiBDQU1FT0NvZGUsIG5hbWU6IHN0ciwgZGVzY3JpcHRpb246IHN0cik6CiAgICAgICAgIyBjaGVjayB0eXBlCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UoY2FtZW9fY29kZSwgQ0FNRU9Db2RlKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkF0dHJpYnV0ZSAnY2FtZW9fY29kZScgb2YgY2xhc3MgUmVsYXRpb24gbXVzdCBiZSBhIENBTUVPQ29kZSBvYmplY3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGNhbWVvX2NvZGUpfSIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UobmFtZSwgc3RyKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkF0dHJpYnV0ZSAnbmFtZScgb2YgY2xhc3MgUmVsYXRpb24gbXVzdCBiZSBhIHN0cmluZywgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUobmFtZSl9IikKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShkZXNjcmlwdGlvbiwgc3RyKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkF0dHJpYnV0ZSAnZGVzY3JpcHRpb24nIG9mIGNsYXNzIFJlbGF0aW9uIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGRlc2NyaXB0aW9uKX0iKQoKICAgICAgICBpZiBkaWN0X2NvZGUycmVsYXRpb25bY2FtZW9fY29kZS5jb2RlXVsnTmFtZSddICE9IG5hbWU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJSZWxhdGlvbiBuYW1lIG11c3QgbWF0Y2ggdGhlIG5hbWUgY29ycmVzcG9uZGluZyB0byB0aGUgQ0FNRU8gY29kZSwgYnV0IHJlY2VpdmVkOiB7bmFtZX0gZm9yIENBTUVPIGNvZGUge2NhbWVvX2NvZGUuY29kZX0iKQogICAgICAgIGlmIGRpY3RfY29kZTJyZWxhdGlvbltjYW1lb19jb2RlLmNvZGVdWydEZXNjcmlwdGlvbiddICE9IGRlc2NyaXB0aW9uOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiUmVsYXRpb24gZGVzY3JpcHRpb24gbXVzdCBtYXRjaCB0aGUgZGVzY3JpcHRpb24gY29ycmVzcG9uZGluZyB0byB0aGUgQ0FNRU8gY29kZSwgYnV0IHJlY2VpdmVkOiB7ZGVzY3JpcHRpb259IGZvciBDQU1FTyBjb2RlIHtjYW1lb19jb2RlLmNvZGV9IikKICAgICAgICBzZWxmLmNhbWVvX2NvZGUgPSBjYW1lb19jb2RlCiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQogICAgICAgIHNlbGYuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbgoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiBmIlJlbGF0aW9uKGNhbWVvX2NvZGU9e3NlbGYuY2FtZW9fY29kZX0sIG5hbWU9J3tzZWxmLm5hbWV9JywgZGVzY3JpcHRpb249J3tzZWxmLmRlc2NyaXB0aW9ufScpIgoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKToKICAgICAgICByZXR1cm4gaGFzaCgoc2VsZi5jYW1lb19jb2RlLCBzZWxmLm5hbWUsIHNlbGYuZGVzY3JpcHRpb24pKQoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXIpOgogICAgICAgIGlmIGlzaW5zdGFuY2Uob3RoZXIsIFJlbGF0aW9uKToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuY2FtZW9fY29kZSA9PSBvdGhlci5jYW1lb19jb2RlIGFuZCBzZWxmLm5hbWUgPT0gb3RoZXIubmFtZSBhbmQgc2VsZi5kZXNjcmlwdGlvbiA9PSBvdGhlci5kZXNjcmlwdGlvbgogICAgICAgIHJldHVybiBGYWxzZQoKQGRhdGFjbGFzcwpjbGFzcyBFdmVudDoKICAgICIiIlJlcHJlc2VudHMgYW4gZXZlbnQgY2hhcmFjdGVyaXplZCBieSBkYXRlLCBoZWFkIGVudGl0eSwgcmVsYXRpb24sIGFuZCB0YWlsIGVudGl0eS4iIiIKICAgIGRhdGU6IERhdGUKICAgIGhlYWRfZW50aXR5OiBJU09Db2RlCiAgICByZWxhdGlvbjogQ0FNRU9Db2RlCiAgICB0YWlsX2VudGl0eTogSVNPQ29kZQogICAgIyBFeGFtcGxlOiBFdmVudChkYXRlPURhdGUoIjIwMjItMDEtMDEiKSwgaGVhZF9lbnRpdHk9SVNPQ29kZSgiVVNBIiksIHJlbGF0aW9uPUNBTUVPQ29kZSgiMDEwIiksIHRhaWxfZW50aXR5PUlTT0NvZGUoIkNBTiIpKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYXRlOiBEYXRlLCBoZWFkX2VudGl0eTogSVNPQ29kZSwgcmVsYXRpb246IENBTUVPQ29kZSwgdGFpbF9lbnRpdHk6IElTT0NvZGUpOgogICAgICAgICMgY2hlY2sgdHlwZQogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKGRhdGUsIERhdGUpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiQXR0cmlidXRlICdkYXRlJyBvZiBjbGFzcyBFdmVudCBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGRhdGUpfSIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UoaGVhZF9lbnRpdHksIElTT0NvZGUpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiQXR0cmlidXRlICdoZWFkX2VudGl0eScgb2YgY2xhc3MgRXZlbnQgbXVzdCBiZSBhbiBJU09Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoaGVhZF9lbnRpdHkpfSIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UocmVsYXRpb24sIENBTUVPQ29kZSk6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJBdHRyaWJ1dGUgJ3JlbGF0aW9uJyBvZiBjbGFzcyBFdmVudCBtdXN0IGJlIGEgQ0FNRU9Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUocmVsYXRpb24pfSIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodGFpbF9lbnRpdHksIElTT0NvZGUpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiQXR0cmlidXRlICd0YWlsX2VudGl0eScgb2YgY2xhc3MgRXZlbnQgbXVzdCBiZSBhbiBJU09Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUodGFpbF9lbnRpdHkpfSIpCgogICAgICAgIHNlbGYuZGF0ZSA9IGRhdGUKICAgICAgICBzZWxmLmhlYWRfZW50aXR5ID0gaGVhZF9lbnRpdHkKICAgICAgICBzZWxmLnJlbGF0aW9uID0gcmVsYXRpb24KICAgICAgICBzZWxmLnRhaWxfZW50aXR5ID0gdGFpbF9lbnRpdHkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZiJFdmVudChkYXRlPXtzZWxmLmRhdGV9LCBoZWFkX2VudGl0eT17c2VsZi5oZWFkX2VudGl0eX0sIHJlbGF0aW9uPXtzZWxmLnJlbGF0aW9ufSwgdGFpbF9lbnRpdHk9e3NlbGYudGFpbF9lbnRpdHl9KSIKCiAgICBkZWYgX19oYXNoX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGhhc2goKHNlbGYuZGF0ZSwgc2VsZi5oZWFkX2VudGl0eSwgc2VsZi5yZWxhdGlvbiwgc2VsZi50YWlsX2VudGl0eSkpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgRXZlbnQpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5kYXRlID09IG90aGVyLmRhdGUgYW5kIHNlbGYuaGVhZF9lbnRpdHkgPT0gb3RoZXIuaGVhZF9lbnRpdHkgYW5kIHNlbGYucmVsYXRpb24gPT0gb3RoZXIucmVsYXRpb24gYW5kIHNlbGYudGFpbF9lbnRpdHkgPT0gb3RoZXIudGFpbF9lbnRpdHkKICAgICAgICByZXR1cm4gRmFsc2UKCkBkYXRhY2xhc3MKY2xhc3MgTmV3c0FydGljbGU6CiAgICAiIiJSZXByZXNlbnRzIGEgbmV3cyBhcnRpY2xlLCBpbmNsdWRpbmcgbWV0YWRhdGEgYW5kIGNvbnRlbnQuIiIiCiAgICBkYXRlOiBEYXRlCiAgICB0aXRsZTogc3RyCiAgICBjb250ZW50OiBzdHIgIyBGdWxsIHRleHQgY29udGVudCBvZiB0aGUgbmV3cyBhcnRpY2xlCiAgICBldmVudHM6IExpc3RbRXZlbnRdICMgTGlzdCBvZiBldmVudHMgbWVudGlvbmVkIGluIHRoZSBhcnRpY2xlCiAgICAjIEV4YW1wbGU6IE5ld3NBcnRpY2xlKGRhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCB0aXRsZT0iVHJhZGUgYWdyZWVtZW50IGJldHdlZW4gVVNBIGFuZCBDaGluYSIsIGNvbnRlbnQ9Ik9uIEphbnVhcnkgMSwgMjAyMiwgYSB0cmFkZSBhZ3JlZW1lbnQgd2FzIHNpZ25lZCBiZXR3ZWVuIHRoZSBVU0EgYW5kIENoaW5hLi4uIiwgZXZlbnRzPVtFdmVudChkYXRlPURhdGUoIjIwMjItMDEtMDEiKSwgaGVhZF9lbnRpdHk9SVNPQ29kZSgiVVNBIiksIHJlbGF0aW9uPUNBTUVPQ29kZSgiMDEwIiksIHRhaWxfZW50aXR5PUlTT0NvZGUoIkNITiIpXSkKCiAgICBkZWYgX19pbml0X18oc2VsZiwgZGF0ZTogRGF0ZSwgdGl0bGU6IHN0ciwgY29udGVudDogc3RyLCBldmVudHM6IExpc3RbRXZlbnRdKToKICAgICAgICAjIGNoZWNrIHR5cGUKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShkYXRlLCBEYXRlKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkF0dHJpYnV0ZSAnZGF0ZScgb2YgY2xhc3MgTmV3c0FydGljbGUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShkYXRlKX0iKQogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKHRpdGxlLCBzdHIpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiQXR0cmlidXRlICd0aXRsZScgb2YgY2xhc3MgTmV3c0FydGljbGUgbXVzdCBiZSBhIHN0cmluZywgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUodGl0bGUpfSIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UoY29udGVudCwgc3RyKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkF0dHJpYnV0ZSAnY29udGVudCcgb2YgY2xhc3MgTmV3c0FydGljbGUgbXVzdCBiZSBhIHN0cmluZywgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoY29udGVudCl9IikKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShldmVudHMsIGxpc3QpOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiQXR0cmlidXRlICdldmVudHMnIG9mIGNsYXNzIE5ld3NBcnRpY2xlIG11c3QgYmUgYSBsaXN0LCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShldmVudHMpfSIpCgogICAgICAgIHNlbGYuZGF0ZSA9IGRhdGUKICAgICAgICBzZWxmLnRpdGxlID0gdGl0bGUKICAgICAgICBzZWxmLmNvbnRlbnQgPSBjb250ZW50CiAgICAgICAgc2VsZi5ldmVudHMgPSBldmVudHMKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZiJ7c2VsZi5kYXRlfTpcbntzZWxmLnRpdGxlfVxue3NlbGYuY29udGVudH0iCgogICAgZGVmIF9faGFzaF9fKHNlbGYpOgogICAgICAgIHJldHVybiBoYXNoKChzZWxmLmRhdGUsIHNlbGYudGl0bGUsIHNlbGYuY29udGVudCkpCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6CiAgICAgICAgaWYgaXNpbnN0YW5jZShvdGhlciwgTmV3c0FydGljbGUpOgogICAgICAgICAgICByZXR1cm4gc2VsZi5kYXRlID09IG90aGVyLmRhdGUgYW5kIHNlbGYudGl0bGUgPT0gb3RoZXIudGl0bGUgYW5kIHNlbGYuY29udGVudCA9PSBvdGhlci5jb250ZW50CiAgICAgICAgcmV0dXJuIEZhbHNlCgpkZWYgbWFwX2NvdW50cnlfbmFtZV90b19pc28obmFtZTogc3RyKSAtPiBMaXN0W0NvdW50cnldOgogICAgIiIiCiAgICBNYXBzIGEgY291bnRyeSBuYW1lIHRvIHRoZSBtb3N0IGxpa2VseSBjb3JyZXNwb25kaW5nIENvdW50cnkgb2JqZWN0cyB3aXRoIElTTyBjb2Rlcy4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIG5hbWUgKHN0cik6IFRoZSBjb3VudHJ5IG5hbWUgdG8gbWFwLgoKICAgIFJldHVybnM6CiAgICAgICAgTGlzdFtDb3VudHJ5XTogQSBsaXN0IG9mIDUgbW9zdCBsaWtlbHkgQ291bnRyeSBvYmplY3RzIHNvcnRlZCBieSByZWxldmFuY2UuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gbWFwX2NvdW50cnlfbmFtZV90b19pc28oIktvcmVhIikKICAgICAgICBbQ291bnRyeShpc29fY29kZT1JU09Db2RlKCJLT1IiKSwgbmFtZT0iUmVwdWJsaWMgb2YgS29yZWEiKSwgQ291bnRyeShpc29fY29kZT1JU09Db2RlKCJQUksiKSwgbmFtZT0iRGVtb2NyYXRpYyBQZW9wbGUncyBSZXB1YmxpYyBvZiBLb3JlYSIpXQogICAgIiIiCiAgICAjIGNoZWNrIHR5cGUKICAgIGlmIG5vdCBpc2luc3RhbmNlKG5hbWUsIHN0cik6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICduYW1lJyBtdXN0IGJlIGEgc3RyaW5nLCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShuYW1lKX0iKQoKICAgIGlmIG5hbWUgaW4gZGljdF9jb3VudHJ5bmFtZTJpc286CiAgICAgICAgcmV0dXJuIFtDb3VudHJ5KGlzb19jb2RlPUlTT0NvZGUoZGljdF9jb3VudHJ5bmFtZTJpc29bbmFtZV0pLCBuYW1lPW5hbWUpXQogICAgZWxzZToKICAgICAgICAjIGdldCB0b3AgNSBJU08gY29kZXMgd2l0aCB0aGUgaGlnaGVzdCBjb3NpbmUgc2ltaWxhcml0eQogICAgICAgIG5hbWVfZW1iZWRkaW5ncyA9IGdldF9lbWJlZGRpbmcobmFtZSkKICAgICAgICBzaW1pbGFyaXRpZXMgPSBjb3NpbmVfc2ltaWxhcml0eShjb3VudHJ5X2VtYmVkZGluZ3MsIG5hbWVfZW1iZWRkaW5ncykKICAgICAgICB0b3BfaW5kaWNlcyA9IG5wLmFyZ3NvcnQoc2ltaWxhcml0aWVzKVs6Oi0xXVs6NV0KICAgICAgICBjb3VudHJpZXMgPSBbXQogICAgICAgIGZvciBpZHggaW4gdG9wX2luZGljZXM6CiAgICAgICAgICAgIGlzb19jb2RlID0gbGlzdChkaWN0X2lzbzJhbHRlcm5hbWVzLmtleXMoKSlbaWR4XQogICAgICAgICAgICBjdXJyX25hbWUgPSBkaWN0X2lzbzJhbHRlcm5hbWVzW2lzb19jb2RlXVswXQogICAgICAgICAgICBjb3VudHJpZXMuYXBwZW5kKENvdW50cnkoaXNvX2NvZGU9SVNPQ29kZShpc29fY29kZSksIG5hbWU9Y3Vycl9uYW1lKSkKICAgICAgICByZXR1cm4gY291bnRyaWVzCgpkZWYgbWFwX2lzb190b19jb3VudHJ5X25hbWUoaXNvX2NvZGU6IElTT0NvZGUpIC0+IHN0cjoKICAgICIiIgogICAgTWFwcyBhbiBJU08gY29kZSB0byBhIGNvdW50cnkgbmFtZS4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGlzb19jb2RlIChJU09Db2RlKTogVGhlIElTTyBjb2RlIHRvIG1hcC4KCiAgICBSZXR1cm5zOgogICAgICAgIHN0cjogVGhlIGNvcnJlc3BvbmRpbmcgY291bnRyeSBuYW1lLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IG1hcF9pc29fdG9fY291bnRyeV9uYW1lKElTT0NvZGUoIkNITiIpKQogICAgICAgICJDaGluYSIKICAgICIiIgogICAgIyBjaGVjayB0eXBlCiAgICBpZiBub3QgaXNpbnN0YW5jZShpc29fY29kZSwgSVNPQ29kZSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdpc29fY29kZScgbXVzdCBiZSBhbiBJU09Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoaXNvX2NvZGUpfSIpCgogICAgcmV0dXJuIGRpY3RfaXNvMmFsdGVybmFtZXNbaXNvX2NvZGUuY29kZV1bMF0KCmRlZiBtYXBfcmVsYXRpb25fZGVzY3JpcHRpb25fdG9fY2FtZW8oZGVzY3JpcHRpb246IHN0cikgLT4gTGlzdFtSZWxhdGlvbl06CiAgICAiIiIKICAgIE1hcHMgYSByZWxhdGlvbiBkZXNjcmlwdGlvbiB0byB0aGUgbW9zdCBsaWtlbHkgUmVsYXRpb24gb2JqZWN0cy4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGRlc2NyaXB0aW9uIChzdHIpOiBUaGUgcmVsYXRpb24gZGVzY3JpcHRpb24gdG8gbWFwLgoKICAgIFJldHVybnM6CiAgICAgICAgTGlzdFtSZWxhdGlvbl06IEEgbGlzdCBvZiA1IG1vc3QgbGlrZWx5IFJlbGF0aW9ucyBzb3J0ZWQgYnkgcmVsZXZhbmNlLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IG1hcF9yZWxhdGlvbl9kZXNjcmlwdGlvbl90b19jYW1lbygiRmlnaHQgd2l0aCBndW5zIikKICAgICAgICBbUmVsdGlvbihjYW1lb19jb2RlPUNBTUVPQ29kZSgiMTkiKSwgbmFtZT0iRmlnaHQiLCBkZXNjcmlwdGlvbj0iQWxsIHVzZXMgb2YgY29udmVudGlvbmFsIGZvcmNlIGFuZCBhY3RzIG9mIHdhciB0eXBpY2FsbHkgYnkgb3JnYW5pemVkIGFybWVkIGdyb3Vwcy4iKSwgUmVsYXRpb24oY2FtZW9fY29kZT1DQU1FT0NvZGUoIjE5MyIpLCBuYW1lPSJGaWdodCB3aXRoIHNtYWxsIGFybXMgYW5kIGxpZ2h0IHdlYXBvbnMiLCBkZXNjcmlwdGlvbj0iQXR0YWNrIHVzaW5nIHNtYWxsIGFybXMgYW5kIGxpZ2h0IHdlYXBvbnMgc3VjaCBhcyByaWZsZXMsIG1hY2hpbmUtZ3VucywgYW5kIG1vcnRhciBzaGVsbHMuIiksIFJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIxOTAiKSwgbmFtZT0iVXNlIGNvbnZlbnRpb25hbCBtaWxpdGFyeSBmb3JjZSwgbm90IHNwZWNpZmllZCIsIGRlc2NyaXB0aW9uPSJBbGwgdXNlcyBvZiBjb252ZW50aW9uYWwgZm9yY2UgYW5kIGFjdHMgb2Ygd2FyIHR5cGljYWxseSBieSBvcmdhbml6ZWQgYXJtZWQgZ3JvdXBzLCBub3Qgb3RoZXJ3aXNlIHNwZWNpZmllZC4iKV0KICAgICIiIgogICAgIyBjaGVjayB0eXBlCiAgICBpZiBub3QgaXNpbnN0YW5jZShkZXNjcmlwdGlvbiwgc3RyKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5wdXQgJ2Rlc2NyaXB0aW9uJyBtdXN0IGJlIGEgc3RyaW5nLCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShkZXNjcmlwdGlvbil9IikKCiAgICBpZiBkZXNjcmlwdGlvbiBpbiBkaWN0X3JlbGF0aW9uMmNvZGU6CiAgICAgICAgY29kZSA9IGRpY3RfcmVsYXRpb24yY29kZVtkZXNjcmlwdGlvbl0KICAgICAgICByZXR1cm4gW1JlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKGNvZGUpLCBuYW1lPWRpY3RfY29kZTJyZWxhdGlvbltjb2RlXVsnTmFtZSddLCBkZXNjcmlwdGlvbj1kaWN0X2NvZGUycmVsYXRpb25bY29kZV1bJ0Rlc2NyaXB0aW9uJ10pXQogICAgZWxzZToKICAgICAgICAjIGdldCB0b3AgNSBDQU1FTyBjb2RlcyB3aXRoIHRoZSBoaWdoZXN0IGNvc2luZSBzaW1pbGFyaXR5CiAgICAgICAgZGVzY3JpcHRpb25fZW1iZWRkaW5nID0gZ2V0X2VtYmVkZGluZyhkZXNjcmlwdGlvbikKICAgICAgICBzaW1pbGFyaXRpZXMgPSBjb3NpbmVfc2ltaWxhcml0eShyZWxhdGlvbl9lbWJlZGRpbmdzLCBkZXNjcmlwdGlvbl9lbWJlZGRpbmcpCiAgICAgICAgdG9wX2luZGljZXMgPSBucC5hcmdzb3J0KHNpbWlsYXJpdGllcylbOjotMV1bOjVdCiAgICAgICAgcmVsYXRpb25zID0gW10KICAgICAgICBmb3IgaWR4IGluIHRvcF9pbmRpY2VzOgogICAgICAgICAgICBjb2RlID0gbGlzdChkaWN0X2NvZGUycmVsYXRpb24ua2V5cygpKVtpZHhdCiAgICAgICAgICAgIHJlbGF0aW9ucy5hcHBlbmQoUmVsYXRpb24oY2FtZW9fY29kZT1DQU1FT0NvZGUoY29kZSksIG5hbWU9ZGljdF9jb2RlMnJlbGF0aW9uW2NvZGVdWydOYW1lJ10sIGRlc2NyaXB0aW9uPWRpY3RfY29kZTJyZWxhdGlvbltjb2RlXVsnRGVzY3JpcHRpb24nXSkpCiAgICAgICAgcmV0dXJuIHJlbGF0aW9ucwoKZGVmIG1hcF9jYW1lb190b19yZWxhdGlvbihjYW1lb19jb2RlOiBDQU1FT0NvZGUpIC0+IFJlbGF0aW9uOgogICAgIiIiCiAgICBNYXBzIGEgQ0FNRU8gY29kZSB0byBhIHJlbGF0aW9uLCBpbmNsdWRpbmcgaXRzIG5hbWUgYW5kIGRlc2NyaXB0aW9uLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgY2FtZW9fY29kZSAoQ0FNRU9Db2RlKTogVGhlIENBTUVPIGNvZGUgdG8gbWFwLgoKICAgIFJldHVybnM6CiAgICAgICAgUmVsYXRpb246IFRoZSBjb3JyZXNwb25kaW5nIHJlbGF0aW9uLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IG1hcF9jYW1lb190b19yZWxhdGlvbihDQU1FT0NvZGUoIjE5MCIpKQogICAgICAgIFJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIxOTAiKSwgbmFtZT0iVXNlIGNvbnZlbnRpb25hbCBtaWxpdGFyeSBmb3JjZSwgbm90IHNwZWNpZmllZCIsIGRlc2NyaXB0aW9uPSJBbGwgdXNlcyBvZiBjb252ZW50aW9uYWwgZm9yY2UgYW5kIGFjdHMgb2Ygd2FyIHR5cGljYWxseSBieSBvcmdhbml6ZWQgYXJtZWQgZ3JvdXBzLCBub3Qgb3RoZXJ3aXNlIHNwZWNpZmllZC4iKQogICAgIiIiCiAgICAjIGNoZWNrIHR5cGUKICAgIGlmIG5vdCBpc2luc3RhbmNlKGNhbWVvX2NvZGUsIENBTUVPQ29kZSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdjYW1lb19jb2RlJyBtdXN0IGJlIGEgQ0FNRU9Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoY2FtZW9fY29kZSl9IikKCiAgICBpbmZvID0gZGljdF9jb2RlMnJlbGF0aW9uW2NhbWVvX2NvZGUuY29kZV0KICAgIHJldHVybiBSZWxhdGlvbihjYW1lb19jb2RlPWNhbWVvX2NvZGUsIG5hbWU9aW5mb1snTmFtZSddLCBkZXNjcmlwdGlvbj1pbmZvWydEZXNjcmlwdGlvbiddKQoKZGVmIGdldF9wYXJlbnRfcmVsYXRpb24oY2FtZW9fY29kZTogQ0FNRU9Db2RlKSAtPiBSZWxhdGlvbjoKICAgICIiIgogICAgUmV0cmlldmVzIHRoZSBwYXJlbnQgcmVsYXRpb24gb2YgYSBnaXZlbiByZWxhdGlvbiBpZGVudGlmaWVkIGJ5IENBTUVPIGNvZGUuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjYW1lb19jb2RlIChDQU1FT0NvZGUpOiBUaGUgQ0FNRU8gY29kZSBvZiB0aGUgcmVsYXRpb24gd2hvc2UgcGFyZW50IGlzIHNvdWdodC4gT25seSBzZWNvbmQgbGV2ZWwgcmVsYXRpb25zIGFyZSBhY2NlcHRlZC4KCiAgICBSZXR1cm5zOgogICAgICAgIFJlbGF0aW9uOiBUaGUgZmlyc3QgbGV2ZWwgcGFyZW50IHJlbGF0aW9uLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGdldF9wYXJlbnRfcmVsYXRpb24oQ0FNRU9Db2RlKCIxOTMiKSkKICAgICAgICBSZWxhdGlvbihjYW1lb19jb2RlPUNBTUVPQ29kZSgiMTkiKSwgbmFtZT0iRmlnaHQiLCBkZXNjcmlwdGlvbj0iQWxsIHVzZXMgb2YgY29udmVudGlvbmFsIGZvcmNlIGFuZCBhY3RzIG9mIHdhciB0eXBpY2FsbHkgYnkgb3JnYW5pemVkIGFybWVkIGdyb3Vwcy4iKQogICAgIiIiCiAgICAjIGNoZWNrIHR5cGUKICAgIGlmIG5vdCBpc2luc3RhbmNlKGNhbWVvX2NvZGUsIENBTUVPQ29kZSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdjYW1lb19jb2RlJyBtdXN0IGJlIGEgQ0FNRU9Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoY2FtZW9fY29kZSl9IikKCiAgICBpZiBsZW4oY2FtZW9fY29kZS5jb2RlKSAhPSAzOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIk9ubHkgc2Vjb25kIGxldmVsIHJlbGF0aW9ucyBhcmUgYWNjZXB0ZWQsIGJ1dCByZWNlaXZlZDoge30iLmZvcm1hdChjYW1lb19jb2RlLmNvZGUpKQogICAgcGFyZW50X2NvZGUgPWNhbWVvX2NvZGUuY29kZVs6Ml0KICAgIHJldHVybiBtYXBfY2FtZW9fdG9fcmVsYXRpb24oQ0FNRU9Db2RlKHBhcmVudF9jb2RlKSkKCmRlZiBnZXRfY2hpbGRfcmVsYXRpb25zKGNhbWVvX2NvZGU6IENBTUVPQ29kZSkgLT4gTGlzdFtSZWxhdGlvbl06CiAgICAiIiIKICAgIFJldHJpZXZlcyBjaGlsZCByZWxhdGlvbnMgb2YgYSBnaXZlbiByZWxhdGlvbiBpZGVudGlmaWVkIGJ5IENBTUVPIGNvZGUuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjYW1lb19jb2RlIChDQU1FT0NvZGUpOiBUaGUgQ0FNRU8gY29kZSBvZiB0aGUgcmVsYXRpb24gd2hvc2UgY2hpbGRyZW4gYXJlIHNvdWdodC4gT25seSBmaXJzdCBsZXZlbCByZWxhdGlvbnMgYXJlIGFjY2VwdGVkLgoKICAgIFJldHVybnM6CiAgICAgICAgTGlzdFtSZWxhdGlvbl06IEEgbGlzdCBvZiBzZWNvbmQgbGV2ZWwgY2hpbGQgcmVsYXRpb25zLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGdldF9jaGlsZF9yZWxhdGlvbnMoQ0FNRU9Db2RlKCIxOSIpKQogICAgICAgIFtSZWxhdGlvbihjYWVtb19jb2RlPUNBTUVPQ29kZSgiMTkwIiksIG5hbWU9IlVzZSBjb252ZW50aW9uYWwgbWlsaXRhcnkgZm9yY2UsIG5vdCBzcGVjaWZpZWQiLCBkZXNjcmlwdGlvbj0iQWxsIHVzZXMgb2YgY29udmVudGlvbmFsIGZvcmNlIGFuZCBhY3RzIG9mIHdhciB0eXBpY2FsbHkgYnkgb3JnYW5pemVkIGFybWVkIGdyb3Vwcywgbm90IG90aGVyd2lzZSBzcGVjaWZpZWQuIiksIFJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIxOTEiKSwgbmFtZT0iSW1wb3NlIGJsb2NrYWRlIG9yIHJlc3RyaWN0IG1vdmVtZW50IiwgZGVzY3JpcHRpb249IlByZXZlbnQgZW50cnkgaW50byBhbmQvb3IgZXhpdCBmcm9tIGEgdGVycml0b3J5IHVzaW5nIGFybWVkIGZvcmNlcy4iKSwgLi4uXQogICAgIiIiCiAgICAjIGNoZWNrIHR5cGUKICAgIGlmIG5vdCBpc2luc3RhbmNlKGNhbWVvX2NvZGUsIENBTUVPQ29kZSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdjYW1lb19jb2RlJyBtdXN0IGJlIGEgQ0FNRU9Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoY2FtZW9fY29kZSl9IikKCiAgICBpZiBsZW4oY2FtZW9fY29kZS5jb2RlKSAhPSAyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIk9ubHkgZmlyc3QgbGV2ZWwgcmVsYXRpb25zIGFyZSBhY2NlcHRlZCwgYnV0IHJlY2VpdmVkOiB7fSIuZm9ybWF0KGNhbWVvX2NvZGUuY29kZSkpCiAgICBjaGlsZHJlbiA9IFtdCiAgICBmb3IgY29kZSwgaW5mbyBpbiBkaWN0X2NvZGUycmVsYXRpb24uaXRlbXMoKToKICAgICAgICBpZiBjb2RlWzoyXSA9PSBjYW1lb19jb2RlLmNvZGUgYW5kIGxlbihjb2RlKSA9PSAzOgogICAgICAgICAgICBjaGlsZHJlbi5hcHBlbmQoUmVsYXRpb24oY2FtZW9fY29kZT1DQU1FT0NvZGUoY29kZSksIG5hbWU9aW5mb1snTmFtZSddLCBkZXNjcmlwdGlvbj1pbmZvWydEZXNjcmlwdGlvbiddKSkKICAgIHJldHVybiBjaGlsZHJlbgoKZGVmIGdldF9zaWJsaW5nX3JlbGF0aW9ucyhjYW1lb19jb2RlOiBDQU1FT0NvZGUpIC0+IExpc3RbUmVsYXRpb25dOgogICAgIiIiCiAgICBSZXRyaWV2ZXMgc2libGluZyByZWxhdGlvbnMgb2YgYSBnaXZlbiByZWxhdGlvbiBpZGVudGlmaWVkIGJ5IENBTUVPIGNvZGUuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBjYW1lb19jb2RlIChDQU1FT0NvZGUpOiBUaGUgQ0FNRU8gY29kZSBvZiB0aGUgcmVsYXRpb24gd2hvc2Ugc2libGluZ3MgYXJlIHNvdWdodC4gQm90aCBmaXJzdCBhbmQgc2Vjb25kIGxldmVsIHJlbGF0aW9ucyBhcmUgYWNjZXB0ZWQuCgogICAgUmV0dXJuczoKICAgICAgICBMaXN0W1JlbGF0aW9uXTogQSBsaXN0IG9mIHNpYmxpbmcgcmVsYXRpb25zIGF0IHRoZSBzYW1lIGxldmVsLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGdldF9zaWJsaW5nX3JlbGF0aW9ucyhDQU1FT0NvZGUoIjE5MyIpKQogICAgICAgIFtSZWxhdGlvbihjYWVtb19jb2RlPUNBTUVPQ29kZSgiMTkwIiksIG5hbWU9IlVzZSBjb252ZW50aW9uYWwgbWlsaXRhcnkgZm9yY2UsIG5vdCBzcGVjaWZpZWQiLCBkZXNjcmlwdGlvbj0iQWxsIHVzZXMgb2YgY29udmVudGlvbmFsIGZvcmNlIGFuZCBhY3RzIG9mIHdhciB0eXBpY2FsbHkgYnkgb3JnYW5pemVkIGFybWVkIGdyb3Vwcywgbm90IG90aGVyd2lzZSBzcGVjaWZpZWQuIiksIFJlbGF0aW9uKGNhbWVvX2NvZGU9Q0FNRU9Db2RlKCIxOTEiKSwgbmFtZT0iSW1wb3NlIGJsb2NrYWRlIG9yIHJlc3RyaWN0IG1vdmVtZW50IiwgZGVzY3JpcHRpb249IlByZXZlbnQgZW50cnkgaW50byBhbmQvb3IgZXhpdCBmcm9tIGEgdGVycml0b3J5IHVzaW5nIGFybWVkIGZvcmNlcy4iKSwgLi4uXQogICAgIiIiCiAgICAjIGNoZWNrIHR5cGUKICAgIGlmIG5vdCBpc2luc3RhbmNlKGNhbWVvX2NvZGUsIENBTUVPQ29kZSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdjYW1lb19jb2RlJyBtdXN0IGJlIGEgQ0FNRU9Db2RlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoY2FtZW9fY29kZSl9IikKCiAgICBpZiBsZW4oY2FtZW9fY29kZS5jb2RlKSA9PSAzOgogICAgICAgIHJldHVybiBnZXRfY2hpbGRfcmVsYXRpb25zKGdldF9wYXJlbnRfcmVsYXRpb24oY2FtZW9fY29kZSkuY2FtZW9fY29kZSkKICAgIGVsaWYgbGVuKGNhbWVvX2NvZGUuY29kZSkgPT0gMjoKICAgICAgICAjIGdldCAnMDEnIHRvICcyMCcgcmVsYXRpb25zCiAgICAgICAgZmlyc3RfbGV2ZWxfY29kZXMgPSBbc3RyKGkpLnpmaWxsKDIpIGZvciBpIGluIHJhbmdlKDEsIDIxKV0KICAgICAgICByZWxhdGlvbnMgPSBbXQogICAgICAgIGZvciBjb2RlIGluIGZpcnN0X2xldmVsX2NvZGVzOgogICAgICAgICAgICByZWxhdGlvbnMuYXBwZW5kKG1hcF9jYW1lb190b19yZWxhdGlvbihDQU1FT0NvZGUoY29kZSkpKQogICAgICAgIHJldHVybiByZWxhdGlvbnMKCmRlZiBjb3VudF9ldmVudHMoZGF0ZV9yYW5nZTogT3B0aW9uYWxbRGF0ZVJhbmdlXSA9IE5vbmUsIGhlYWRfZW50aXRpZXM6IE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dID0gTm9uZSwgdGFpbF9lbnRpdGllczogT3B0aW9uYWxbTGlzdFtJU09Db2RlXV0gPSBOb25lLCByZWxhdGlvbnM6IE9wdGlvbmFsW0xpc3RbQ0FNRU9Db2RlXV0gPSBOb25lKSAtPiBpbnQ6CiAgICAiIiIKICAgIENvdW50cyB0aGUgbnVtYmVyIG9mIGV2ZW50cyBpbiB0aGUga25vd2xlZGdlIGdyYXBoIGJhc2VkIG9uIHNwZWNpZmllZCBjb25kaXRpb25zLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgZGF0ZV9yYW5nZSAoT3B0aW9uYWxbRGF0ZVJhbmdlXSk6IFJhbmdlIG9mIGRhdGVzIHRvIGZpbHRlciB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZGF0ZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIGhlYWRfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogTGlzdCBvZiBoZWFkIGVudGl0eSBJU08gY29kZXMgdG8gYmUgaW5jbHVkZWQuIElmIE5vbmUsIGFsbCBjb3VudHJpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHRhaWxfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogTGlzdCBvZiB0YWlsIGVudGl0eSBJU08gY29kZXMgdG8gYmUgaW5jbHVkZWQuIElmIE5vbmUsIGFsbCBjb3VudHJpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHJlbGF0aW9ucyAoT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSk6IExpc3Qgb2YgcmVsYXRpb24gQ0FNRU8gY29kZXMgdG8gYmUgaW5jbHVkZWQuIElmIGZpcnN0IGxldmVsIHJlbGF0aW9ucyBhcmUgbGlzdGVkLCBhbGwgc2Vjb25kIGxldmVsIHJlbGF0aW9ucyB1bmRlciB0aGVtIGFyZSBpbmNsdWRlZC4gSWYgTm9uZSwgYWxsIHJlbGF0aW9ucyBhcmUgaW5jbHVkZWQuCgogICAgUmV0dXJuczoKICAgICAgICBpbnQ6IENvdW50IG9mIHVuaXF1ZSBldmVudHMgbWF0Y2hpbmcgdGhlIGNvbmRpdGlvbnMuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gY291bnRfZXZlbnRzKGRhdGVfcmFuZ2U9RGF0ZVJhbmdlKHN0YXJ0X2RhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCBlbmRfZGF0ZT1EYXRlKCIyMDIyLTAxLTMxIikpLCBoZWFkX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCB0YWlsX2VudGl0aWVzPU5vbmUsIHJlbGF0aW9ucz1bQ0FNRU9Db2RlKCIwMTAiKV0pCiAgICAgICAgNAogICAgIiIiCiAgICAjIGNoZWNrIHR5cGUKICAgIGlmIGRhdGVfcmFuZ2UgYW5kIG5vdCBpc2luc3RhbmNlKGRhdGVfcmFuZ2UsIERhdGVSYW5nZSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdkYXRlX3JhbmdlJyBtdXN0IGJlIGEgRGF0ZVJhbmdlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoZGF0ZV9yYW5nZSl9IikKICAgIGlmIGhlYWRfZW50aXRpZXMgYW5kIG5vdCBpc2luc3RhbmNlKGhlYWRfZW50aXRpZXMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAnaGVhZF9lbnRpdGllcycgbXVzdCBiZSBhIGxpc3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGhlYWRfZW50aXRpZXMpfSIpCiAgICBpZiBoZWFkX2VudGl0aWVzIGFuZCBub3QgYWxsKGlzaW5zdGFuY2UoaXNvLCBJU09Db2RlKSBmb3IgaXNvIGluIGhlYWRfZW50aXRpZXMpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJFbGVtZW50cyBpbiAnaGVhZF9lbnRpdGllcycgbXVzdCBiZSBJU09Db2RlIG9iamVjdHMiKQogICAgaWYgdGFpbF9lbnRpdGllcyBhbmQgbm90IGlzaW5zdGFuY2UodGFpbF9lbnRpdGllcywgbGlzdCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICd0YWlsX2VudGl0aWVzJyBtdXN0IGJlIGEgbGlzdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUodGFpbF9lbnRpdGllcyl9IikKICAgIGlmIHRhaWxfZW50aXRpZXMgYW5kIG5vdCBhbGwoaXNpbnN0YW5jZShpc28sIElTT0NvZGUpIGZvciBpc28gaW4gdGFpbF9lbnRpdGllcyk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVsZW1lbnRzIGluICd0YWlsX2VudGl0aWVzJyBtdXN0IGJlIElTT0NvZGUgb2JqZWN0cyIpCiAgICBpZiByZWxhdGlvbnMgYW5kIG5vdCBpc2luc3RhbmNlKHJlbGF0aW9ucywgbGlzdCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdyZWxhdGlvbnMnIG11c3QgYmUgYSBsaXN0LCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShyZWxhdGlvbnMpfSIpCiAgICBpZiByZWxhdGlvbnMgYW5kIG5vdCBhbGwoaXNpbnN0YW5jZShjb2RlLCBDQU1FT0NvZGUpIGZvciBjb2RlIGluIHJlbGF0aW9ucyk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVsZW1lbnRzIGluICdyZWxhdGlvbnMnIG11c3QgYmUgQ0FNRU9Db2RlIG9iamVjdHMiKQoKICAgICMgcHJvY2VzcyBkYXRhX2tnIGJ5IGZpbHRlcmluZyBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIGNvbmRpdGlvbnMKICAgIGN1cnJfZGF0YSA9IGRhdGFfa2cuY29weSgpCiAgICBjdXJyX2RhdGEuZHJvcF9kdXBsaWNhdGVzKHN1YnNldD1bJ1F1YWRFdmVudENvZGUnXSwgaW5wbGFjZT1UcnVlKQogICAgY3Vycl9kYXRhID0gY3Vycl9kYXRhW2N1cnJfZGF0YVsnRGF0ZVN0ciddIDw9IERFRkFVTFRfRU5EX0RBVEVdCiAgICBpZiBkYXRlX3JhbmdlOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVsoY3Vycl9kYXRhWydEYXRlU3RyJ10gPj0gZGF0ZV9yYW5nZS5zdGFydF9kYXRlLmRhdGUpICYgKGN1cnJfZGF0YVsnRGF0ZVN0ciddIDw9IGRhdGVfcmFuZ2UuZW5kX2RhdGUuZGF0ZSldCiAgICBpZiBoZWFkX2VudGl0aWVzOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMUNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiBoZWFkX2VudGl0aWVzXSldCiAgICBpZiB0YWlsX2VudGl0aWVzOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMkNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiB0YWlsX2VudGl0aWVzXSldCiAgICBpZiByZWxhdGlvbnM6CiAgICAgICAgIyBpZiBmaXJzdCBsZXZlbCByZWxhdGlvbnMgYXJlIGxpc3RlZCwgaW5jbHVkZSBhbGwgc2Vjb25kIGxldmVsIHJlbGF0aW9ucyB1bmRlciB0aGVtCiAgICAgICAgZm9yIGNvZGUgaW4gcmVsYXRpb25zOgogICAgICAgICAgICBpZiBsZW4oY29kZS5jb2RlKSA9PSAyOgogICAgICAgICAgICAgICAgcmVsYXRpb25zLmV4dGVuZChbQ0FNRU9Db2RlKGMpIGZvciBjIGluIGRpY3RfY29kZTJyZWxhdGlvbiBpZiBjWzoyXSA9PSBjb2RlLmNvZGUgYW5kIGxlbihjKSA9PSAzXSkKICAgICAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbY3Vycl9kYXRhWydFdmVudEJhc2VDb2RlJ10uaXNpbihbY29kZS5jb2RlIGZvciBjb2RlIGluIHJlbGF0aW9uc10pXQogICAgcmV0dXJuIGxlbihjdXJyX2RhdGEpCgpkZWYgZ2V0X2V2ZW50cyhkYXRlX3JhbmdlOiBPcHRpb25hbFtEYXRlUmFuZ2VdID0gTm9uZSwgaGVhZF9lbnRpdGllczogT3B0aW9uYWxbTGlzdFtJU09Db2RlXV0gPSBOb25lLCB0YWlsX2VudGl0aWVzOiBPcHRpb25hbFtMaXN0W0lTT0NvZGVdXSA9IE5vbmUsIHJlbGF0aW9uczogT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSA9IE5vbmUsIHRleHRfZGVzY3JpcHRpb246IE9wdGlvbmFsW3N0cl0gPSBOb25lKSAtPiBMaXN0W0V2ZW50XToKICAgICIiIgogICAgUmV0cmlldmVzIGV2ZW50cyBmcm9tIHRoZSBrbm93bGVkZ2UgZ3JhcGggYmFzZWQgb24gc3BlY2lmaWVkIGNvbmRpdGlvbnMuCiAgICBJbmhlcml0cyBjb21tb24gZmlsdGVyIHBhcmFtZXRlcnMgZnJvbSBjb3VudF9ldmVudHMuIFNlZSBjb3VudF9ldmVudHMgZm9yIG1vcmUgZGV0YWlscyBvbiB0aGVzZSBwYXJhbWV0ZXJzLgoKICAgIEFkZGl0aW9uYWwgUGFyYW1ldGVyczoKICAgICAgICB0ZXh0X2Rlc2NyaXB0aW9uIChPcHRpb25hbFtzdHJdKTogVGV4dHVhbCBkZXNjcmlwdGlvbiB0byBtYXRjaCB3aXRoIHRoZSBzb3VyY2UgbmV3cyBhcnRpY2xlcyBvZiBldmVudHMuIElmIE5vbmUsIHRoZSByZXR1cm5lZCBldmVudHMgYXJlIHNvcnRlZCBieSBkYXRlIGluIGRlc2NlbmRpbmcgb3JkZXI7IG90aGVyd2lzZSwgc29ydGVkIGJ5IHJlbGV2YW5jZSBvZiB0aGUgc291cmNlIG5ld3MgYXJ0aWNsZSB0byB0aGUgZGVzY3JpcHRpb24uCgogICAgUmV0dXJuczoKICAgICAgICBMaXN0W0V2ZW50XTogQSBsaXN0IG9mIG1heGltdW0gMzAgZXZlbnRzIG1hdGNoaW5nIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucy4KCiAgICBFeGFtcGxlOgogICAgICAgID4+PiBnZXRfZXZlbnRzKGRhdGVfcmFuZ2U9RGF0ZVJhbmdlKHN0YXJ0X2RhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCBlbmRfZGF0ZT1EYXRlKCIyMDIyLTAxLTMxIikpLCBoZWFkX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCB0YWlsX2VudGl0aWVzPU5vbmUsIHJlbGF0aW9ucz1bQ0FNRU9Db2RlKCIwMTAiKV0sIHRleHRfZGVzY3JpcHRpb249ImVjb25vbWljIHRyYWRlIikKICAgICAgICBbRXZlbnQoZGF0ZT1EYXRlKCIyMDIyLTAxLTE1IiksIGhlYWRfZW50aXR5PUlTT0NvZGUoIlVTQSIpLCByZWxhdGlvbj1DQU1FT0NvZGUoIjAxMCIpLCB0YWlsX2VudGl0eT1JU09Db2RlKCJDQU4iKSwgRXZlbnQoZGF0ZT1EYXRlKCIyMDIyLTAxLTEwIiksIGhlYWRfZW50aXR5PUlTT0NvZGUoIkNITiIpLCByZWxhdGlvbj1DQU1FT0NvZGUoIjAxMCIpLCB0YWlsX2VudGl0eT1JU09Db2RlKCJVU0EiKSwgLi4uXQogICAgIiIiCiAgICAjIGNoZWNrIHR5cGUKICAgIGlmIGRhdGVfcmFuZ2UgYW5kIG5vdCBpc2luc3RhbmNlKGRhdGVfcmFuZ2UsIERhdGVSYW5nZSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdkYXRlX3JhbmdlJyBtdXN0IGJlIGEgRGF0ZVJhbmdlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoZGF0ZV9yYW5nZSl9IikKICAgIGlmIGhlYWRfZW50aXRpZXMgYW5kIG5vdCBpc2luc3RhbmNlKGhlYWRfZW50aXRpZXMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAnaGVhZF9lbnRpdGllcycgbXVzdCBiZSBhIGxpc3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGhlYWRfZW50aXRpZXMpfSIpCiAgICBpZiBoZWFkX2VudGl0aWVzIGFuZCBub3QgYWxsKGlzaW5zdGFuY2UoaXNvLCBJU09Db2RlKSBmb3IgaXNvIGluIGhlYWRfZW50aXRpZXMpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJFbGVtZW50cyBpbiAnaGVhZF9lbnRpdGllcycgbXVzdCBiZSBJU09Db2RlIG9iamVjdHMiKQogICAgaWYgdGFpbF9lbnRpdGllcyBhbmQgbm90IGlzaW5zdGFuY2UodGFpbF9lbnRpdGllcywgbGlzdCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICd0YWlsX2VudGl0aWVzJyBtdXN0IGJlIGEgbGlzdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUodGFpbF9lbnRpdGllcyl9IikKICAgIGlmIHRhaWxfZW50aXRpZXMgYW5kIG5vdCBhbGwoaXNpbnN0YW5jZShpc28sIElTT0NvZGUpIGZvciBpc28gaW4gdGFpbF9lbnRpdGllcyk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVsZW1lbnRzIGluICd0YWlsX2VudGl0aWVzJyBtdXN0IGJlIElTT0NvZGUgb2JqZWN0cyIpCiAgICBpZiByZWxhdGlvbnMgYW5kIG5vdCBpc2luc3RhbmNlKHJlbGF0aW9ucywgbGlzdCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdyZWxhdGlvbnMnIG11c3QgYmUgYSBsaXN0LCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShyZWxhdGlvbnMpfSIpCiAgICBpZiByZWxhdGlvbnMgYW5kIG5vdCBhbGwoaXNpbnN0YW5jZShjb2RlLCBDQU1FT0NvZGUpIGZvciBjb2RlIGluIHJlbGF0aW9ucyk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVsZW1lbnRzIGluICdyZWxhdGlvbnMnIG11c3QgYmUgQ0FNRU9Db2RlIG9iamVjdHMiKQogICAgaWYgdGV4dF9kZXNjcmlwdGlvbiBhbmQgbm90IGlzaW5zdGFuY2UodGV4dF9kZXNjcmlwdGlvbiwgc3RyKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5wdXQgJ3RleHRfZGVzY3JpcHRpb24nIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKHRleHRfZGVzY3JpcHRpb24pfSIpCgogICAgIyBwcm9jZXNzIGRhdGFfa2cgYnkgZmlsdGVyaW5nIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucwogICAgY3Vycl9kYXRhID0gZGF0YV9rZy5jb3B5KCkKICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0RhdGVTdHInXSA8PSBERUZBVUxUX0VORF9EQVRFXQogICAgaWYgZGF0ZV9yYW5nZToKICAgICAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbKGN1cnJfZGF0YVsnRGF0ZVN0ciddID49IGRhdGVfcmFuZ2Uuc3RhcnRfZGF0ZS5kYXRlKSAmIChjdXJyX2RhdGFbJ0RhdGVTdHInXSA8PSBkYXRlX3JhbmdlLmVuZF9kYXRlLmRhdGUpXQogICAgaWYgaGVhZF9lbnRpdGllczoKICAgICAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbY3Vycl9kYXRhWydBY3RvcjFDb3VudHJ5Q29kZSddLmlzaW4oW2lzby5jb2RlIGZvciBpc28gaW4gaGVhZF9lbnRpdGllc10pXQogICAgaWYgdGFpbF9lbnRpdGllczoKICAgICAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbY3Vycl9kYXRhWydBY3RvcjJDb3VudHJ5Q29kZSddLmlzaW4oW2lzby5jb2RlIGZvciBpc28gaW4gdGFpbF9lbnRpdGllc10pXQogICAgaWYgcmVsYXRpb25zOgogICAgICAgICMgaWYgZmlyc3QgbGV2ZWwgcmVsYXRpb25zIGFyZSBsaXN0ZWQsIGluY2x1ZGUgYWxsIHNlY29uZCBsZXZlbCByZWxhdGlvbnMgdW5kZXIgdGhlbQogICAgICAgIGZvciBjb2RlIGluIHJlbGF0aW9uczoKICAgICAgICAgICAgaWYgbGVuKGNvZGUuY29kZSkgPT0gMjoKICAgICAgICAgICAgICAgIHJlbGF0aW9ucy5leHRlbmQoW0NBTUVPQ29kZShjKSBmb3IgYyBpbiBkaWN0X2NvZGUycmVsYXRpb24gaWYgY1s6Ml0gPT0gY29kZS5jb2RlIGFuZCBsZW4oYykgPT0gM10pCiAgICAgICAgY3Vycl9kYXRhID0gY3Vycl9kYXRhW2N1cnJfZGF0YVsnRXZlbnRCYXNlQ29kZSddLmlzaW4oW2NvZGUuY29kZSBmb3IgY29kZSBpbiByZWxhdGlvbnNdKV0KICAgIGlmIG5vdCB0ZXh0X2Rlc2NyaXB0aW9uOgogICAgICAgICMgZ2V0IG1heCAzMCBldmVudHMgZnJvbSB0aGUgZmlsdGVyZWQgZGF0YQogICAgICAgIGV2ZW50cyA9IFtdCiAgICAgICAgY3Vycl9kYXRhLmRyb3BfZHVwbGljYXRlcyhzdWJzZXQ9WydRdWFkRXZlbnRDb2RlJ10sIGlucGxhY2U9VHJ1ZSkKICAgICAgICAjIHNvcnRlZCBieSBkYXRlIGluIGRlc2NlbmRpbmcgb3JkZXIKICAgICAgICBjdXJyX2RhdGEuc29ydF92YWx1ZXMoYnk9J0RhdGVTdHInLCBhc2NlbmRpbmc9RmFsc2UsIGlucGxhY2U9VHJ1ZSkKICAgICAgICBjb3VudCA9IDAKICAgICAgICBmb3IgXywgcm93IGluIGN1cnJfZGF0YS5pdGVycm93cygpOgogICAgICAgICAgICBpZiBjb3VudCA+PSAzMDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGV2ZW50cy5hcHBlbmQoRXZlbnQoZGF0ZT1EYXRlKHJvd1snRGF0ZVN0ciddKSwgaGVhZF9lbnRpdHk9SVNPQ29kZShyb3dbJ0FjdG9yMUNvdW50cnlDb2RlJ10pLCByZWxhdGlvbj1DQU1FT0NvZGUocm93WydFdmVudEJhc2VDb2RlJ10pLCB0YWlsX2VudGl0eT1JU09Db2RlKHJvd1snQWN0b3IyQ291bnRyeUNvZGUnXSkpKQogICAgICAgIHJldHVybiBldmVudHNbOjMwXQogICAgZWxzZToKICAgICAgICAjIGNvbmNhdCB0aGUgRG9jaWRzIGxpc3Qgb2YgY3VycmVudCBkYXRhIHRvIGdldCB0aGUgbmV3cyBhcnRpY2xlcwogICAgICAgIGRvY2lkc19saXN0ID0gW2V2YWwoZG9jaWRzKSBmb3IgZG9jaWRzIGluIGN1cnJfZGF0YVsnRG9jaWRzJ10udW5pcXVlKCkudG9saXN0KCldCiAgICAgICAgZG9jaWRzID0gbGlzdChzZXQoW2l0ZW0gZm9yIHN1Ymxpc3QgaW4gZG9jaWRzX2xpc3QgZm9yIGl0ZW0gaW4gc3VibGlzdF0pKQogICAgICAgIGRvY2lkcyA9IFtzdHIoZG9jaWQpIGZvciBkb2NpZCBpbiBkb2NpZHNdCiAgICAgICAgbmV3c19hcnRpY2xlcyA9IGRhdGFfbmV3c1tkYXRhX25ld3NbJ0RvY2lkJ10uaXNpbihkb2NpZHMpXQogICAgICAgICMgZ2V0IHRoZSBtYXggMzAgZG9jaWRzIHdpdGggdGhlIGhpZ2hlc3QgQk0yNSBzY29yZSB0byB0aGUgdGV4dF9kZXNjcmlwdGlvbgogICAgICAgIGNvcnB1cyA9IG5ld3NfYXJ0aWNsZXNbJ1RpdGxlJ10gKyAnICcgKyBuZXdzX2FydGljbGVzWydUZXh0J10KICAgICAgICB0b2tlbml6ZWRfY29ycHVzID0gW2RvYy5zcGxpdCgiICIpIGZvciBkb2MgaW4gY29ycHVzXQogICAgICAgIGJtMjUgPSBCTTI1T2thcGkodG9rZW5pemVkX2NvcnB1cykKICAgICAgICB0b2tlbml6ZWRfcXVlcnkgPSB0ZXh0X2Rlc2NyaXB0aW9uLnNwbGl0KCIgIikKICAgICAgICBkb2Nfc2NvcmVzID0gYm0yNS5nZXRfc2NvcmVzKHRva2VuaXplZF9xdWVyeSkKICAgICAgICB0b3BfaW5kaWNlcyA9IG5wLmFyZ3NvcnQoZG9jX3Njb3JlcylbOjotMV1bOjMwXQogICAgICAgIG5ld3NfYXJ0aWNsZXMgPSBuZXdzX2FydGljbGVzLmlsb2NbdG9wX2luZGljZXNdCiAgICAgICAgZG9jaWRzID0gbmV3c19hcnRpY2xlc1snRG9jaWQnXS50b2xpc3QoKQogICAgICAgICMgZ2V0IG1heCAzMCBldmVudHMgZnJvbSB0aGUgZmlsdGVyZWQgZGF0YQogICAgICAgIGV2ZW50cyA9IHNldCgpCiAgICAgICAgZm9yIGRvY2lkIGluIGRvY2lkczoKICAgICAgICAgICAgaWYgbGVuKGV2ZW50cykgPj0gMzA6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBkb2NfY3Vycl9kYXRhID0gY3Vycl9kYXRhW2N1cnJfZGF0YVsnRG9jaWQnXSA9PSBkb2NpZF0KICAgICAgICAgICAgIyByZXZlcnNlIHRoZSBvcmRlciBvZiB0aGUgZXZlbnRzIHRvIGdldCB0aGUgbGF0ZXN0IGV2ZW50cyBmaXJzdAogICAgICAgICAgICBkb2NfY3Vycl9kYXRhID0gZG9jX2N1cnJfZGF0YS5zb3J0X3ZhbHVlcyhieT0nRGF0ZVN0cicsIGFzY2VuZGluZz1GYWxzZSkKICAgICAgICAgICAgZm9yIF8sIHJvdyBpbiBkb2NfY3Vycl9kYXRhLml0ZXJyb3dzKCk6CiAgICAgICAgICAgICAgICBldmVudHMuYWRkKEV2ZW50KGRhdGU9RGF0ZShyb3dbJ0RhdGVTdHInXSksIGhlYWRfZW50aXR5PUlTT0NvZGUocm93WydBY3RvcjFDb3VudHJ5Q29kZSddKSwgcmVsYXRpb249Q0FNRU9Db2RlKHJvd1snRXZlbnRCYXNlQ29kZSddKSwgdGFpbF9lbnRpdHk9SVNPQ29kZShyb3dbJ0FjdG9yMkNvdW50cnlDb2RlJ10pKSkKICAgICAgICByZXR1cm4gbGlzdChldmVudHMpCgpkZWYgZ2V0X2VudGl0eV9kaXN0cmlidXRpb24oZGF0ZV9yYW5nZTogT3B0aW9uYWxbRGF0ZVJhbmdlXSA9IE5vbmUsIGludm9sdmVkX3JlbGF0aW9uczogT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSA9IE5vbmUsIGludGVyYWN0ZWRfZW50aXRpZXM6IE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dID0gTm9uZSwgZW50aXR5X3JvbGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lKSAtPiBEaWN0W0lTT0NvZGUsIGludF06CiAgICAiIiIKICAgIEdldHMgdGhlIGRpc3RyaWJ1dGlvbiBvZiBlbnRpdGllcyBpbiB0aGUga25vd2xlZGdlIGdyYXBoIHVuZGVyIHNwZWNpZmllZCBjb25kaXRpb25zLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgZGF0ZV9yYW5nZSAoT3B0aW9uYWxbRGF0ZVJhbmdlXSk6IFJhbmdlIG9mIGRhdGVzIHRvIGZpbHRlciB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZGF0ZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIGludm9sdmVkX3JlbGF0aW9ucyAoT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSk6IExpc3Qgb2YgcmVsYXRpb25zIHRoYXQgdGhlIHJldHVybmVkIGVudGl0aWVzIG11c3QgYmUgaW52b2x2ZWQgaW4gYW55IG9mLiBJZiBmaXJzdCBsZXZlbCByZWxhdGlvbnMgYXJlIGxpc3RlZCwgYWxsIHNlY29uZCBsZXZlbCByZWxhdGlvbnMgdW5kZXIgdGhlbSBhcmUgaW5jbHVkZWQuIElmIE5vbmUsIGFsbCByZWxhdGlvbnMgYXJlIGluY2x1ZGVkLgogICAgICAgIGludGVyYWN0ZWRfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogTGlzdCBvZiBlbnRpdGllcyB0aGF0IHRoZSByZXR1cm5lZCBlbnRpdGllcyBtdXN0IGhhdmUgaW50ZXJhY3RlZCB3aXRoIGFueSBvZi4gSWYgTm9uZSwgYWxsIGVudGl0aWVzIGFyZSBpbmNsdWRlZC4KICAgICAgICBlbnRpdHlfcm9sZSAoT3B0aW9uYWxbRW50aXR5Um9sZV0pOiBTcGVjaWZpZXMgdGhlIHJvbGUgb2YgdGhlIHJldHVybmVkIGVudGl0eSBpbiB0aGUgZXZlbnRzLiBPcHRpb25zIGFyZSAnaGVhZCcsICd0YWlsJywgb3IgJ2JvdGgnLiBJZiAnYm90aCcgb3IgTm9uZSwgdGhlIHJldHVybmVkIGVudGl0eSBjYW4gYmUgZWl0aGVyIGhlYWQgb3IgdGFpbC4KCiAgICBSZXR1cm5zOgogICAgICAgIERpY3RbSVNPQ29kZSwgaW50XTogQSBkaWN0aW9uYXJ5IG1hcHBpbmcgcmV0dXJuZWQgZW50aXRpZXMnIElTTyBjb2RlcyB0byB0aGUgbnVtYmVyIG9mIGV2ZW50cyB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucyBpbiB3aGljaCB0aGV5IGFyZSBpbnZvbHZlZCwgc29ydGVkIGJ5IGNvdW50cyBpbiBkZXNjZW5kaW5nIG9yZGVyLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGdldF9lbnRpdHlfZGlzdHJpYnV0aW9uKGRhdGVfcmFuZ2U9RGF0ZVJhbmdlKHN0YXJ0X2RhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCBlbmRfZGF0ZT1EYXRlKCIyMDIyLTAxLTMxIikpLCBpbnZvbHZlZF9yZWxhdGlvbnM9W0NBTUVPQ29kZSgiMDEwIildLCBpbnRlcmFjdGVkX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCBlbnRpdHlfcm9sZT0idGFpbCIpCiAgICAgICAge0lTT0NvZGUoIlVTQSIpOiAzLCBJU09Db2RlKCJDSE4iKTogMX0KICAgICIiIgogICAgIyBjaGVjayB0eXBlCiAgICBpZiBkYXRlX3JhbmdlIGFuZCBub3QgaXNpbnN0YW5jZShkYXRlX3JhbmdlLCBEYXRlUmFuZ2UpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAnZGF0ZV9yYW5nZScgbXVzdCBiZSBhIERhdGVSYW5nZSBvYmplY3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGRhdGVfcmFuZ2UpfSIpCiAgICBpZiBpbnZvbHZlZF9yZWxhdGlvbnMgYW5kIG5vdCBpc2luc3RhbmNlKGludm9sdmVkX3JlbGF0aW9ucywgbGlzdCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdpbnZvbHZlZF9yZWxhdGlvbnMnIG11c3QgYmUgYSBsaXN0LCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShpbnZvbHZlZF9yZWxhdGlvbnMpfSIpCiAgICBpZiBpbnZvbHZlZF9yZWxhdGlvbnMgYW5kIG5vdCBhbGwoaXNpbnN0YW5jZShjb2RlLCBDQU1FT0NvZGUpIGZvciBjb2RlIGluIGludm9sdmVkX3JlbGF0aW9ucyk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVsZW1lbnRzIGluICdpbnZvbHZlZF9yZWxhdGlvbnMnIG11c3QgYmUgQ0FNRU9Db2RlIG9iamVjdHMiKQogICAgaWYgaW50ZXJhY3RlZF9lbnRpdGllcyBhbmQgbm90IGlzaW5zdGFuY2UoaW50ZXJhY3RlZF9lbnRpdGllcywgbGlzdCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdpbnRlcmFjdGVkX2VudGl0aWVzJyBtdXN0IGJlIGEgbGlzdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoaW50ZXJhY3RlZF9lbnRpdGllcyl9IikKICAgIGlmIGludGVyYWN0ZWRfZW50aXRpZXMgYW5kIG5vdCBhbGwoaXNpbnN0YW5jZShpc28sIElTT0NvZGUpIGZvciBpc28gaW4gaW50ZXJhY3RlZF9lbnRpdGllcyk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIkVsZW1lbnRzIGluICdpbnRlcmFjdGVkX2VudGl0aWVzJyBtdXN0IGJlIElTT0NvZGUgb2JqZWN0cyIpCiAgICBpZiBlbnRpdHlfcm9sZSBhbmQgZW50aXR5X3JvbGUgbm90IGluIFsnaGVhZCcsICd0YWlsJywgJ2JvdGgnXToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5wdXQgJ2VudGl0eV9yb2xlJyBtdXN0IGJlIGEgc3RyaW5nICdoZWFkJywgJ3RhaWwnLCBvciAnYm90aCcsIGJ1dCByZWNlaXZlZDoge2VudGl0eV9yb2xlfSIpCgogICAgIyBwcm9jZXNzIGRhdGFfa2cgYnkgZmlsdGVyaW5nIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucwogICAgY3Vycl9kYXRhID0gZGF0YV9rZy5jb3B5KCkKICAgIGN1cnJfZGF0YS5kcm9wX2R1cGxpY2F0ZXMoc3Vic2V0PVsnUXVhZEV2ZW50Q29kZSddLCBpbnBsYWNlPVRydWUpCiAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbY3Vycl9kYXRhWydEYXRlU3RyJ10gPD0gREVGQVVMVF9FTkRfREFURV0KICAgIGlmIGRhdGVfcmFuZ2U6CiAgICAgICAgY3Vycl9kYXRhID0gY3Vycl9kYXRhWyhjdXJyX2RhdGFbJ0RhdGVTdHInXSA+PSBkYXRlX3JhbmdlLnN0YXJ0X2RhdGUuZGF0ZSkgJiAoY3Vycl9kYXRhWydEYXRlU3RyJ10gPD0gZGF0ZV9yYW5nZS5lbmRfZGF0ZS5kYXRlKV0KICAgIGlmIGludm9sdmVkX3JlbGF0aW9uczoKICAgICAgICAjIGlmIGZpcnN0IGxldmVsIHJlbGF0aW9ucyBhcmUgbGlzdGVkLCBpbmNsdWRlIGFsbCBzZWNvbmQgbGV2ZWwgcmVsYXRpb25zIHVuZGVyIHRoZW0KICAgICAgICBmb3IgY29kZSBpbiBpbnZvbHZlZF9yZWxhdGlvbnM6CiAgICAgICAgICAgIGlmIGxlbihjb2RlLmNvZGUpID09IDI6CiAgICAgICAgICAgICAgICBpbnZvbHZlZF9yZWxhdGlvbnMuZXh0ZW5kKFtDQU1FT0NvZGUoYykgZm9yIGMgaW4gZGljdF9jb2RlMnJlbGF0aW9uIGlmIGNbOjJdID09IGNvZGUuY29kZSBhbmQgbGVuKGMpID09IDNdKQogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0V2ZW50QmFzZUNvZGUnXS5pc2luKFtjb2RlLmNvZGUgZm9yIGNvZGUgaW4gaW52b2x2ZWRfcmVsYXRpb25zXSldCiAgICBpZiBpbnRlcmFjdGVkX2VudGl0aWVzOgogICAgICAgIGlmIGVudGl0eV9yb2xlPT0naGVhZCc6CiAgICAgICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMkNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiBpbnRlcmFjdGVkX2VudGl0aWVzXSldCiAgICAgICAgZWxpZiBlbnRpdHlfcm9sZT09J3RhaWwnOgogICAgICAgICAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbY3Vycl9kYXRhWydBY3RvcjFDb3VudHJ5Q29kZSddLmlzaW4oW2lzby5jb2RlIGZvciBpc28gaW4gaW50ZXJhY3RlZF9lbnRpdGllc10pXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVsoY3Vycl9kYXRhWydBY3RvcjFDb3VudHJ5Q29kZSddLmlzaW4oW2lzby5jb2RlIGZvciBpc28gaW4gaW50ZXJhY3RlZF9lbnRpdGllc10pKSB8IChjdXJyX2RhdGFbJ0FjdG9yMkNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiBpbnRlcmFjdGVkX2VudGl0aWVzXSkpXQogICAgIyBjb3VudCB0aGUgbnVtYmVyIG9mIGV2ZW50cyBmb3IgZWFjaCBlbnRpdHkKICAgIGVudGl0eV9jb3VudHMgPSBjdXJyX2RhdGFbJ0FjdG9yMUNvdW50cnlDb2RlJ10uX2FwcGVuZChjdXJyX2RhdGFbJ0FjdG9yMkNvdW50cnlDb2RlJ10pLnZhbHVlX2NvdW50cygpCiAgICBlbnRpdHlfY291bnRzID0gZW50aXR5X2NvdW50cy50b19kaWN0KCkKICAgICMgc29ydCB0aGUgZGljdGlvbmFyeSBieSB2YWx1ZXMgaW4gZGVzY2VuZGluZyBvcmRlcgogICAgZW50aXR5X2NvdW50cyA9IGRpY3Qoc29ydGVkKGVudGl0eV9jb3VudHMuaXRlbXMoKSwga2V5PWxhbWJkYSBpdGVtOiBpdGVtWzFdLCByZXZlcnNlPVRydWUpKQogICAgZW50aXR5X2NvdW50cyA9IHtJU09Db2RlKGtleSk6IHZhbHVlIGZvciBrZXksIHZhbHVlIGluIGVudGl0eV9jb3VudHMuaXRlbXMoKX0KICAgIHJldHVybiBlbnRpdHlfY291bnRzCgpkZWYgZ2V0X3JlbGF0aW9uX2Rpc3RyaWJ1dGlvbihkYXRlX3JhbmdlOiBPcHRpb25hbFtEYXRlUmFuZ2VdID0gTm9uZSwgaGVhZF9lbnRpdGllczogT3B0aW9uYWxbTGlzdFtJU09Db2RlXV0gPSBOb25lLCB0YWlsX2VudGl0aWVzOiBPcHRpb25hbFtMaXN0W0lTT0NvZGVdXSA9IE5vbmUpIC0+IERpY3RbQ0FNRU9Db2RlLCBpbnRdOgogICAgIiIiCiAgICBHZXRzIHRoZSBkaXN0cmlidXRpb24gb2Ygc2Vjb25kIGxldmVsIHJlbGF0aW9ucyBpbiB0aGUga25vd2xlZGdlIGdyYXBoIHVuZGVyIHNwZWNpZmllZCBjb25kaXRpb25zLgoKICAgIFBhcmFtZXRlcnM6CiAgICAgICAgZGF0ZV9yYW5nZSAoT3B0aW9uYWxbRGF0ZVJhbmdlXSk6IFJhbmdlIG9mIGRhdGVzIHRvIGZpbHRlciB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZGF0ZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIGhlYWRfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogTGlzdCBvZiBoZWFkIGVudGl0aWVzIHRoYXQgdGhlIGV2ZW50cyBtdXN0IGludm9sdmUgYW55IG9mLiBJZiBOb25lLCBhbGwgaGVhZCBlbnRpdGllcyBhcmUgaW5jbHVkZWQuCiAgICAgICAgdGFpbF9lbnRpdGllcyAoT3B0aW9uYWxbTGlzdFtJU09Db2RlXV0pOiBMaXN0IG9mIHRhaWwgZW50aXRpZXMgdGhhdCB0aGUgZXZlbnRzIG11c3QgaW52b2x2ZSBhbnkgb2YuIElmIE5vbmUsIGFsbCB0YWlsIGVudGl0aWVzIGFyZSBpbmNsdWRlZC4KCiAgICBSZXR1cm5zOgogICAgICAgIERpY3RbQ0FNRU9Db2RlLCBpbnRdOiBBIGRpY3Rpb25hcnkgbWFwcGluZyBzZWNvbmQgbGV2ZWwgcmVsYXRpb25zJyBDQU1FTyBjb2RlcyB0byB0aGUgbnVtYmVyIG9mIGV2ZW50cyB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucyBpbiB3aGljaCB0aGV5IGFyZSBpbnZvbHZlZCwgc29ydGVkIGJ5IGNvdW50cyBpbiBkZXNjZW5kaW5nIG9yZGVyLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGdldF9yZWxhdGlvbl9kaXN0cmlidXRpb24oZGF0ZV9yYW5nZT1EYXRlUmFuZ2Uoc3RhcnRfZGF0ZT1EYXRlKCIyMDIyLTAxLTAxIiksIGVuZF9kYXRlPURhdGUoIjIwMjItMDEtMzEiKSksIGhlYWRfZW50aXRpZXM9W0lTT0NvZGUoIlVTQSIpLCBJU09Db2RlKCJDSE4iKV0sIHRhaWxfZW50aXRpZXM9Tm9uZSkKICAgICAgICB7Q0FNRU9Db2RlKCIwMTAiKTogMywgQ0FNRU9Db2RlKCIwMTEiKTogMX0KICAgICIiIgogICAgIyBjaGVjayB0eXBlCiAgICBpZiBkYXRlX3JhbmdlIGFuZCBub3QgaXNpbnN0YW5jZShkYXRlX3JhbmdlLCBEYXRlUmFuZ2UpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAnZGF0ZV9yYW5nZScgbXVzdCBiZSBhIERhdGVSYW5nZSBvYmplY3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGRhdGVfcmFuZ2UpfSIpCiAgICBpZiBoZWFkX2VudGl0aWVzIGFuZCBub3QgaXNpbnN0YW5jZShoZWFkX2VudGl0aWVzLCBsaXN0KToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5wdXQgJ2hlYWRfZW50aXRpZXMnIG11c3QgYmUgYSBsaXN0LCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShoZWFkX2VudGl0aWVzKX0iKQogICAgaWYgaGVhZF9lbnRpdGllcyBhbmQgbm90IGFsbChpc2luc3RhbmNlKGlzbywgSVNPQ29kZSkgZm9yIGlzbyBpbiBoZWFkX2VudGl0aWVzKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRWxlbWVudHMgaW4gJ2hlYWRfZW50aXRpZXMnIG11c3QgYmUgSVNPQ29kZSBvYmplY3RzIikKICAgIGlmIHRhaWxfZW50aXRpZXMgYW5kIG5vdCBpc2luc3RhbmNlKHRhaWxfZW50aXRpZXMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAndGFpbF9lbnRpdGllcycgbXVzdCBiZSBhIGxpc3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKHRhaWxfZW50aXRpZXMpfSIpCiAgICBpZiB0YWlsX2VudGl0aWVzIGFuZCBub3QgYWxsKGlzaW5zdGFuY2UoaXNvLCBJU09Db2RlKSBmb3IgaXNvIGluIHRhaWxfZW50aXRpZXMpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJFbGVtZW50cyBpbiAndGFpbF9lbnRpdGllcycgbXVzdCBiZSBJU09Db2RlIG9iamVjdHMiKQoKICAgICMgcHJvY2VzcyBkYXRhX2tnIGJ5IGZpbHRlcmluZyBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIGNvbmRpdGlvbnMKICAgIGN1cnJfZGF0YSA9IGRhdGFfa2cuY29weSgpCiAgICBjdXJyX2RhdGEuZHJvcF9kdXBsaWNhdGVzKHN1YnNldD1bJ1F1YWRFdmVudENvZGUnXSwgaW5wbGFjZT1UcnVlKQogICAgY3Vycl9kYXRhID0gY3Vycl9kYXRhW2N1cnJfZGF0YVsnRGF0ZVN0ciddIDw9IERFRkFVTFRfRU5EX0RBVEVdCiAgICBpZiBkYXRlX3JhbmdlOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVsoY3Vycl9kYXRhWydEYXRlU3RyJ10gPj0gZGF0ZV9yYW5nZS5zdGFydF9kYXRlLmRhdGUpICYgKGN1cnJfZGF0YVsnRGF0ZVN0ciddIDw9IGRhdGVfcmFuZ2UuZW5kX2RhdGUuZGF0ZSldCiAgICBpZiBoZWFkX2VudGl0aWVzOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMUNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiBoZWFkX2VudGl0aWVzXSldCiAgICBpZiB0YWlsX2VudGl0aWVzOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMkNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiB0YWlsX2VudGl0aWVzXSldCiAgICAjIGNvdW50IHRoZSBudW1iZXIgb2YgZXZlbnRzIGZvciBlYWNoIHJlbGF0aW9uCiAgICByZWxhdGlvbl9jb3VudHMgPSBjdXJyX2RhdGFbJ0V2ZW50QmFzZUNvZGUnXS52YWx1ZV9jb3VudHMoKQogICAgcmVsYXRpb25fY291bnRzID0gcmVsYXRpb25fY291bnRzLnRvX2RpY3QoKQogICAgIyBzb3J0IHRoZSBkaWN0aW9uYXJ5IGJ5IHZhbHVlcyBpbiBkZXNjZW5kaW5nIG9yZGVyCiAgICByZWxhdGlvbl9jb3VudHMgPSBkaWN0KHNvcnRlZChyZWxhdGlvbl9jb3VudHMuaXRlbXMoKSwga2V5PWxhbWJkYSBpdGVtOiBpdGVtWzFdLCByZXZlcnNlPVRydWUpKQogICAgcmVsYXRpb25fY291bnRzID0ge0NBTUVPQ29kZShrZXkpOiB2YWx1ZSBmb3Iga2V5LCB2YWx1ZSBpbiByZWxhdGlvbl9jb3VudHMuaXRlbXMoKX0KICAgIHJldHVybiByZWxhdGlvbl9jb3VudHMKCmRlZiBjb3VudF9uZXdzX2FydGljbGVzKGRhdGVfcmFuZ2U6IE9wdGlvbmFsW0RhdGVSYW5nZV0gPSBOb25lLCBoZWFkX2VudGl0aWVzOiBPcHRpb25hbFtMaXN0W0lTT0NvZGVdXSA9IE5vbmUsIHRhaWxfZW50aXRpZXM6IE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dID0gTm9uZSwgcmVsYXRpb25zOiBPcHRpb25hbFtMaXN0W0NBTUVPQ29kZV1dID0gTm9uZSwga2V5d29yZHM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lKSAtPiBpbnQ6CiAgICAiIiIKICAgIENvdW50cyB0aGUgbnVtYmVyIG9mIG5ld3MgYXJ0aWNsZXMgYmFzZWQgb24gc3BlY2lmaWVkIGNvbmRpdGlvbnMuCgogICAgUGFyYW1ldGVyczoKICAgICAgICBkYXRlX3JhbmdlIChPcHRpb25hbFtEYXRlUmFuZ2VdKTogUmFuZ2Ugb2YgZGF0ZXMgdG8gZmlsdGVyIHRoZSBuZXdzIGFydGljbGVzLiBJZiBOb25lLCBhbGwgZGF0ZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIGhlYWRfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogQXQgbGVhc3Qgb25lIG9mIHRoZSBlbnRpdGllcyBtdXN0IGJlIG1lbnRpb25lZCBpbiB0aGUgYXJ0aWNsZXMgYW5kIGJlIHRoZSBoZWFkIGVudGl0eSBpbiB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZW50aXRpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHRhaWxfZW50aXRpZXMgKE9wdGlvbmFsW0xpc3RbSVNPQ29kZV1dKTogQXQgbGVhc3Qgb25lIG9mIHRoZSBlbnRpdGllcyBtdXN0IGJlIG1lbnRpb25lZCBpbiB0aGUgYXJ0aWNsZXMgYW5kIGJlIHRoZSB0YWlsIGVudGl0eSBpbiB0aGUgZXZlbnRzLiBJZiBOb25lLCBhbGwgZW50aXRpZXMgYXJlIGluY2x1ZGVkLgogICAgICAgIHJlbGF0aW9ucyAoT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSk6IEF0IGxlYXN0IG9uZSBvZiB0aGUgcmVsYXRpb25zIG11c3QgYmUgbWVudGlvbmVkIGluIHRoZSBhcnRpY2xlcy4gSWYgZmlyc3QgbGV2ZWwgcmVsYXRpb25zIGFyZSBsaXN0ZWQsIGFsbCBzZWNvbmQgbGV2ZWwgcmVsYXRpb25zIHVuZGVyIHRoZW0gYXJlIGluY2x1ZGVkLiBJZiBOb25lLCBhbGwgcmVsYXRpb25zIGFyZSBpbmNsdWRlZC4KICAgICAgICBrZXl3b3JkcyAoT3B0aW9uYWxbTGlzdFtzdHJdXSk6IEF0IGxlYXN0IG9uZSBvZiB0aGUga2V5d29yZHMgbXVzdCBiZSBwcmVzZW50IGluIHRoZSBhcnRpY2xlcy4gSWYgTm9uZSwgYWxsIGFydGljbGVzIGFyZSBpbmNsdWRlZC4KCiAgICBSZXR1cm5zOgogICAgICAgIGludDogVGhlIGNvdW50IG9mIG5ld3MgYXJ0aWNsZXMgbWF0Y2hpbmcgdGhlIGNvbmRpdGlvbnMuCgogICAgRXhhbXBsZToKICAgICAgICA+Pj4gY291bnRfbmV3c19hcnRpY2xlcyhkYXRlX3JhbmdlPURhdGVSYW5nZShzdGFydF9kYXRlPURhdGUoIjIwMjItMDEtMDEiKSwgZW5kX2RhdGU9RGF0ZSgiMjAyMi0wMS0zMSIpKSwgaGVhZF9lbnRpdGllcz1bSVNPQ29kZSgiVVNBIiksIElTT0NvZGUoIkNITiIpXSwgdGFpbF9lbnRpdGllcz1bSVNPQ29kZSgiVVNBIiksIElTT0NvZGUoIkNITiIpXSwgcmVsYXRpb25zPVtDQU1FT0NvZGUoIjAxMCIpXSwga2V5d29yZHM9WyJ0cmFkZSJdKQogICAgICAgIDIKICAgICIiIgogICAgIyBjaGVjayB0eXBlCiAgICBpZiBkYXRlX3JhbmdlIGFuZCBub3QgaXNpbnN0YW5jZShkYXRlX3JhbmdlLCBEYXRlUmFuZ2UpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAnZGF0ZV9yYW5nZScgbXVzdCBiZSBhIERhdGVSYW5nZSBvYmplY3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGRhdGVfcmFuZ2UpfSIpCiAgICBpZiBoZWFkX2VudGl0aWVzIGFuZCBub3QgaXNpbnN0YW5jZShoZWFkX2VudGl0aWVzLCBsaXN0KToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5wdXQgJ2hlYWRfZW50aXRpZXMnIG11c3QgYmUgYSBsaXN0LCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShoZWFkX2VudGl0aWVzKX0iKQogICAgaWYgaGVhZF9lbnRpdGllcyBhbmQgbm90IGFsbChpc2luc3RhbmNlKGlzbywgSVNPQ29kZSkgZm9yIGlzbyBpbiBoZWFkX2VudGl0aWVzKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRWxlbWVudHMgaW4gJ2hlYWRfZW50aXRpZXMnIG11c3QgYmUgSVNPQ29kZSBvYmplY3RzIikKICAgIGlmIHRhaWxfZW50aXRpZXMgYW5kIG5vdCBpc2luc3RhbmNlKHRhaWxfZW50aXRpZXMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAndGFpbF9lbnRpdGllcycgbXVzdCBiZSBhIGxpc3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKHRhaWxfZW50aXRpZXMpfSIpCiAgICBpZiB0YWlsX2VudGl0aWVzIGFuZCBub3QgYWxsKGlzaW5zdGFuY2UoaXNvLCBJU09Db2RlKSBmb3IgaXNvIGluIHRhaWxfZW50aXRpZXMpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJFbGVtZW50cyBpbiAndGFpbF9lbnRpdGllcycgbXVzdCBiZSBJU09Db2RlIG9iamVjdHMiKQogICAgaWYgcmVsYXRpb25zIGFuZCBub3QgaXNpbnN0YW5jZShyZWxhdGlvbnMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAncmVsYXRpb25zJyBtdXN0IGJlIGEgbGlzdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUocmVsYXRpb25zKX0iKQogICAgaWYgcmVsYXRpb25zIGFuZCBub3QgYWxsKGlzaW5zdGFuY2UoY29kZSwgQ0FNRU9Db2RlKSBmb3IgY29kZSBpbiByZWxhdGlvbnMpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJFbGVtZW50cyBpbiAncmVsYXRpb25zJyBtdXN0IGJlIENBTUVPQ29kZSBvYmplY3RzIikKICAgIGlmIGtleXdvcmRzIGFuZCBub3QgaXNpbnN0YW5jZShrZXl3b3JkcywgbGlzdCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdrZXl3b3JkcycgbXVzdCBiZSBhIGxpc3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGtleXdvcmRzKX0iKQogICAgaWYga2V5d29yZHMgYW5kIG5vdCBhbGwoaXNpbnN0YW5jZShrZXl3b3JkLCBzdHIpIGZvciBrZXl3b3JkIGluIGtleXdvcmRzKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRWxlbWVudHMgaW4gJ2tleXdvcmRzJyBtdXN0IGJlIHN0cmluZ3MiKQoKICAgICMgcHJvY2VzcyBkYXRhX2tnIGJ5IGZpbHRlcmluZyBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIGNvbmRpdGlvbnMKICAgIGN1cnJfZGF0YSA9IGRhdGFfa2cuY29weSgpCiAgICBjdXJyX2RhdGEuZHJvcF9kdXBsaWNhdGVzKHN1YnNldD1bJ1F1YWRFdmVudENvZGUnXSwgaW5wbGFjZT1UcnVlKQogICAgY3Vycl9kYXRhID0gY3Vycl9kYXRhW2N1cnJfZGF0YVsnRGF0ZVN0ciddIDw9IERFRkFVTFRfRU5EX0RBVEVdCiAgICBpZiBkYXRlX3JhbmdlOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVsoY3Vycl9kYXRhWydEYXRlU3RyJ10gPj0gZGF0ZV9yYW5nZS5zdGFydF9kYXRlLmRhdGUpICYgKGN1cnJfZGF0YVsnRGF0ZVN0ciddIDw9IGRhdGVfcmFuZ2UuZW5kX2RhdGUuZGF0ZSldCiAgICBpZiBoZWFkX2VudGl0aWVzOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMUNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiBoZWFkX2VudGl0aWVzXSldCiAgICBpZiB0YWlsX2VudGl0aWVzOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMkNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiB0YWlsX2VudGl0aWVzXSldCiAgICBpZiByZWxhdGlvbnM6CiAgICAgICAgIyBpZiBmaXJzdCBsZXZlbCByZWxhdGlvbnMgYXJlIGxpc3RlZCwgaW5jbHVkZSBhbGwgc2Vjb25kIGxldmVsIHJlbGF0aW9ucyB1bmRlciB0aGVtCiAgICAgICAgZm9yIGNvZGUgaW4gcmVsYXRpb25zOgogICAgICAgICAgICBpZiBsZW4oY29kZS5jb2RlKSA9PSAyOgogICAgICAgICAgICAgICAgcmVsYXRpb25zLmV4dGVuZChbQ0FNRU9Db2RlKGMpIGZvciBjIGluIGRpY3RfY29kZTJyZWxhdGlvbiBpZiBjWzoyXSA9PSBjb2RlLmNvZGUgYW5kIGxlbihjKSA9PSAzXSkKICAgICAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbY3Vycl9kYXRhWydFdmVudEJhc2VDb2RlJ10uaXNpbihbY29kZS5jb2RlIGZvciBjb2RlIGluIHJlbGF0aW9uc10pXQogICAgIyBjb25jYXQgdGhlIERvY2lkcyBsaXN0IG9mIGN1cnJlbnQgZGF0YSB0byBnZXQgdGhlIG5ld3MgYXJ0aWNsZXMKICAgIGRvY2lkc19saXN0ID0gW2V2YWwoZG9jaWRzKSBmb3IgZG9jaWRzIGluIGN1cnJfZGF0YVsnRG9jaWRzJ10udW5pcXVlKCkudG9saXN0KCldCiAgICBkb2NpZHMgPSBsaXN0KHNldChbaXRlbSBmb3Igc3VibGlzdCBpbiBkb2NpZHNfbGlzdCBmb3IgaXRlbSBpbiBzdWJsaXN0XSkpCiAgICBkb2NpZHMgPSBbc3RyKGRvY2lkKSBmb3IgZG9jaWQgaW4gZG9jaWRzXQogICAgbmV3c19hcnRpY2xlcyA9IGRhdGFfbmV3c1tkYXRhX25ld3NbJ0RvY2lkJ10uaXNpbihkb2NpZHMpXQogICAgaWYga2V5d29yZHM6CiAgICAgICAgIyBmaWx0ZXIgdGhlIG5ld3MgYXJ0aWNsZXMgdGhhdCBjb250YWluIGF0IGxlYXN0IG9uZSBvZiB0aGUga2V5d29yZHMgaW4gdGhlIHRpdGxlIG9yIHRleHQgc3RyaW5nCiAgICAgICAgbmV3c19hcnRpY2xlcyA9IG5ld3NfYXJ0aWNsZXNbbmV3c19hcnRpY2xlc1snVGl0bGUnXS5zdHIuY29udGFpbnMoJ3wnLmpvaW4oa2V5d29yZHMpLCBjYXNlPUZhbHNlKSB8IG5ld3NfYXJ0aWNsZXNbJ1RleHQnXS5zdHIuY29udGFpbnMoJ3wnLmpvaW4oa2V5d29yZHMpLCBjYXNlPUZhbHNlKV0KICAgIHJldHVybiBsZW4obmV3c19hcnRpY2xlcykKCmRlZiBnZXRfbmV3c19hcnRpY2xlcyhkYXRlX3JhbmdlOiBPcHRpb25hbFtEYXRlUmFuZ2VdID0gTm9uZSwgaGVhZF9lbnRpdGllczogT3B0aW9uYWxbTGlzdFtJU09Db2RlXV0gPSBOb25lLCB0YWlsX2VudGl0aWVzOiBPcHRpb25hbFtMaXN0W0lTT0NvZGVdXSA9IE5vbmUsIHJlbGF0aW9uczogT3B0aW9uYWxbTGlzdFtDQU1FT0NvZGVdXSA9IE5vbmUsIGtleXdvcmRzOiBPcHRpb25hbFtMaXN0W3N0cl1dID0gTm9uZSwgdGV4dF9kZXNjcmlwdGlvbjogT3B0aW9uYWxbc3RyXSA9IE5vbmUpIC0+IExpc3RbVHVwbGVbRGF0ZSwgc3RyXV06CiAgICAiIiIKICAgIFJldHJpZXZlcyBuZXdzIGFydGljbGVzIGJhc2VkIG9uIHNwZWNpZmllZCBjb25kaXRpb25zLgogICAgSW5oZXJpdHMgY29tbW9uIGZpbHRlciBwYXJhbWV0ZXJzIGZyb20gY291bnRfbmV3c19hcnRpY2xlcy4gU2VlIGNvdW50X25ld3NfYXJ0aWNsZXMgZm9yIG1vcmUgZGV0YWlscyBvbiB0aGVzZSBwYXJhbWV0ZXJzLgoKICAgIEFkZGl0aW9uYWwgUGFyYW1ldGVyczoKICAgICAgICB0ZXh0X2Rlc2NyaXB0aW9uIChPcHRpb25hbFtzdHJdKTogVGV4dHVhbCBkZXNjcmlwdGlvbiB0byBtYXRjaCB3aXRoIHRoZSBuZXdzIGFydGljbGVzLiBJZiBOb25lLCB0aGUgcmV0dXJuZWQgYXJ0aWNsZXMgYXJlIHNvcnRlZCBieSBkYXRlIGluIGRlc2NlbmRpbmcgb3JkZXI7IG90aGVyd2lzZSwgc29ydGVkIGJ5IHJlbGV2YW5jZSB0byB0aGUgZGVzY3JpcHRpb24uCgogICAgUmV0dXJuczoKICAgICAgICBMaXN0W1R1cGxlW0RhdGUsIHN0cl1dOiBBIGxpc3Qgb2YgbWF4aW11bSAxNSBuZXdzIGFydGljbGVzIG1hdGNoaW5nIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucywgZWFjaCByZXByZXNlbnRlZCBieSBhIHR1cGxlIG9mIGRhdGUgYW5kIHRpdGxlLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGdldF9uZXdzX2FydGljbGVzKGRhdGVfcmFuZ2U9RGF0ZVJhbmdlKHN0YXJ0X2RhdGU9RGF0ZSgiMjAyMi0wMS0wMSIpLCBlbmRfZGF0ZT1EYXRlKCIyMDIyLTAxLTMxIikpLCBoZWFkX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCB0YWlsX2VudGl0aWVzPVtJU09Db2RlKCJVU0EiKSwgSVNPQ29kZSgiQ0hOIildLCByZWxhdGlvbnM9W0NBTUVPQ29kZSgiMDEwIildLCBrZXl3b3Jkcz1bInRyYWRlIl0sIHRleHRfZGVzY3JpcHRpb249IkVjb25vbWljIHRyYWRlIGlzIGVuY291cmFnZWQgYmV0d2VlbiBVU0EgYW5kIENoaW5hLiIpCiAgICAgICAgWyhOZXdzQXJ0aWNsZS5kYXRlPURhdGUoIjIwMjItMDEtMTUiKSwgTmV3c0FydGljbGUudGl0bGU9IkNoaW5hIGFuZCBVU0Egc2lnbiB0cmFkZSBkZWFsIiksIChOZXdzQXJ0aWNsZS5kYXRlPURhdGUoIjIwMjItMDEtMTAiKSwgTmV3c0FydGljbGUudGl0bGU9IlRyYWRlIGFncmVlbWVudCBiZXR3ZWVuIFVTQSBhbmQgQ2hpbmEiKV0KICAgICIiIgogICAgIyBjaGVjayB0eXBlCiAgICBpZiBkYXRlX3JhbmdlIGFuZCBub3QgaXNpbnN0YW5jZShkYXRlX3JhbmdlLCBEYXRlUmFuZ2UpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAnZGF0ZV9yYW5nZScgbXVzdCBiZSBhIERhdGVSYW5nZSBvYmplY3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGRhdGVfcmFuZ2UpfSIpCiAgICBpZiBoZWFkX2VudGl0aWVzIGFuZCBub3QgaXNpbnN0YW5jZShoZWFkX2VudGl0aWVzLCBsaXN0KToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5wdXQgJ2hlYWRfZW50aXRpZXMnIG11c3QgYmUgYSBsaXN0LCBidXQgcmVjZWl2ZWQgdHlwZSB7dHlwZShoZWFkX2VudGl0aWVzKX0iKQogICAgaWYgaGVhZF9lbnRpdGllcyBhbmQgbm90IGFsbChpc2luc3RhbmNlKGlzbywgSVNPQ29kZSkgZm9yIGlzbyBpbiBoZWFkX2VudGl0aWVzKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRWxlbWVudHMgaW4gJ2hlYWRfZW50aXRpZXMnIG11c3QgYmUgSVNPQ29kZSBvYmplY3RzIikKICAgIGlmIHRhaWxfZW50aXRpZXMgYW5kIG5vdCBpc2luc3RhbmNlKHRhaWxfZW50aXRpZXMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAndGFpbF9lbnRpdGllcycgbXVzdCBiZSBhIGxpc3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKHRhaWxfZW50aXRpZXMpfSIpCiAgICBpZiB0YWlsX2VudGl0aWVzIGFuZCBub3QgYWxsKGlzaW5zdGFuY2UoaXNvLCBJU09Db2RlKSBmb3IgaXNvIGluIHRhaWxfZW50aXRpZXMpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJFbGVtZW50cyBpbiAndGFpbF9lbnRpdGllcycgbXVzdCBiZSBJU09Db2RlIG9iamVjdHMiKQogICAgaWYgcmVsYXRpb25zIGFuZCBub3QgaXNpbnN0YW5jZShyZWxhdGlvbnMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAncmVsYXRpb25zJyBtdXN0IGJlIGEgbGlzdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUocmVsYXRpb25zKX0iKQogICAgaWYgcmVsYXRpb25zIGFuZCBub3QgYWxsKGlzaW5zdGFuY2UoY29kZSwgQ0FNRU9Db2RlKSBmb3IgY29kZSBpbiByZWxhdGlvbnMpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJFbGVtZW50cyBpbiAncmVsYXRpb25zJyBtdXN0IGJlIENBTUVPQ29kZSBvYmplY3RzIikKICAgIGlmIGtleXdvcmRzIGFuZCBub3QgaXNpbnN0YW5jZShrZXl3b3JkcywgbGlzdCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIklucHV0ICdrZXl3b3JkcycgbXVzdCBiZSBhIGxpc3QsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKGtleXdvcmRzKX0iKQogICAgaWYga2V5d29yZHMgYW5kIG5vdCBhbGwoaXNpbnN0YW5jZShrZXl3b3JkLCBzdHIpIGZvciBrZXl3b3JkIGluIGtleXdvcmRzKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiRWxlbWVudHMgaW4gJ2tleXdvcmRzJyBtdXN0IGJlIHN0cmluZ3MiKQogICAgaWYgdGV4dF9kZXNjcmlwdGlvbiBhbmQgbm90IGlzaW5zdGFuY2UodGV4dF9kZXNjcmlwdGlvbiwgc3RyKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5wdXQgJ3RleHRfZGVzY3JpcHRpb24nIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKHRleHRfZGVzY3JpcHRpb24pfSIpCgogICAgIyBwcm9jZXNzIGRhdGFfa2cgYnkgZmlsdGVyaW5nIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucwogICAgY3Vycl9kYXRhID0gZGF0YV9rZy5jb3B5KCkKICAgIGN1cnJfZGF0YS5kcm9wX2R1cGxpY2F0ZXMoc3Vic2V0PVsnUXVhZEV2ZW50Q29kZSddLCBpbnBsYWNlPVRydWUpCiAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbY3Vycl9kYXRhWydEYXRlU3RyJ10gPD0gREVGQVVMVF9FTkRfREFURV0KICAgIGlmIGRhdGVfcmFuZ2U6CiAgICAgICAgY3Vycl9kYXRhID0gY3Vycl9kYXRhWwogICAgICAgICAgICAoY3Vycl9kYXRhWydEYXRlU3RyJ10gPj0gZGF0ZV9yYW5nZS5zdGFydF9kYXRlLmRhdGUpICYgKGN1cnJfZGF0YVsnRGF0ZVN0ciddIDw9IGRhdGVfcmFuZ2UuZW5kX2RhdGUuZGF0ZSldCiAgICBpZiBoZWFkX2VudGl0aWVzOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMUNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiBoZWFkX2VudGl0aWVzXSldCiAgICBpZiB0YWlsX2VudGl0aWVzOgogICAgICAgIGN1cnJfZGF0YSA9IGN1cnJfZGF0YVtjdXJyX2RhdGFbJ0FjdG9yMkNvdW50cnlDb2RlJ10uaXNpbihbaXNvLmNvZGUgZm9yIGlzbyBpbiB0YWlsX2VudGl0aWVzXSldCiAgICBpZiByZWxhdGlvbnM6CiAgICAgICAgIyBpZiBmaXJzdCBsZXZlbCByZWxhdGlvbnMgYXJlIGxpc3RlZCwgaW5jbHVkZSBhbGwgc2Vjb25kIGxldmVsIHJlbGF0aW9ucyB1bmRlciB0aGVtCiAgICAgICAgZm9yIGNvZGUgaW4gcmVsYXRpb25zOgogICAgICAgICAgICBpZiBsZW4oY29kZS5jb2RlKSA9PSAyOgogICAgICAgICAgICAgICAgcmVsYXRpb25zLmV4dGVuZChbQ0FNRU9Db2RlKGMpIGZvciBjIGluIGRpY3RfY29kZTJyZWxhdGlvbiBpZiBjWzoyXSA9PSBjb2RlLmNvZGUgYW5kIGxlbihjKSA9PSAzXSkKICAgICAgICBjdXJyX2RhdGEgPSBjdXJyX2RhdGFbY3Vycl9kYXRhWydFdmVudEJhc2VDb2RlJ10uaXNpbihbY29kZS5jb2RlIGZvciBjb2RlIGluIHJlbGF0aW9uc10pXQogICAgZG9jaWRzX2xpc3QgPSBbZXZhbChkb2NpZHMpIGZvciBkb2NpZHMgaW4gY3Vycl9kYXRhWydEb2NpZHMnXS51bmlxdWUoKS50b2xpc3QoKV0KICAgIGRvY2lkcyA9IGxpc3Qoc2V0KFtpdGVtIGZvciBzdWJsaXN0IGluIGRvY2lkc19saXN0IGZvciBpdGVtIGluIHN1Ymxpc3RdKSkKICAgIGRvY2lkcyA9IFtzdHIoZG9jaWQpIGZvciBkb2NpZCBpbiBkb2NpZHNdCiAgICBuZXdzX2FydGljbGVzID0gZGF0YV9uZXdzW2RhdGFfbmV3c1snRG9jaWQnXS5pc2luKGRvY2lkcyldCiAgICBpZiBrZXl3b3JkczoKICAgICAgICAjIGZpbHRlciB0aGUgbmV3cyBhcnRpY2xlcyB0aGF0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIG9mIHRoZSBrZXl3b3JkcyBpbiB0aGUgdGl0bGUgb3IgdGV4dCBzdHJpbmcKICAgICAgICBuZXdzX2FydGljbGVzID0gbmV3c19hcnRpY2xlc1tuZXdzX2FydGljbGVzWydUaXRsZSddLnN0ci5jb250YWlucygnfCcuam9pbihrZXl3b3JkcyksIGNhc2U9RmFsc2UpIHwgbmV3c19hcnRpY2xlc1snVGV4dCddLnN0ci5jb250YWlucygnfCcuam9pbihrZXl3b3JkcyksIGNhc2U9RmFsc2UpXQogICAgaWYgbm90IHRleHRfZGVzY3JpcHRpb246CiAgICAgICAgIyBnZXQgbWF4IDE1IG5ld3MgYXJ0aWNsZXMgZnJvbSB0aGUgZmlsdGVyZWQgZGF0YQogICAgICAgICMgc29ydGVkIGJ5IGRhdGUgaW4gZGVzY2VuZGluZyBvcmRlcgogICAgICAgIG5ld3NfYXJ0aWNsZXMuc29ydF92YWx1ZXMoYnk9J0RhdGUnLCBhc2NlbmRpbmc9RmFsc2UsIGlucGxhY2U9VHJ1ZSkKICAgICAgICBuZXdzX2FydGljbGVzID0gbmV3c19hcnRpY2xlc1tbJ0RhdGUnLCAnVGl0bGUnXV0uaGVhZCgxNSkKICAgICAgICByZXR1cm4gWyhEYXRlKHJvd1snRGF0ZSddKSwgcm93WydUaXRsZSddKSBmb3IgXywgcm93IGluIG5ld3NfYXJ0aWNsZXMuaXRlcnJvd3MoKV0KICAgIGVsc2U6CiAgICAgICAgIyBnZXQgdGhlIG1heCAxNSBuZXdzIGFydGljbGVzIHdpdGggdGhlIGhpZ2hlc3QgQk0yNSBzY29yZSB0byB0aGUgdGV4dF9kZXNjcmlwdGlvbgogICAgICAgIGNvcnB1cyA9IG5ld3NfYXJ0aWNsZXNbJ1RpdGxlJ10gKyAnICcgKyBuZXdzX2FydGljbGVzWydUZXh0J10KICAgICAgICB0b2tlbml6ZWRfY29ycHVzID0gW2RvYy5zcGxpdCgiICIpIGZvciBkb2MgaW4gY29ycHVzXQogICAgICAgIGJtMjUgPSBCTTI1T2thcGkodG9rZW5pemVkX2NvcnB1cykKICAgICAgICB0b2tlbml6ZWRfcXVlcnkgPSB0ZXh0X2Rlc2NyaXB0aW9uLnNwbGl0KCIgIikKICAgICAgICBkb2Nfc2NvcmVzID0gYm0yNS5nZXRfc2NvcmVzKHRva2VuaXplZF9xdWVyeSkKICAgICAgICB0b3BfaW5kaWNlcyA9IG5wLmFyZ3NvcnQoZG9jX3Njb3JlcylbOjotMV1bOjE1XQogICAgICAgIG5ld3NfYXJ0aWNsZXMgPSBuZXdzX2FydGljbGVzLmlsb2NbdG9wX2luZGljZXNdCiAgICAgICAgcmV0dXJuIFsoRGF0ZShyb3dbJ0RhdGUnXSksIHJvd1snVGl0bGUnXSkgZm9yIF8sIHJvdyBpbiBuZXdzX2FydGljbGVzLml0ZXJyb3dzKCldCgpkZWYgYnJvd3NlX25ld3NfYXJ0aWNsZShkYXRlOiBEYXRlLCB0aXRsZTogc3RyKSAtPiBzdHI6CiAgICAiIiIKICAgIFJldHJpZXZlcyB0aGUgZnVsbCB0ZXh0IG9mIGEgbmV3cyBhcnRpY2xlIGJ5IGl0cyB0aXRsZS4KCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGRhdGUgKERhdGUpOiBUaGUgZGF0ZSBvZiB0aGUgbmV3cyBhcnRpY2xlIHRvIHJldHJpZXZlLgogICAgICAgIHRpdGxlIChzdHIpOiBUaGUgdGl0bGUgb2YgdGhlIG5ld3MgYXJ0aWNsZSB0byByZXRyaWV2ZS4KCiAgICBSZXR1cm5zOgogICAgICAgIHN0cjogVGhlIGRhdGUsIHRoZSB0aXRsZSBhbmQgZnVsbCBjb250ZW50cyBvZiB0aGUgbmV3cyBhcnRpY2xlLgoKICAgIEV4YW1wbGU6CiAgICAgICAgPj4+IGJyb3dzZV9uZXdzX2FydGljbGUoRGF0ZSgiMjAyMi0wMS0xMCIpLCAiVHJhZGUgYWdyZWVtZW50IGJldHdlZW4gVVNBIGFuZCBDaGluYSIpCiAgICAgICAgMjAyMi0wMS0xMDoKICAgICAgICBUcmFkZSBhZ3JlZW1lbnQgYmV0d2VlbiBVU0EgYW5kIENoaW5hCiAgICAgICAgT24gSmFudWFyeSAxMCwgMjAyMiwgYSB0cmFkZSBhZ3JlZW1lbnQgd2FzIHNpZ25lZCBiZXR3ZWVuIHRoZSBVU0EgYW5kIENoaW5hIHRvIHByb21vdGUgZWNvbm9taWMgY29vcGVyYXRpb24uLi4KICAgICIiIgogICAgIyBjaGVjayB0eXBlCiAgICBpZiBub3QgaXNpbnN0YW5jZShkYXRlLCBEYXRlKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiSW5wdXQgJ2RhdGUnIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYnV0IHJlY2VpdmVkIHR5cGUge3R5cGUoZGF0ZSl9IikKICAgIGlmIG5vdCBpc2luc3RhbmNlKHRpdGxlLCBzdHIpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJJbnB1dCAndGl0bGUnIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCByZWNlaXZlZCB0eXBlIHt0eXBlKHRpdGxlKX0iKQoKICAgICMgcHJvY2VzcyBkYXRhX25ld3MgdG8gZmluZCB0aGUgbmV3cyBhcnRpY2xlIHdpdGggdGhlIHNwZWNpZmllZCBkYXRlIGFuZCB0aXRsZQogICAgY3Vycl9kYXRhID0gZGF0YV9uZXdzWyhkYXRhX25ld3NbJ0RhdGUnXSA9PSBkYXRlLmRhdGUpICYgKGRhdGFfbmV3c1snVGl0bGUnXSA9PSB0aXRsZSldCiAgICBpZiBsZW4oY3Vycl9kYXRhKSA9PSAwOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJObyBuZXdzIGFydGljbGUgZm91bmQgd2l0aCB0aGUgc3BlY2lmaWVkIGRhdGUge2RhdGUuZGF0ZX0gYW5kIHRpdGxlIHt0aXRsZX0iKQogICAgcmV0dXJuIGYie2RhdGV9Olxue3RpdGxlfVxue2N1cnJfZGF0YVsnVGV4dCddLnZhbHVlc1swXX0i)1@dataclass2class  Date:3  """Represents  a  date."""4  date:  str  #  Date  in  the  format  ’YYYY-MM-DD’5  #  Example:  Date("2022-01-01")67  def  __init__(self,  date:  str):8  #  check  type9  if  not  isinstance(date,  str):10  raise  ValueError(f"Attribute  ’date’  of  class  Date  must  be  a  string  in  the  format  ’YYYY-MM-DD’,  but  received:  {date}  in  type  {type(date)}")1112  #  check  if  date  is  in  the  correct  format  by  trying  to  convert  it  to  a  date  object13  try:14  datetime.datetime.strptime(date,  ’%Y-%m-%d’)15  except  ValueError:16  raise  ValueError(f"Date  must  be  in  the  format  ’YYYY-MM-DD’,  but  received:  {date}")17  if  date  <  DEFAULT_START_DATE:18  raise  ValueError(f"Date  must  be  on  or  after  {DEFAULT_START_DATE},  but  received:  {date}")19  if  DEFAULT_END_DATE  and  date  >  DEFAULT_END_DATE:20  raise  ValueError(f"Date  must  be  on  or  before  the  current  date  {DEFAULT_END_DATE},  but  received:  {date}")2122  self.date  =  date2324  def  __str__(self):25  return  f"Date(’{self.date}’)"2627  def  __hash__(self):28  return  hash(self.date)2930  def  __eq__(self,  other):31  if  isinstance(other,  Date):32  return  self.date  ==  other.date33  return  False3435@dataclass36class  DateRange:37  """Represents  a  range  of  dates  (inclusive)."""38  start_date:  Optional[Date]  #  If  None,  the  earliest  date  is  used39  end_date:  Optional[Date]  #  If  None,  the  current  date  is  used40  #  Example:  DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31"))4142  def  __init__(self,  start_date:  Optional[Date]  =  None,  end_date:  Optional[Date]  =  None):43  #  check  type44  if  start_date  and  not  isinstance(start_date,  Date):45  raise  ValueError(f"Attribute  ’start_date’  of  class  DateRange  must  be  a  Date  object,  but  received  type  {type(start_date)}")46  if  end_date  and  not  isinstance(end_date,  Date):47  raise  ValueError(f"Attribute  ’end_date’  of  class  DateRange  must  be  a  Date  object,  but  received  type  {type(end_date)}")4849  self.start_date  =  start_date  if  start_date  else  Date(DEFAULT_START_DATE)50  self.end_date  =  end_date  if  end_date  else  Date(DEFAULT_END_DATE)51  if  start_date  and  end_date  and  start_date.date  >  end_date.date:52  raise  ValueError("Start  date  must  be  before  or  equal  to  end  date,  but  received:  start_date={},  end_date={}".format(start_date.date,  end_date.date))5354  def  __str__(self):55  return  f"DateRange(start_date={self.start_date},  end_date={self.end_date})"5657  def  __hash__(self):58  return  hash((self.start_date,  self.end_date))5960  def  __eq__(self,  other):61  if  isinstance(other,  DateRange):62  return  self.start_date  ==  other.start_date  and  self.end_date  ==  other.end_date63  return  False6465@dataclass66class  ISOCode:67  """Represents  an  ISO  alpha-3  country  code."""68  code:  str  #  3-letter  ISO  code69  #  Example:  ISOCode("USA")7071  def  __init__(self,  code:  str):72  #  check  type73  if  not  isinstance(code,  str):74  raise  ValueError(f"Attribute  ’code’  of  class  ISOCode  must  be  a  string,  but  received  type  {type(code)}")7576  if  len(code)  !=  3:77  raise  ValueError(f"ISO  code  must  be  a  3-letter  string,  but  received:  {code}")78  if  code  not  in  dict_iso2alternames:79  raise  ValueError(f"ISO  code  must  be  a  valid  ISO  alpha-3  country  code,  but  received:  {code}")80  self.code  =  code8182  def  __str__(self):83  return  f"ISOCode(’{self.code}’)"8485  def  __hash__(self):86  return  hash(self.code)8788  def  __eq__(self,  other):89  if  isinstance(other,  ISOCode):90  return  self.code  ==  other.code91  return  False9293@dataclass94class  Country:95  """Represents  a  country  entity."""96  iso_code:  ISOCode97  name:  str98  #  Example:  Country(iso_code=ISOCode("USA"),  name="United  States")99100  def  __init__(self,  iso_code:  ISOCode,  name:  str):101  #  check  type102  if  not  isinstance(iso_code,  ISOCode):103  raise  ValueError(f"Attribute  ’iso_code’  of  class  Country  must  be  an  ISOCode  object,  but  received  type  {type(iso_code)}")104  if  not  isinstance(name,  str):105  raise  ValueError(f"Attribute  ’name’  of  class  Country  must  be  a  string,  but  received  type  {type(name)}")106107  if  dict_iso2alternames[iso_code.code][0]  !=  name:108  raise  ValueError(f"Country  name  must  match  the  name  corresponding  to  the  ISO  code,  but  received:  {name}  for  ISO  code:  {iso_code.code}")109  self.iso_code  =  iso_code110  self.name  =  name111112  def  __str__(self):113  return  f"Country(iso_code={self.iso_code},  name=’{self.name}’)"114115  def  __hash__(self):116  return  hash((self.iso_code,  self.name))117118  def  __eq__(self,  other):119  if  isinstance(other,  Country):120  return  self.iso_code  ==  other.iso_code  and  self.name  ==  other.name121  return  False122123@dataclass124class  CAMEOCode:125  """Represents  a  CAMEO  verb  code."""126  code:  str  #  2-digit  CAMEO  code  for  first  level  relations,  3-digit  CAMEO  code  for  second  level  relations127  #  Example:  CAMEOCode("01"),  CAMEOCode("010")128129  def  __init__(self,  code:  str):130  #  check  type131  if  not  isinstance(code,  str):132  raise  ValueError(f"Attribute  ’code’  of  class  CAMEOCode  must  be  a  string,  but  received  type  {type(code)}")133134  if  len(code)  not  in  [2,  3]:135  raise  ValueError(f"CAMEO  code  must  be  a  valid  2  or  3-digit  string  defined  in  the  ’Conflict  and  Mediation  Event  Observations’  Codebook,  but  received:  {code}")136  if  code  not  in  dict_code2relation:137  raise  ValueError(f"CAMEO  code  must  be  a  valid  CAMEO  code  defined  in  the  ’Conflict  and  Mediation  Event  Observations’  Codebook,  but  received:  {code}")138  self.code  =  code139140  def  __str__(self):141  return  f"CAMEOCode(’{self.code}’)"142143  def  __hash__(self):144  return  hash(self.code)145146  def  __eq__(self,  other):147  if  isinstance(other,  CAMEOCode):148  return  self.code  ==  other.code149  return  False150151@dataclass152class  Relation:153  """Represents  a  relation."""154  cameo_code:  CAMEOCode155  name:  str156  description:  str  #  A  brief  description  of  what  event  the  relation  represents157  #  Example:  Relation(cameo_code=CAMEOCode("010"),  name="Make  statement,  not  specified",  description="All  public  statements  expressed  verbally  or  in  action,  not  otherwise  specified."158159  def  __init__(self,  cameo_code:  CAMEOCode,  name:  str,  description:  str):160  #  check  type161  if  not  isinstance(cameo_code,  CAMEOCode):162  raise  ValueError(f"Attribute  ’cameo_code’  of  class  Relation  must  be  a  CAMEOCode  object,  but  received  type  {type(cameo_code)}")163  if  not  isinstance(name,  str):164  raise  ValueError(f"Attribute  ’name’  of  class  Relation  must  be  a  string,  but  received  type  {type(name)}")165  if  not  isinstance(description,  str):166  raise  ValueError(f"Attribute  ’description’  of  class  Relation  must  be  a  string,  but  received  type  {type(description)}")167168  if  dict_code2relation[cameo_code.code][’Name’]  !=  name:169  raise  ValueError(f"Relation  name  must  match  the  name  corresponding  to  the  CAMEO  code,  but  received:  {name}  for  CAMEO  code  {cameo_code.code}")170  if  dict_code2relation[cameo_code.code][’Description’]  !=  description:171  raise  ValueError(f"Relation  description  must  match  the  description  corresponding  to  the  CAMEO  code,  but  received:  {description}  for  CAMEO  code  {cameo_code.code}")172  self.cameo_code  =  cameo_code173  self.name  =  name174  self.description  =  description175176  def  __str__(self):177  return  f"Relation(cameo_code={self.cameo_code},  name=’{self.name}’,  description=’{self.description}’)"178179  def  __hash__(self):180  return  hash((self.cameo_code,  self.name,  self.description))181182  def  __eq__(self,  other):183  if  isinstance(other,  Relation):184  return  self.cameo_code  ==  other.cameo_code  and  self.name  ==  other.name  and  self.description  ==  other.description185  return  False186187@dataclass188class  Event:189  """Represents  an  event  characterized  by  date,  head  entity,  relation,  and  tail  entity."""190  date:  Date191  head_entity:  ISOCode192  relation:  CAMEOCode193  tail_entity:  ISOCode194  #  Example:  Event(date=Date("2022-01-01"),  head_entity=ISOCode("USA"),  relation=CAMEOCode("010"),  tail_entity=ISOCode("CAN"))195196  def  __init__(self,  date:  Date,  head_entity:  ISOCode,  relation:  CAMEOCode,  tail_entity:  ISOCode):197  #  check  type198  if  not  isinstance(date,  Date):199  raise  ValueError(f"Attribute  ’date’  of  class  Event  must  be  a  Date  object,  but  received  type  {type(date)}")200  if  not  isinstance(head_entity,  ISOCode):201  raise  ValueError(f"Attribute  ’head_entity’  of  class  Event  must  be  an  ISOCode  object,  but  received  type  {type(head_entity)}")202  if  not  isinstance(relation,  CAMEOCode):203  raise  ValueError(f"Attribute  ’relation’  of  class  Event  must  be  a  CAMEOCode  object,  but  received  type  {type(relation)}")204  if  not  isinstance(tail_entity,  ISOCode):205  raise  ValueError(f"Attribute  ’tail_entity’  of  class  Event  must  be  an  ISOCode  object,  but  received  type  {type(tail_entity)}")206207  self.date  =  date208  self.head_entity  =  head_entity209  self.relation  =  relation210  self.tail_entity  =  tail_entity211212  def  __str__(self):213  return  f"Event(date={self.date},  head_entity={self.head_entity},  relation={self.relation},  tail_entity={self.tail_entity})"214215  def  __hash__(self):216  return  hash((self.date,  self.head_entity,  self.relation,  self.tail_entity))217218  def  __eq__(self,  other):219  if  isinstance(other,  Event):220  return  self.date  ==  other.date  and  self.head_entity  ==  other.head_entity  and  self.relation  ==  other.relation  and  self.tail_entity  ==  other.tail_entity221  return  False222223@dataclass224class  NewsArticle:225  """Represents  a  news  article,  including  metadata  and  content."""226  date:  Date227  title:  str228  content:  str  #  Full  text  content  of  the  news  article229  events:  List[Event]  #  List  of  events  mentioned  in  the  article230  #  Example:  NewsArticle(date=Date("2022-01-01"),  title="Trade  agreement  between  USA  and  China",  content="On  January  1,  2022,  a  trade  agreement  was  signed  between  the  USA  and  China...",  events=[Event(date=Date("2022-01-01"),  head_entity=ISOCode("USA"),  relation=CAMEOCode("010"),  tail_entity=ISOCode("CHN")])231232  def  __init__(self,  date:  Date,  title:  str,  content:  str,  events:  List[Event]):233  #  check  type234  if  not  isinstance(date,  Date):235  raise  ValueError(f"Attribute  ’date’  of  class  NewsArticle  must  be  a  Date  object,  but  received  type  {type(date)}")236  if  not  isinstance(title,  str):237  raise  ValueError(f"Attribute  ’title’  of  class  NewsArticle  must  be  a  string,  but  received  type  {type(title)}")238  if  not  isinstance(content,  str):239  raise  ValueError(f"Attribute  ’content’  of  class  NewsArticle  must  be  a  string,  but  received  type  {type(content)}")240  if  not  isinstance(events,  list):241  raise  ValueError(f"Attribute  ’events’  of  class  NewsArticle  must  be  a  list,  but  received  type  {type(events)}")242243  self.date  =  date244  self.title  =  title245  self.content  =  content246  self.events  =  events247248  def  __str__(self):249  return  f"{self.date}:\n{self.title}\n{self.content}"250251  def  __hash__(self):252  return  hash((self.date,  self.title,  self.content))253254  def  __eq__(self,  other):255  if  isinstance(other,  NewsArticle):256  return  self.date  ==  other.date  and  self.title  ==  other.title  and  self.content  ==  other.content257  return  False258259def  map_country_name_to_iso(name:  str)  ->  List[Country]:260  """261  Maps  a  country  name  to  the  most  likely  corresponding  Country  objects  with  ISO  codes.262263  Parameters:264  name  (str):  The  country  name  to  map.265266  Returns:267  List[Country]:  A  list  of  5  most  likely  Country  objects  sorted  by  relevance.268269  Example:270  >>>  map_country_name_to_iso("Korea")271  [Country(iso_code=ISOCode("KOR"),  name="Republic  of  Korea"),  Country(iso_code=ISOCode("PRK"),  name="Democratic  People’s  Republic  of  Korea")]272  """273  #  check  type274  if  not  isinstance(name,  str):275  raise  ValueError(f"Input  ’name’  must  be  a  string,  but  received  type  {type(name)}")276277  if  name  in  dict_countryname2iso:278  return  [Country(iso_code=ISOCode(dict_countryname2iso[name]),  name=name)]279  else:280  #  get  top  5  ISO  codes  with  the  highest  cosine  similarity281  name_embeddings  =  get_embedding(name)282  similarities  =  cosine_similarity(country_embeddings,  name_embeddings)283  top_indices  =  np.argsort(similarities)[::-1][:5]284  countries  =  []285  for  idx  in  top_indices:286  iso_code  =  list(dict_iso2alternames.keys())[idx]287  curr_name  =  dict_iso2alternames[iso_code][0]288  countries.append(Country(iso_code=ISOCode(iso_code),  name=curr_name))289  return  countries290291def  map_iso_to_country_name(iso_code:  ISOCode)  ->  str:292  """293  Maps  an  ISO  code  to  a  country  name.294295  Parameters:296  iso_code  (ISOCode):  The  ISO  code  to  map.297298  Returns:299  str:  The  corresponding  country  name.300301  Example:302  >>>  map_iso_to_country_name(ISOCode("CHN"))303  "China"304  """305  #  check  type306  if  not  isinstance(iso_code,  ISOCode):307  raise  ValueError(f"Input  ’iso_code’  must  be  an  ISOCode  object,  but  received  type  {type(iso_code)}")308309  return  dict_iso2alternames[iso_code.code][0]310311def  map_relation_description_to_cameo(description:  str)  ->  List[Relation]:312  """313  Maps  a  relation  description  to  the  most  likely  Relation  objects.314315  Parameters:316  description  (str):  The  relation  description  to  map.317318  Returns:319  List[Relation]:  A  list  of  5  most  likely  Relations  sorted  by  relevance.320321  Example:322  >>>  map_relation_description_to_cameo("Fight  with  guns")323  [Reltion(cameo_code=CAMEOCode("19"),  name="Fight",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups."),  Relation(cameo_code=CAMEOCode("193"),  name="Fight  with  small  arms  and  light  weapons",  description="Attack  using  small  arms  and  light  weapons  such  as  rifles,  machine-guns,  and  mortar  shells."),  Relation(cameo_code=CAMEOCode("190"),  name="Use  conventional  military  force,  not  specified",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups,  not  otherwise  specified.")]324  """325  #  check  type326  if  not  isinstance(description,  str):327  raise  ValueError(f"Input  ’description’  must  be  a  string,  but  received  type  {type(description)}")328329  if  description  in  dict_relation2code:330  code  =  dict_relation2code[description]331  return  [Relation(cameo_code=CAMEOCode(code),  name=dict_code2relation[code][’Name’],  description=dict_code2relation[code][’Description’])]332  else:333  #  get  top  5  CAMEO  codes  with  the  highest  cosine  similarity334  description_embedding  =  get_embedding(description)335  similarities  =  cosine_similarity(relation_embeddings,  description_embedding)336  top_indices  =  np.argsort(similarities)[::-1][:5]337  relations  =  []338  for  idx  in  top_indices:339  code  =  list(dict_code2relation.keys())[idx]340  relations.append(Relation(cameo_code=CAMEOCode(code),  name=dict_code2relation[code][’Name’],  description=dict_code2relation[code][’Description’]))341  return  relations342343def  map_cameo_to_relation(cameo_code:  CAMEOCode)  ->  Relation:344  """345  Maps  a  CAMEO  code  to  a  relation,  including  its  name  and  description.346347  Parameters:348  cameo_code  (CAMEOCode):  The  CAMEO  code  to  map.349350  Returns:351  Relation:  The  corresponding  relation.352353  Example:354  >>>  map_cameo_to_relation(CAMEOCode("190"))355  Relation(cameo_code=CAMEOCode("190"),  name="Use  conventional  military  force,  not  specified",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups,  not  otherwise  specified.")356  """357  #  check  type358  if  not  isinstance(cameo_code,  CAMEOCode):359  raise  ValueError(f"Input  ’cameo_code’  must  be  a  CAMEOCode  object,  but  received  type  {type(cameo_code)}")360361  info  =  dict_code2relation[cameo_code.code]362  return  Relation(cameo_code=cameo_code,  name=info[’Name’],  description=info[’Description’])363364def  get_parent_relation(cameo_code:  CAMEOCode)  ->  Relation:365  """366  Retrieves  the  parent  relation  of  a  given  relation  identified  by  CAMEO  code.367368  Parameters:369  cameo_code  (CAMEOCode):  The  CAMEO  code  of  the  relation  whose  parent  is  sought.  Only  second  level  relations  are  accepted.370371  Returns:372  Relation:  The  first  level  parent  relation.373374  Example:375  >>>  get_parent_relation(CAMEOCode("193"))376  Relation(cameo_code=CAMEOCode("19"),  name="Fight",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups.")377  """378  #  check  type379  if  not  isinstance(cameo_code,  CAMEOCode):380  raise  ValueError(f"Input  ’cameo_code’  must  be  a  CAMEOCode  object,  but  received  type  {type(cameo_code)}")381382  if  len(cameo_code.code)  !=  3:383  raise  ValueError("Only  second  level  relations  are  accepted,  but  received:  {}".format(cameo_code.code))384  parent_code  =cameo_code.code[:2]385  return  map_cameo_to_relation(CAMEOCode(parent_code))386387def  get_child_relations(cameo_code:  CAMEOCode)  ->  List[Relation]:388  """389  Retrieves  child  relations  of  a  given  relation  identified  by  CAMEO  code.390391  Parameters:392  cameo_code  (CAMEOCode):  The  CAMEO  code  of  the  relation  whose  children  are  sought.  Only  first  level  relations  are  accepted.393394  Returns:395  List[Relation]:  A  list  of  second  level  child  relations.396397  Example:398  >>>  get_child_relations(CAMEOCode("19"))399  [Relation(caemo_code=CAMEOCode("190"),  name="Use  conventional  military  force,  not  specified",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups,  not  otherwise  specified."),  Relation(cameo_code=CAMEOCode("191"),  name="Impose  blockade  or  restrict  movement",  description="Prevent  entry  into  and/or  exit  from  a  territory  using  armed  forces."),  ...]400  """401  #  check  type402  if  not  isinstance(cameo_code,  CAMEOCode):403  raise  ValueError(f"Input  ’cameo_code’  must  be  a  CAMEOCode  object,  but  received  type  {type(cameo_code)}")404405  if  len(cameo_code.code)  !=  2:406  raise  ValueError("Only  first  level  relations  are  accepted,  but  received:  {}".format(cameo_code.code))407  children  =  []408  for  code,  info  in  dict_code2relation.items():409  if  code[:2]  ==  cameo_code.code  and  len(code)  ==  3:410  children.append(Relation(cameo_code=CAMEOCode(code),  name=info[’Name’],  description=info[’Description’]))411  return  children412413def  get_sibling_relations(cameo_code:  CAMEOCode)  ->  List[Relation]:414  """415  Retrieves  sibling  relations  of  a  given  relation  identified  by  CAMEO  code.416417  Parameters:418  cameo_code  (CAMEOCode):  The  CAMEO  code  of  the  relation  whose  siblings  are  sought.  Both  first  and  second  level  relations  are  accepted.419420  Returns:421  List[Relation]:  A  list  of  sibling  relations  at  the  same  level.422423  Example:424  >>>  get_sibling_relations(CAMEOCode("193"))425  [Relation(caemo_code=CAMEOCode("190"),  name="Use  conventional  military  force,  not  specified",  description="All  uses  of  conventional  force  and  acts  of  war  typically  by  organized  armed  groups,  not  otherwise  specified."),  Relation(cameo_code=CAMEOCode("191"),  name="Impose  blockade  or  restrict  movement",  description="Prevent  entry  into  and/or  exit  from  a  territory  using  armed  forces."),  ...]426  """427  #  check  type428  if  not  isinstance(cameo_code,  CAMEOCode):429  raise  ValueError(f"Input  ’cameo_code’  must  be  a  CAMEOCode  object,  but  received  type  {type(cameo_code)}")430431  if  len(cameo_code.code)  ==  3:432  return  get_child_relations(get_parent_relation(cameo_code).cameo_code)433  elif  len(cameo_code.code)  ==  2:434  #  get  ’01’  to  ’20’  relations435  first_level_codes  =  [str(i).zfill(2)  for  i  in  range(1,  21)]436  relations  =  []437  for  code  in  first_level_codes:438  relations.append(map_cameo_to_relation(CAMEOCode(code)))439  return  relations440441def  count_events(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None,  relations:  Optional[List[CAMEOCode]]  =  None)  ->  int:442  """443  Counts  the  number  of  events  in  the  knowledge  graph  based  on  specified  conditions.444445  Parameters:446  date_range  (Optional[DateRange]):  Range  of  dates  to  filter  the  events.  If  None,  all  dates  are  included.447  head_entities  (Optional[List[ISOCode]]):  List  of  head  entity  ISO  codes  to  be  included.  If  None,  all  countries  are  included.448  tail_entities  (Optional[List[ISOCode]]):  List  of  tail  entity  ISO  codes  to  be  included.  If  None,  all  countries  are  included.449  relations  (Optional[List[CAMEOCode]]):  List  of  relation  CAMEO  codes  to  be  included.  If  first  level  relations  are  listed,  all  second  level  relations  under  them  are  included.  If  None,  all  relations  are  included.450451  Returns:452  int:  Count  of  unique  events  matching  the  conditions.453454  Example:455  >>>  count_events(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=None,  relations=[CAMEOCode("010")])456  4457  """458  #  check  type459  if  date_range  and  not  isinstance(date_range,  DateRange):460  raise  ValueError(f"Input  ’date_range’  must  be  a  DateRange  object,  but  received  type  {type(date_range)}")461  if  head_entities  and  not  isinstance(head_entities,  list):462  raise  ValueError(f"Input  ’head_entities’  must  be  a  list,  but  received  type  {type(head_entities)}")463  if  head_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  head_entities):464  raise  ValueError(f"Elements  in  ’head_entities’  must  be  ISOCode  objects")465  if  tail_entities  and  not  isinstance(tail_entities,  list):466  raise  ValueError(f"Input  ’tail_entities’  must  be  a  list,  but  received  type  {type(tail_entities)}")467  if  tail_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  tail_entities):468  raise  ValueError(f"Elements  in  ’tail_entities’  must  be  ISOCode  objects")469  if  relations  and  not  isinstance(relations,  list):470  raise  ValueError(f"Input  ’relations’  must  be  a  list,  but  received  type  {type(relations)}")471  if  relations  and  not  all(isinstance(code,  CAMEOCode)  for  code  in  relations):472  raise  ValueError(f"Elements  in  ’relations’  must  be  CAMEOCode  objects")473474  #  process  data_kg  by  filtering  based  on  the  specified  conditions475  curr_data  =  data_kg.copy()476  curr_data.drop_duplicates(subset=[’QuadEventCode’],  inplace=True)477  curr_data  =  curr_data[curr_data[’DateStr’]  <=  DEFAULT_END_DATE]478  if  date_range:479  curr_data  =  curr_data[(curr_data[’DateStr’]  >=  date_range.start_date.date)  &  (curr_data[’DateStr’]  <=  date_range.end_date.date)]480  if  head_entities:481  curr_data  =  curr_data[curr_data[’Actor1CountryCode’].isin([iso.code  for  iso  in  head_entities])]482  if  tail_entities:483  curr_data  =  curr_data[curr_data[’Actor2CountryCode’].isin([iso.code  for  iso  in  tail_entities])]484  if  relations:485  #  if  first  level  relations  are  listed,  include  all  second  level  relations  under  them486  for  code  in  relations:487  if  len(code.code)  ==  2:488  relations.extend([CAMEOCode(c)  for  c  in  dict_code2relation  if  c[:2]  ==  code.code  and  len(c)  ==  3])489  curr_data  =  curr_data[curr_data[’EventBaseCode’].isin([code.code  for  code  in  relations])]490  return  len(curr_data)491492def  get_events(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None,  relations:  Optional[List[CAMEOCode]]  =  None,  text_description:  Optional[str]  =  None)  ->  List[Event]:493  """494  Retrieves  events  from  the  knowledge  graph  based  on  specified  conditions.495  Inherits  common  filter  parameters  from  count_events.  See  count_events  for  more  details  on  these  parameters.496497  Additional  Parameters:498  text_description  (Optional[str]):  Textual  description  to  match  with  the  source  news  articles  of  events.  If  None,  the  returned  events  are  sorted  by  date  in  descending  order;  otherwise,  sorted  by  relevance  of  the  source  news  article  to  the  description.499500  Returns:501  List[Event]:  A  list  of  maximum  30  events  matching  the  specified  conditions.502503  Example:504  >>>  get_events(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=None,  relations=[CAMEOCode("010")],  text_description="economic  trade")505  [Event(date=Date("2022-01-15"),  head_entity=ISOCode("USA"),  relation=CAMEOCode("010"),  tail_entity=ISOCode("CAN"),  Event(date=Date("2022-01-10"),  head_entity=ISOCode("CHN"),  relation=CAMEOCode("010"),  tail_entity=ISOCode("USA"),  ...]506  """507  #  check  type508  if  date_range  and  not  isinstance(date_range,  DateRange):509  raise  ValueError(f"Input  ’date_range’  must  be  a  DateRange  object,  but  received  type  {type(date_range)}")510  if  head_entities  and  not  isinstance(head_entities,  list):511  raise  ValueError(f"Input  ’head_entities’  must  be  a  list,  but  received  type  {type(head_entities)}")512  if  head_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  head_entities):513  raise  ValueError(f"Elements  in  ’head_entities’  must  be  ISOCode  objects")514  if  tail_entities  and  not  isinstance(tail_entities,  list):515  raise  ValueError(f"Input  ’tail_entities’  must  be  a  list,  but  received  type  {type(tail_entities)}")516  if  tail_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  tail_entities):517  raise  ValueError(f"Elements  in  ’tail_entities’  must  be  ISOCode  objects")518  if  relations  and  not  isinstance(relations,  list):519  raise  ValueError(f"Input  ’relations’  must  be  a  list,  but  received  type  {type(relations)}")520  if  relations  and  not  all(isinstance(code,  CAMEOCode)  for  code  in  relations):521  raise  ValueError(f"Elements  in  ’relations’  must  be  CAMEOCode  objects")522  if  text_description  and  not  isinstance(text_description,  str):523  raise  ValueError(f"Input  ’text_description’  must  be  a  string,  but  received  type  {type(text_description)}")524525  #  process  data_kg  by  filtering  based  on  the  specified  conditions526  curr_data  =  data_kg.copy()527  curr_data  =  curr_data[curr_data[’DateStr’]  <=  DEFAULT_END_DATE]528  if  date_range:529  curr_data  =  curr_data[(curr_data[’DateStr’]  >=  date_range.start_date.date)  &  (curr_data[’DateStr’]  <=  date_range.end_date.date)]530  if  head_entities:531  curr_data  =  curr_data[curr_data[’Actor1CountryCode’].isin([iso.code  for  iso  in  head_entities])]532  if  tail_entities:533  curr_data  =  curr_data[curr_data[’Actor2CountryCode’].isin([iso.code  for  iso  in  tail_entities])]534  if  relations:535  #  if  first  level  relations  are  listed,  include  all  second  level  relations  under  them536  for  code  in  relations:537  if  len(code.code)  ==  2:538  relations.extend([CAMEOCode(c)  for  c  in  dict_code2relation  if  c[:2]  ==  code.code  and  len(c)  ==  3])539  curr_data  =  curr_data[curr_data[’EventBaseCode’].isin([code.code  for  code  in  relations])]540  if  not  text_description:541  #  get  max  30  events  from  the  filtered  data542  events  =  []543  curr_data.drop_duplicates(subset=[’QuadEventCode’],  inplace=True)544  #  sorted  by  date  in  descending  order545  curr_data.sort_values(by=’DateStr’,  ascending=False,  inplace=True)546  count  =  0547  for  _,  row  in  curr_data.iterrows():548  if  count  >=  30:549  break550  events.append(Event(date=Date(row[’DateStr’]),  head_entity=ISOCode(row[’Actor1CountryCode’]),  relation=CAMEOCode(row[’EventBaseCode’]),  tail_entity=ISOCode(row[’Actor2CountryCode’])))551  return  events[:30]552  else:553  #  concat  the  Docids  list  of  current  data  to  get  the  news  articles554  docids_list  =  [eval(docids)  for  docids  in  curr_data[’Docids’].unique().tolist()]555  docids  =  list(set([item  for  sublist  in  docids_list  for  item  in  sublist]))556  docids  =  [str(docid)  for  docid  in  docids]557  news_articles  =  data_news[data_news[’Docid’].isin(docids)]558  #  get  the  max  30  docids  with  the  highest  BM25  score  to  the  text_description559  corpus  =  news_articles[’Title’]  +  ’  ’  +  news_articles[’Text’]560  tokenized_corpus  =  [doc.split("  ")  for  doc  in  corpus]561  bm25  =  BM25Okapi(tokenized_corpus)562  tokenized_query  =  text_description.split("  ")563  doc_scores  =  bm25.get_scores(tokenized_query)564  top_indices  =  np.argsort(doc_scores)[::-1][:30]565  news_articles  =  news_articles.iloc[top_indices]566  docids  =  news_articles[’Docid’].tolist()567  #  get  max  30  events  from  the  filtered  data568  events  =  set()569  for  docid  in  docids:570  if  len(events)  >=  30:571  break572  doc_curr_data  =  curr_data[curr_data[’Docid’]  ==  docid]573  #  reverse  the  order  of  the  events  to  get  the  latest  events  first574  doc_curr_data  =  doc_curr_data.sort_values(by=’DateStr’,  ascending=False)575  for  _,  row  in  doc_curr_data.iterrows():576  events.add(Event(date=Date(row[’DateStr’]),  head_entity=ISOCode(row[’Actor1CountryCode’]),  relation=CAMEOCode(row[’EventBaseCode’]),  tail_entity=ISOCode(row[’Actor2CountryCode’])))577  return  list(events)578579def  get_entity_distribution(date_range:  Optional[DateRange]  =  None,  involved_relations:  Optional[List[CAMEOCode]]  =  None,  interacted_entities:  Optional[List[ISOCode]]  =  None,  entity_role:  Optional[str]  =  None)  ->  Dict[ISOCode,  int]:580  """581  Gets  the  distribution  of  entities  in  the  knowledge  graph  under  specified  conditions.582583  Parameters:584  date_range  (Optional[DateRange]):  Range  of  dates  to  filter  the  events.  If  None,  all  dates  are  included.585  involved_relations  (Optional[List[CAMEOCode]]):  List  of  relations  that  the  returned  entities  must  be  involved  in  any  of.  If  first  level  relations  are  listed,  all  second  level  relations  under  them  are  included.  If  None,  all  relations  are  included.586  interacted_entities  (Optional[List[ISOCode]]):  List  of  entities  that  the  returned  entities  must  have  interacted  with  any  of.  If  None,  all  entities  are  included.587  entity_role  (Optional[EntityRole]):  Specifies  the  role  of  the  returned  entity  in  the  events.  Options  are  ’head’,  ’tail’,  or  ’both’.  If  ’both’  or  None,  the  returned  entity  can  be  either  head  or  tail.588589  Returns:590  Dict[ISOCode,  int]:  A  dictionary  mapping  returned  entities’  ISO  codes  to  the  number  of  events  with  the  specified  conditions  in  which  they  are  involved,  sorted  by  counts  in  descending  order.591592  Example:593  >>>  get_entity_distribution(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  involved_relations=[CAMEOCode("010")],  interacted_entities=[ISOCode("USA"),  ISOCode("CHN")],  entity_role="tail")594  {ISOCode("USA"):  3,  ISOCode("CHN"):  1}595  """596  #  check  type597  if  date_range  and  not  isinstance(date_range,  DateRange):598  raise  ValueError(f"Input  ’date_range’  must  be  a  DateRange  object,  but  received  type  {type(date_range)}")599  if  involved_relations  and  not  isinstance(involved_relations,  list):600  raise  ValueError(f"Input  ’involved_relations’  must  be  a  list,  but  received  type  {type(involved_relations)}")601  if  involved_relations  and  not  all(isinstance(code,  CAMEOCode)  for  code  in  involved_relations):602  raise  ValueError(f"Elements  in  ’involved_relations’  must  be  CAMEOCode  objects")603  if  interacted_entities  and  not  isinstance(interacted_entities,  list):604  raise  ValueError(f"Input  ’interacted_entities’  must  be  a  list,  but  received  type  {type(interacted_entities)}")605  if  interacted_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  interacted_entities):606  raise  ValueError(f"Elements  in  ’interacted_entities’  must  be  ISOCode  objects")607  if  entity_role  and  entity_role  not  in  [’head’,  ’tail’,  ’both’]:608  raise  ValueError(f"Input  ’entity_role’  must  be  a  string  ’head’,  ’tail’,  or  ’both’,  but  received:  {entity_role}")609610  #  process  data_kg  by  filtering  based  on  the  specified  conditions611  curr_data  =  data_kg.copy()612  curr_data.drop_duplicates(subset=[’QuadEventCode’],  inplace=True)613  curr_data  =  curr_data[curr_data[’DateStr’]  <=  DEFAULT_END_DATE]614  if  date_range:615  curr_data  =  curr_data[(curr_data[’DateStr’]  >=  date_range.start_date.date)  &  (curr_data[’DateStr’]  <=  date_range.end_date.date)]616  if  involved_relations:617  #  if  first  level  relations  are  listed,  include  all  second  level  relations  under  them618  for  code  in  involved_relations:619  if  len(code.code)  ==  2:620  involved_relations.extend([CAMEOCode(c)  for  c  in  dict_code2relation  if  c[:2]  ==  code.code  and  len(c)  ==  3])621  curr_data  =  curr_data[curr_data[’EventBaseCode’].isin([code.code  for  code  in  involved_relations])]622  if  interacted_entities:623  if  entity_role==’head’:624  curr_data  =  curr_data[curr_data[’Actor2CountryCode’].isin([iso.code  for  iso  in  interacted_entities])]625  elif  entity_role==’tail’:626  curr_data  =  curr_data[curr_data[’Actor1CountryCode’].isin([iso.code  for  iso  in  interacted_entities])]627  else:628  curr_data  =  curr_data[(curr_data[’Actor1CountryCode’].isin([iso.code  for  iso  in  interacted_entities]))  |  (curr_data[’Actor2CountryCode’].isin([iso.code  for  iso  in  interacted_entities]))]629  #  count  the  number  of  events  for  each  entity630  entity_counts  =  curr_data[’Actor1CountryCode’]._append(curr_data[’Actor2CountryCode’]).value_counts()631  entity_counts  =  entity_counts.to_dict()632  #  sort  the  dictionary  by  values  in  descending  order633  entity_counts  =  dict(sorted(entity_counts.items(),  key=lambda  item:  item[1],  reverse=True))634  entity_counts  =  {ISOCode(key):  value  for  key,  value  in  entity_counts.items()}635  return  entity_counts636637def  get_relation_distribution(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None)  ->  Dict[CAMEOCode,  int]:638  """639  Gets  the  distribution  of  second  level  relations  in  the  knowledge  graph  under  specified  conditions.640641  Parameters:642  date_range  (Optional[DateRange]):  Range  of  dates  to  filter  the  events.  If  None,  all  dates  are  included.643  head_entities  (Optional[List[ISOCode]]):  List  of  head  entities  that  the  events  must  involve  any  of.  If  None,  all  head  entities  are  included.644  tail_entities  (Optional[List[ISOCode]]):  List  of  tail  entities  that  the  events  must  involve  any  of.  If  None,  all  tail  entities  are  included.645646  Returns:647  Dict[CAMEOCode,  int]:  A  dictionary  mapping  second  level  relations’  CAMEO  codes  to  the  number  of  events  with  the  specified  conditions  in  which  they  are  involved,  sorted  by  counts  in  descending  order.648649  Example:650  >>>  get_relation_distribution(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=None)651  {CAMEOCode("010"):  3,  CAMEOCode("011"):  1}652  """653  #  check  type654  if  date_range  and  not  isinstance(date_range,  DateRange):655  raise  ValueError(f"Input  ’date_range’  must  be  a  DateRange  object,  but  received  type  {type(date_range)}")656  if  head_entities  and  not  isinstance(head_entities,  list):657  raise  ValueError(f"Input  ’head_entities’  must  be  a  list,  but  received  type  {type(head_entities)}")658  if  head_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  head_entities):659  raise  ValueError(f"Elements  in  ’head_entities’  must  be  ISOCode  objects")660  if  tail_entities  and  not  isinstance(tail_entities,  list):661  raise  ValueError(f"Input  ’tail_entities’  must  be  a  list,  but  received  type  {type(tail_entities)}")662  if  tail_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  tail_entities):663  raise  ValueError(f"Elements  in  ’tail_entities’  must  be  ISOCode  objects")664665  #  process  data_kg  by  filtering  based  on  the  specified  conditions666  curr_data  =  data_kg.copy()667  curr_data.drop_duplicates(subset=[’QuadEventCode’],  inplace=True)668  curr_data  =  curr_data[curr_data[’DateStr’]  <=  DEFAULT_END_DATE]669  if  date_range:670  curr_data  =  curr_data[(curr_data[’DateStr’]  >=  date_range.start_date.date)  &  (curr_data[’DateStr’]  <=  date_range.end_date.date)]671  if  head_entities:672  curr_data  =  curr_data[curr_data[’Actor1CountryCode’].isin([iso.code  for  iso  in  head_entities])]673  if  tail_entities:674  curr_data  =  curr_data[curr_data[’Actor2CountryCode’].isin([iso.code  for  iso  in  tail_entities])]675  #  count  the  number  of  events  for  each  relation676  relation_counts  =  curr_data[’EventBaseCode’].value_counts()677  relation_counts  =  relation_counts.to_dict()678  #  sort  the  dictionary  by  values  in  descending  order679  relation_counts  =  dict(sorted(relation_counts.items(),  key=lambda  item:  item[1],  reverse=True))680  relation_counts  =  {CAMEOCode(key):  value  for  key,  value  in  relation_counts.items()}681  return  relation_counts682683def  count_news_articles(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None,  relations:  Optional[List[CAMEOCode]]  =  None,  keywords:  Optional[List[str]]  =  None)  ->  int:684  """685  Counts  the  number  of  news  articles  based  on  specified  conditions.686687  Parameters:688  date_range  (Optional[DateRange]):  Range  of  dates  to  filter  the  news  articles.  If  None,  all  dates  are  included.689  head_entities  (Optional[List[ISOCode]]):  At  least  one  of  the  entities  must  be  mentioned  in  the  articles  and  be  the  head  entity  in  the  events.  If  None,  all  entities  are  included.690  tail_entities  (Optional[List[ISOCode]]):  At  least  one  of  the  entities  must  be  mentioned  in  the  articles  and  be  the  tail  entity  in  the  events.  If  None,  all  entities  are  included.691  relations  (Optional[List[CAMEOCode]]):  At  least  one  of  the  relations  must  be  mentioned  in  the  articles.  If  first  level  relations  are  listed,  all  second  level  relations  under  them  are  included.  If  None,  all  relations  are  included.692  keywords  (Optional[List[str]]):  At  least  one  of  the  keywords  must  be  present  in  the  articles.  If  None,  all  articles  are  included.693694  Returns:695  int:  The  count  of  news  articles  matching  the  conditions.696697  Example:698  >>>  count_news_articles(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=[ISOCode("USA"),  ISOCode("CHN")],  relations=[CAMEOCode("010")],  keywords=["trade"])699  2700  """701  #  check  type702  if  date_range  and  not  isinstance(date_range,  DateRange):703  raise  ValueError(f"Input  ’date_range’  must  be  a  DateRange  object,  but  received  type  {type(date_range)}")704  if  head_entities  and  not  isinstance(head_entities,  list):705  raise  ValueError(f"Input  ’head_entities’  must  be  a  list,  but  received  type  {type(head_entities)}")706  if  head_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  head_entities):707  raise  ValueError(f"Elements  in  ’head_entities’  must  be  ISOCode  objects")708  if  tail_entities  and  not  isinstance(tail_entities,  list):709  raise  ValueError(f"Input  ’tail_entities’  must  be  a  list,  but  received  type  {type(tail_entities)}")710  if  tail_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  tail_entities):711  raise  ValueError(f"Elements  in  ’tail_entities’  must  be  ISOCode  objects")712  if  relations  and  not  isinstance(relations,  list):713  raise  ValueError(f"Input  ’relations’  must  be  a  list,  but  received  type  {type(relations)}")714  if  relations  and  not  all(isinstance(code,  CAMEOCode)  for  code  in  relations):715  raise  ValueError(f"Elements  in  ’relations’  must  be  CAMEOCode  objects")716  if  keywords  and  not  isinstance(keywords,  list):717  raise  ValueError(f"Input  ’keywords’  must  be  a  list,  but  received  type  {type(keywords)}")718  if  keywords  and  not  all(isinstance(keyword,  str)  for  keyword  in  keywords):719  raise  ValueError(f"Elements  in  ’keywords’  must  be  strings")720721  #  process  data_kg  by  filtering  based  on  the  specified  conditions722  curr_data  =  data_kg.copy()723  curr_data.drop_duplicates(subset=[’QuadEventCode’],  inplace=True)724  curr_data  =  curr_data[curr_data[’DateStr’]  <=  DEFAULT_END_DATE]725  if  date_range:726  curr_data  =  curr_data[(curr_data[’DateStr’]  >=  date_range.start_date.date)  &  (curr_data[’DateStr’]  <=  date_range.end_date.date)]727  if  head_entities:728  curr_data  =  curr_data[curr_data[’Actor1CountryCode’].isin([iso.code  for  iso  in  head_entities])]729  if  tail_entities:730  curr_data  =  curr_data[curr_data[’Actor2CountryCode’].isin([iso.code  for  iso  in  tail_entities])]731  if  relations:732  #  if  first  level  relations  are  listed,  include  all  second  level  relations  under  them733  for  code  in  relations:734  if  len(code.code)  ==  2:735  relations.extend([CAMEOCode(c)  for  c  in  dict_code2relation  if  c[:2]  ==  code.code  and  len(c)  ==  3])736  curr_data  =  curr_data[curr_data[’EventBaseCode’].isin([code.code  for  code  in  relations])]737  #  concat  the  Docids  list  of  current  data  to  get  the  news  articles738  docids_list  =  [eval(docids)  for  docids  in  curr_data[’Docids’].unique().tolist()]739  docids  =  list(set([item  for  sublist  in  docids_list  for  item  in  sublist]))740  docids  =  [str(docid)  for  docid  in  docids]741  news_articles  =  data_news[data_news[’Docid’].isin(docids)]742  if  keywords:743  #  filter  the  news  articles  that  contain  at  least  one  of  the  keywords  in  the  title  or  text  string744  news_articles  =  news_articles[news_articles[’Title’].str.contains(’|’.join(keywords),  case=False)  |  news_articles[’Text’].str.contains(’|’.join(keywords),  case=False)]745  return  len(news_articles)746747def  get_news_articles(date_range:  Optional[DateRange]  =  None,  head_entities:  Optional[List[ISOCode]]  =  None,  tail_entities:  Optional[List[ISOCode]]  =  None,  relations:  Optional[List[CAMEOCode]]  =  None,  keywords:  Optional[List[str]]  =  None,  text_description:  Optional[str]  =  None)  ->  List[Tuple[Date,  str]]:748  """749  Retrieves  news  articles  based  on  specified  conditions.750  Inherits  common  filter  parameters  from  count_news_articles.  See  count_news_articles  for  more  details  on  these  parameters.751752  Additional  Parameters:753  text_description  (Optional[str]):  Textual  description  to  match  with  the  news  articles.  If  None,  the  returned  articles  are  sorted  by  date  in  descending  order;  otherwise,  sorted  by  relevance  to  the  description.754755  Returns:756  List[Tuple[Date,  str]]:  A  list  of  maximum  15  news  articles  matching  the  specified  conditions,  each  represented  by  a  tuple  of  date  and  title.757758  Example:759  >>>  get_news_articles(date_range=DateRange(start_date=Date("2022-01-01"),  end_date=Date("2022-01-31")),  head_entities=[ISOCode("USA"),  ISOCode("CHN")],  tail_entities=[ISOCode("USA"),  ISOCode("CHN")],  relations=[CAMEOCode("010")],  keywords=["trade"],  text_description="Economic  trade  is  encouraged  between  USA  and  China.")760  [(NewsArticle.date=Date("2022-01-15"),  NewsArticle.title="China  and  USA  sign  trade  deal"),  (NewsArticle.date=Date("2022-01-10"),  NewsArticle.title="Trade  agreement  between  USA  and  China")]761  """762  #  check  type763  if  date_range  and  not  isinstance(date_range,  DateRange):764  raise  ValueError(f"Input  ’date_range’  must  be  a  DateRange  object,  but  received  type  {type(date_range)}")765  if  head_entities  and  not  isinstance(head_entities,  list):766  raise  ValueError(f"Input  ’head_entities’  must  be  a  list,  but  received  type  {type(head_entities)}")767  if  head_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  head_entities):768  raise  ValueError(f"Elements  in  ’head_entities’  must  be  ISOCode  objects")769  if  tail_entities  and  not  isinstance(tail_entities,  list):770  raise  ValueError(f"Input  ’tail_entities’  must  be  a  list,  but  received  type  {type(tail_entities)}")771  if  tail_entities  and  not  all(isinstance(iso,  ISOCode)  for  iso  in  tail_entities):772  raise  ValueError(f"Elements  in  ’tail_entities’  must  be  ISOCode  objects")773  if  relations  and  not  isinstance(relations,  list):774  raise  ValueError(f"Input  ’relations’  must  be  a  list,  but  received  type  {type(relations)}")775  if  relations  and  not  all(isinstance(code,  CAMEOCode)  for  code  in  relations):776  raise  ValueError(f"Elements  in  ’relations’  must  be  CAMEOCode  objects")777  if  keywords  and  not  isinstance(keywords,  list):778  raise  ValueError(f"Input  ’keywords’  must  be  a  list,  but  received  type  {type(keywords)}")779  if  keywords  and  not  all(isinstance(keyword,  str)  for  keyword  in  keywords):780  raise  ValueError(f"Elements  in  ’keywords’  must  be  strings")781  if  text_description  and  not  isinstance(text_description,  str):782  raise  ValueError(f"Input  ’text_description’  must  be  a  string,  but  received  type  {type(text_description)}")783784  #  process  data_kg  by  filtering  based  on  the  specified  conditions785  curr_data  =  data_kg.copy()786  curr_data.drop_duplicates(subset=[’QuadEventCode’],  inplace=True)787  curr_data  =  curr_data[curr_data[’DateStr’]  <=  DEFAULT_END_DATE]788  if  date_range:789  curr_data  =  curr_data[790  (curr_data[’DateStr’]  >=  date_range.start_date.date)  &  (curr_data[’DateStr’]  <=  date_range.end_date.date)]791  if  head_entities:792  curr_data  =  curr_data[curr_data[’Actor1CountryCode’].isin([iso.code  for  iso  in  head_entities])]793  if  tail_entities:794  curr_data  =  curr_data[curr_data[’Actor2CountryCode’].isin([iso.code  for  iso  in  tail_entities])]795  if  relations:796  #  if  first  level  relations  are  listed,  include  all  second  level  relations  under  them797  for  code  in  relations:798  if  len(code.code)  ==  2:799  relations.extend([CAMEOCode(c)  for  c  in  dict_code2relation  if  c[:2]  ==  code.code  and  len(c)  ==  3])800  curr_data  =  curr_data[curr_data[’EventBaseCode’].isin([code.code  for  code  in  relations])]801  docids_list  =  [eval(docids)  for  docids  in  curr_data[’Docids’].unique().tolist()]802  docids  =  list(set([item  for  sublist  in  docids_list  for  item  in  sublist]))803  docids  =  [str(docid)  for  docid  in  docids]804  news_articles  =  data_news[data_news[’Docid’].isin(docids)]805  if  keywords:806  #  filter  the  news  articles  that  contain  at  least  one  of  the  keywords  in  the  title  or  text  string807  news_articles  =  news_articles[news_articles[’Title’].str.contains(’|’.join(keywords),  case=False)  |  news_articles[’Text’].str.contains(’|’.join(keywords),  case=False)]808  if  not  text_description:809  #  get  max  15  news  articles  from  the  filtered  data810  #  sorted  by  date  in  descending  order811  news_articles.sort_values(by=’Date’,  ascending=False,  inplace=True)812  news_articles  =  news_articles[[’Date’,  ’Title’]].head(15)813  return  [(Date(row[’Date’]),  row[’Title’])  for  _,  row  in  news_articles.iterrows()]814  else:815  #  get  the  max  15  news  articles  with  the  highest  BM25  score  to  the  text_description816  corpus  =  news_articles[’Title’]  +  ’  ’  +  news_articles[’Text’]817  tokenized_corpus  =  [doc.split("  ")  for  doc  in  corpus]818  bm25  =  BM25Okapi(tokenized_corpus)819  tokenized_query  =  text_description.split("  ")820  doc_scores  =  bm25.get_scores(tokenized_query)821  top_indices  =  np.argsort(doc_scores)[::-1][:15]822  news_articles  =  news_articles.iloc[top_indices]823  return  [(Date(row[’Date’]),  row[’Title’])  for  _,  row  in  news_articles.iterrows()]824825def  browse_news_article(date:  Date,  title:  str)  ->  str:826  """827  Retrieves  the  full  text  of  a  news  article  by  its  title.828829  Parameters:830  date  (Date):  The  date  of  the  news  article  to  retrieve.831  title  (str):  The  title  of  the  news  article  to  retrieve.832833  Returns:834  str:  The  date,  the  title  and  full  contents  of  the  news  article.835836  Example:837  >>>  browse_news_article(Date("2022-01-10"),  "Trade  agreement  between  USA  and  China")838  2022-01-10:839  Trade  agreement  between  USA  and  China840  On  January  10,  2022,  a  trade  agreement  was  signed  between  the  USA  and  China  to  promote  economic  cooperation...841  """842  #  check  type843  if  not  isinstance(date,  Date):844  raise  ValueError(f"Input  ’date’  must  be  a  Date  object,  but  received  type  {type(date)}")845  if  not  isinstance(title,  str):846  raise  ValueError(f"Input  ’title’  must  be  a  string,  but  received  type  {type(title)}")847848  #  process  data_news  to  find  the  news  article  with  the  specified  date  and  title849  curr_data  =  data_news[(data_news[’Date’]  ==  date.date)  &  (data_news[’Title’]  ==  title)]850  if  len(curr_data)  ==  0:851  raise  ValueError(f"No  news  article  found  with  the  specified  date  {date.date}  and  title  {title}")852  return  f"{date}:\n{title}\n{curr_data[’Text’].values[0]}"’'
  id: totrans-996
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
